// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

#pragma once
#include "CoreMinimal.h"
#include "BSATN/UESpacetimeDB.h"
#include "ModuleBindings/Types/SubscribeAppliedType.g.h"
#include "ModuleBindings/Types/SubscriptionErrorType.g.h"
#include "Kismet/BlueprintFunctionLibrary.h"
#include "ModuleBindings/Types/ReducerResultType.g.h"
#include "ModuleBindings/Types/TransactionUpdateType.g.h"
#include "ModuleBindings/Types/UnsubscribeAppliedType.g.h"
#include "ModuleBindings/Types/ProcedureResultType.g.h"
#include "ModuleBindings/Types/InitialConnectionType.g.h"
#include "ModuleBindings/Types/OneOffQueryResultType.g.h"
#include "ServerMessageType.g.generated.h"

UENUM(BlueprintType)
enum class EServerMessageTag : uint8
{
    InitialConnection,
    SubscribeApplied,
    UnsubscribeApplied,
    SubscriptionError,
    TransactionUpdate,
    OneOffQueryResult,
    ReducerResult,
    ProcedureResult
};

USTRUCT(BlueprintType)
struct SPACETIMEDBSDK_API FServerMessageType
{
    GENERATED_BODY()

public:
    FServerMessageType() = default;

    TVariant<FReducerResultType, FSubscribeAppliedType, FSubscriptionErrorType, FInitialConnectionType, FOneOffQueryResultType, FUnsubscribeAppliedType, FProcedureResultType, FTransactionUpdateType> MessageData;

    UPROPERTY(BlueprintReadOnly)
    EServerMessageTag Tag = static_cast<EServerMessageTag>(0);

    static FServerMessageType InitialConnection(const FInitialConnectionType& Value)
    {
        FServerMessageType Obj;
        Obj.Tag = EServerMessageTag::InitialConnection;
        Obj.MessageData.Set<FInitialConnectionType>(Value);
        return Obj;
    }

    static FServerMessageType SubscribeApplied(const FSubscribeAppliedType& Value)
    {
        FServerMessageType Obj;
        Obj.Tag = EServerMessageTag::SubscribeApplied;
        Obj.MessageData.Set<FSubscribeAppliedType>(Value);
        return Obj;
    }

    static FServerMessageType UnsubscribeApplied(const FUnsubscribeAppliedType& Value)
    {
        FServerMessageType Obj;
        Obj.Tag = EServerMessageTag::UnsubscribeApplied;
        Obj.MessageData.Set<FUnsubscribeAppliedType>(Value);
        return Obj;
    }

    static FServerMessageType SubscriptionError(const FSubscriptionErrorType& Value)
    {
        FServerMessageType Obj;
        Obj.Tag = EServerMessageTag::SubscriptionError;
        Obj.MessageData.Set<FSubscriptionErrorType>(Value);
        return Obj;
    }

    static FServerMessageType TransactionUpdate(const FTransactionUpdateType& Value)
    {
        FServerMessageType Obj;
        Obj.Tag = EServerMessageTag::TransactionUpdate;
        Obj.MessageData.Set<FTransactionUpdateType>(Value);
        return Obj;
    }

    static FServerMessageType OneOffQueryResult(const FOneOffQueryResultType& Value)
    {
        FServerMessageType Obj;
        Obj.Tag = EServerMessageTag::OneOffQueryResult;
        Obj.MessageData.Set<FOneOffQueryResultType>(Value);
        return Obj;
    }

    static FServerMessageType ReducerResult(const FReducerResultType& Value)
    {
        FServerMessageType Obj;
        Obj.Tag = EServerMessageTag::ReducerResult;
        Obj.MessageData.Set<FReducerResultType>(Value);
        return Obj;
    }

    static FServerMessageType ProcedureResult(const FProcedureResultType& Value)
    {
        FServerMessageType Obj;
        Obj.Tag = EServerMessageTag::ProcedureResult;
        Obj.MessageData.Set<FProcedureResultType>(Value);
        return Obj;
    }

    FORCEINLINE bool IsInitialConnection() const { return Tag == EServerMessageTag::InitialConnection; }

    FORCEINLINE FInitialConnectionType GetAsInitialConnection() const
    {
        ensureMsgf(IsInitialConnection(), TEXT("MessageData does not hold InitialConnection!"));
        return MessageData.Get<FInitialConnectionType>();
    }

    FORCEINLINE bool IsSubscribeApplied() const { return Tag == EServerMessageTag::SubscribeApplied; }

    FORCEINLINE FSubscribeAppliedType GetAsSubscribeApplied() const
    {
        ensureMsgf(IsSubscribeApplied(), TEXT("MessageData does not hold SubscribeApplied!"));
        return MessageData.Get<FSubscribeAppliedType>();
    }

    FORCEINLINE bool IsUnsubscribeApplied() const { return Tag == EServerMessageTag::UnsubscribeApplied; }

    FORCEINLINE FUnsubscribeAppliedType GetAsUnsubscribeApplied() const
    {
        ensureMsgf(IsUnsubscribeApplied(), TEXT("MessageData does not hold UnsubscribeApplied!"));
        return MessageData.Get<FUnsubscribeAppliedType>();
    }

    FORCEINLINE bool IsSubscriptionError() const { return Tag == EServerMessageTag::SubscriptionError; }

    FORCEINLINE FSubscriptionErrorType GetAsSubscriptionError() const
    {
        ensureMsgf(IsSubscriptionError(), TEXT("MessageData does not hold SubscriptionError!"));
        return MessageData.Get<FSubscriptionErrorType>();
    }

    FORCEINLINE bool IsTransactionUpdate() const { return Tag == EServerMessageTag::TransactionUpdate; }

    FORCEINLINE FTransactionUpdateType GetAsTransactionUpdate() const
    {
        ensureMsgf(IsTransactionUpdate(), TEXT("MessageData does not hold TransactionUpdate!"));
        return MessageData.Get<FTransactionUpdateType>();
    }

    FORCEINLINE bool IsOneOffQueryResult() const { return Tag == EServerMessageTag::OneOffQueryResult; }

    FORCEINLINE FOneOffQueryResultType GetAsOneOffQueryResult() const
    {
        ensureMsgf(IsOneOffQueryResult(), TEXT("MessageData does not hold OneOffQueryResult!"));
        return MessageData.Get<FOneOffQueryResultType>();
    }

    FORCEINLINE bool IsReducerResult() const { return Tag == EServerMessageTag::ReducerResult; }

    FORCEINLINE FReducerResultType GetAsReducerResult() const
    {
        ensureMsgf(IsReducerResult(), TEXT("MessageData does not hold ReducerResult!"));
        return MessageData.Get<FReducerResultType>();
    }

    FORCEINLINE bool IsProcedureResult() const { return Tag == EServerMessageTag::ProcedureResult; }

    FORCEINLINE FProcedureResultType GetAsProcedureResult() const
    {
        ensureMsgf(IsProcedureResult(), TEXT("MessageData does not hold ProcedureResult!"));
        return MessageData.Get<FProcedureResultType>();
    }

    // Inline equality operators
    FORCEINLINE bool operator==(const FServerMessageType& Other) const
    {
        if (Tag != Other.Tag) return false;

        switch (Tag)
        {
            case EServerMessageTag::InitialConnection:
                return GetAsInitialConnection() == Other.GetAsInitialConnection();
            case EServerMessageTag::SubscribeApplied:
                return GetAsSubscribeApplied() == Other.GetAsSubscribeApplied();
            case EServerMessageTag::UnsubscribeApplied:
                return GetAsUnsubscribeApplied() == Other.GetAsUnsubscribeApplied();
            case EServerMessageTag::SubscriptionError:
                return GetAsSubscriptionError() == Other.GetAsSubscriptionError();
            case EServerMessageTag::TransactionUpdate:
                return GetAsTransactionUpdate() == Other.GetAsTransactionUpdate();
            case EServerMessageTag::OneOffQueryResult:
                return GetAsOneOffQueryResult() == Other.GetAsOneOffQueryResult();
            case EServerMessageTag::ReducerResult:
                return GetAsReducerResult() == Other.GetAsReducerResult();
            case EServerMessageTag::ProcedureResult:
                return GetAsProcedureResult() == Other.GetAsProcedureResult();
            default:
                return false;
        }
    }

    FORCEINLINE bool operator!=(const FServerMessageType& Other) const
    {
        return !(*this == Other);
    }
};

/**
 * Custom hash function for FServerMessageType.
 * Combines the hashes of all fields that are compared in operator==.
 * @param ServerMessageType The FServerMessageType instance to hash.
 * @return The combined hash value.
 */
FORCEINLINE uint32 GetTypeHash(const FServerMessageType& ServerMessage)
{
    const uint32 TagHash = GetTypeHash(static_cast<uint8>(ServerMessage.Tag));
    switch (ServerMessage.Tag)
    {
        case EServerMessageTag::InitialConnection: return HashCombine(TagHash, ::GetTypeHash(ServerMessage.GetAsInitialConnection()));
        case EServerMessageTag::SubscribeApplied: return HashCombine(TagHash, ::GetTypeHash(ServerMessage.GetAsSubscribeApplied()));
        case EServerMessageTag::UnsubscribeApplied: return HashCombine(TagHash, ::GetTypeHash(ServerMessage.GetAsUnsubscribeApplied()));
        case EServerMessageTag::SubscriptionError: return HashCombine(TagHash, ::GetTypeHash(ServerMessage.GetAsSubscriptionError()));
        case EServerMessageTag::TransactionUpdate: return HashCombine(TagHash, ::GetTypeHash(ServerMessage.GetAsTransactionUpdate()));
        case EServerMessageTag::OneOffQueryResult: return HashCombine(TagHash, ::GetTypeHash(ServerMessage.GetAsOneOffQueryResult()));
        case EServerMessageTag::ReducerResult: return HashCombine(TagHash, ::GetTypeHash(ServerMessage.GetAsReducerResult()));
        case EServerMessageTag::ProcedureResult: return HashCombine(TagHash, ::GetTypeHash(ServerMessage.GetAsProcedureResult()));
        default: return TagHash;
    }
}

namespace UE::SpacetimeDB
{
    UE_SPACETIMEDB_ENABLE_TARRAY(FServerMessageType);

    UE_SPACETIMEDB_TAGGED_ENUM(
        FServerMessageType,
        EServerMessageTag,
        MessageData,
        InitialConnection, FInitialConnectionType,
        SubscribeApplied, FSubscribeAppliedType,
        UnsubscribeApplied, FUnsubscribeAppliedType,
        SubscriptionError, FSubscriptionErrorType,
        TransactionUpdate, FTransactionUpdateType,
        OneOffQueryResult, FOneOffQueryResultType,
        ReducerResult, FReducerResultType,
        ProcedureResult, FProcedureResultType
    );
}

UCLASS()
class SPACETIMEDBSDK_API UServerMessageBpLib : public UBlueprintFunctionLibrary
{
    GENERATED_BODY()

private:
    UFUNCTION(BlueprintCallable, Category = "SpacetimeDB|ServerMessage")
    static FServerMessageType InitialConnection(const FInitialConnectionType& InValue)
    {
        return FServerMessageType::InitialConnection(InValue);
    }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static bool IsInitialConnection(const FServerMessageType& InValue) { return InValue.IsInitialConnection(); }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static FInitialConnectionType GetAsInitialConnection(const FServerMessageType& InValue)
    {
        return InValue.GetAsInitialConnection();
    }

    UFUNCTION(BlueprintCallable, Category = "SpacetimeDB|ServerMessage")
    static FServerMessageType SubscribeApplied(const FSubscribeAppliedType& InValue)
    {
        return FServerMessageType::SubscribeApplied(InValue);
    }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static bool IsSubscribeApplied(const FServerMessageType& InValue) { return InValue.IsSubscribeApplied(); }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static FSubscribeAppliedType GetAsSubscribeApplied(const FServerMessageType& InValue)
    {
        return InValue.GetAsSubscribeApplied();
    }

    UFUNCTION(BlueprintCallable, Category = "SpacetimeDB|ServerMessage")
    static FServerMessageType UnsubscribeApplied(const FUnsubscribeAppliedType& InValue)
    {
        return FServerMessageType::UnsubscribeApplied(InValue);
    }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static bool IsUnsubscribeApplied(const FServerMessageType& InValue) { return InValue.IsUnsubscribeApplied(); }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static FUnsubscribeAppliedType GetAsUnsubscribeApplied(const FServerMessageType& InValue)
    {
        return InValue.GetAsUnsubscribeApplied();
    }

    UFUNCTION(BlueprintCallable, Category = "SpacetimeDB|ServerMessage")
    static FServerMessageType SubscriptionError(const FSubscriptionErrorType& InValue)
    {
        return FServerMessageType::SubscriptionError(InValue);
    }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static bool IsSubscriptionError(const FServerMessageType& InValue) { return InValue.IsSubscriptionError(); }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static FSubscriptionErrorType GetAsSubscriptionError(const FServerMessageType& InValue)
    {
        return InValue.GetAsSubscriptionError();
    }

    UFUNCTION(BlueprintCallable, Category = "SpacetimeDB|ServerMessage")
    static FServerMessageType TransactionUpdate(const FTransactionUpdateType& InValue)
    {
        return FServerMessageType::TransactionUpdate(InValue);
    }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static bool IsTransactionUpdate(const FServerMessageType& InValue) { return InValue.IsTransactionUpdate(); }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static FTransactionUpdateType GetAsTransactionUpdate(const FServerMessageType& InValue)
    {
        return InValue.GetAsTransactionUpdate();
    }

    UFUNCTION(BlueprintCallable, Category = "SpacetimeDB|ServerMessage")
    static FServerMessageType OneOffQueryResult(const FOneOffQueryResultType& InValue)
    {
        return FServerMessageType::OneOffQueryResult(InValue);
    }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static bool IsOneOffQueryResult(const FServerMessageType& InValue) { return InValue.IsOneOffQueryResult(); }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static FOneOffQueryResultType GetAsOneOffQueryResult(const FServerMessageType& InValue)
    {
        return InValue.GetAsOneOffQueryResult();
    }

    UFUNCTION(BlueprintCallable, Category = "SpacetimeDB|ServerMessage")
    static FServerMessageType ReducerResult(const FReducerResultType& InValue)
    {
        return FServerMessageType::ReducerResult(InValue);
    }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static bool IsReducerResult(const FServerMessageType& InValue) { return InValue.IsReducerResult(); }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static FReducerResultType GetAsReducerResult(const FServerMessageType& InValue)
    {
        return InValue.GetAsReducerResult();
    }

    UFUNCTION(BlueprintCallable, Category = "SpacetimeDB|ServerMessage")
    static FServerMessageType ProcedureResult(const FProcedureResultType& InValue)
    {
        return FServerMessageType::ProcedureResult(InValue);
    }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static bool IsProcedureResult(const FServerMessageType& InValue) { return InValue.IsProcedureResult(); }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ServerMessage")
    static FProcedureResultType GetAsProcedureResult(const FServerMessageType& InValue)
    {
        return InValue.GetAsProcedureResult();
    }

};
