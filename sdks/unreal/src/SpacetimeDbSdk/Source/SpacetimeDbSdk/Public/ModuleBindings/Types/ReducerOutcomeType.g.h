// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

#pragma once
#include "CoreMinimal.h"
#include "BSATN/UESpacetimeDB.h"
#include "Kismet/BlueprintFunctionLibrary.h"
#include "Types/UnitType.h"
#include "ModuleBindings/Types/ReducerOkType.g.h"
#include "ReducerOutcomeType.g.generated.h"

UENUM(BlueprintType)
enum class EReducerOutcomeTag : uint8
{
    Ok,
    OkEmpty,
    Err,
    InternalError
};

USTRUCT(BlueprintType)
struct SPACETIMEDBSDK_API FReducerOutcomeType
{
    GENERATED_BODY()

public:
    FReducerOutcomeType() = default;

    TVariant<FReducerOkType, FString, TArray<uint8>, FSpacetimeDBUnit> MessageData;

    UPROPERTY(BlueprintReadOnly)
    EReducerOutcomeTag Tag = static_cast<EReducerOutcomeTag>(0);

    static FReducerOutcomeType Ok(const FReducerOkType& Value)
    {
        FReducerOutcomeType Obj;
        Obj.Tag = EReducerOutcomeTag::Ok;
        Obj.MessageData.Set<FReducerOkType>(Value);
        return Obj;
    }

    static FReducerOutcomeType OkEmpty(const FSpacetimeDBUnit& Value)
    {
        FReducerOutcomeType Obj;
        Obj.Tag = EReducerOutcomeTag::OkEmpty;
        Obj.MessageData.Set<FSpacetimeDBUnit>(Value);
        return Obj;
    }

    static FReducerOutcomeType Err(const TArray<uint8>& Value)
    {
        FReducerOutcomeType Obj;
        Obj.Tag = EReducerOutcomeTag::Err;
        Obj.MessageData.Set<TArray<uint8>>(Value);
        return Obj;
    }

    static FReducerOutcomeType InternalError(const FString& Value)
    {
        FReducerOutcomeType Obj;
        Obj.Tag = EReducerOutcomeTag::InternalError;
        Obj.MessageData.Set<FString>(Value);
        return Obj;
    }

    FORCEINLINE bool IsOk() const { return Tag == EReducerOutcomeTag::Ok; }

    FORCEINLINE FReducerOkType GetAsOk() const
    {
        ensureMsgf(IsOk(), TEXT("MessageData does not hold Ok!"));
        return MessageData.Get<FReducerOkType>();
    }

    FORCEINLINE bool IsOkEmpty() const { return Tag == EReducerOutcomeTag::OkEmpty; }

    FORCEINLINE FSpacetimeDBUnit GetAsOkEmpty() const
    {
        ensureMsgf(IsOkEmpty(), TEXT("MessageData does not hold OkEmpty!"));
        return MessageData.Get<FSpacetimeDBUnit>();
    }

    FORCEINLINE bool IsErr() const { return Tag == EReducerOutcomeTag::Err; }

    FORCEINLINE TArray<uint8> GetAsErr() const
    {
        ensureMsgf(IsErr(), TEXT("MessageData does not hold Err!"));
        return MessageData.Get<TArray<uint8>>();
    }

    FORCEINLINE bool IsInternalError() const { return Tag == EReducerOutcomeTag::InternalError; }

    FORCEINLINE FString GetAsInternalError() const
    {
        ensureMsgf(IsInternalError(), TEXT("MessageData does not hold InternalError!"));
        return MessageData.Get<FString>();
    }

    // Inline equality operators
    FORCEINLINE bool operator==(const FReducerOutcomeType& Other) const
    {
        if (Tag != Other.Tag) return false;

        switch (Tag)
        {
            case EReducerOutcomeTag::Ok:
                return GetAsOk() == Other.GetAsOk();
            case EReducerOutcomeTag::OkEmpty:
                return GetAsOkEmpty() == Other.GetAsOkEmpty();
            case EReducerOutcomeTag::Err:
                return GetAsErr() == Other.GetAsErr();
            case EReducerOutcomeTag::InternalError:
                return GetAsInternalError() == Other.GetAsInternalError();
            default:
                return false;
        }
    }

    FORCEINLINE bool operator!=(const FReducerOutcomeType& Other) const
    {
        return !(*this == Other);
    }
};

/**
 * Custom hash function for FReducerOutcomeType.
 * Combines the hashes of all fields that are compared in operator==.
 * @param ReducerOutcomeType The FReducerOutcomeType instance to hash.
 * @return The combined hash value.
 */
FORCEINLINE uint32 GetTypeHash(const FReducerOutcomeType& ReducerOutcome)
{
    const uint32 TagHash = GetTypeHash(static_cast<uint8>(ReducerOutcome.Tag));
    switch (ReducerOutcome.Tag)
    {
        case EReducerOutcomeTag::Ok: return HashCombine(TagHash, ::GetTypeHash(ReducerOutcome.GetAsOk()));
        case EReducerOutcomeTag::OkEmpty: return HashCombine(TagHash, ::GetTypeHash(ReducerOutcome.GetAsOkEmpty()));
        case EReducerOutcomeTag::Err: return HashCombine(TagHash, ::GetTypeHash(ReducerOutcome.GetAsErr()));
        case EReducerOutcomeTag::InternalError: return HashCombine(TagHash, GetTypeHash(ReducerOutcome.GetAsInternalError()));
        default: return TagHash;
    }
}

namespace UE::SpacetimeDB
{
    UE_SPACETIMEDB_ENABLE_TARRAY(FReducerOutcomeType);

    UE_SPACETIMEDB_TAGGED_ENUM(
        FReducerOutcomeType,
        EReducerOutcomeTag,
        MessageData,
        Ok, FReducerOkType,
        OkEmpty, FSpacetimeDBUnit,
        Err, TArray<uint8>,
        InternalError, FString
    );
}

UCLASS()
class SPACETIMEDBSDK_API UReducerOutcomeBpLib : public UBlueprintFunctionLibrary
{
    GENERATED_BODY()

private:
    UFUNCTION(BlueprintCallable, Category = "SpacetimeDB|ReducerOutcome")
    static FReducerOutcomeType Ok(const FReducerOkType& InValue)
    {
        return FReducerOutcomeType::Ok(InValue);
    }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ReducerOutcome")
    static bool IsOk(const FReducerOutcomeType& InValue) { return InValue.IsOk(); }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ReducerOutcome")
    static FReducerOkType GetAsOk(const FReducerOutcomeType& InValue)
    {
        return InValue.GetAsOk();
    }

    UFUNCTION(BlueprintCallable, Category = "SpacetimeDB|ReducerOutcome")
    static FReducerOutcomeType OkEmpty(const FSpacetimeDBUnit& InValue)
    {
        return FReducerOutcomeType::OkEmpty(InValue);
    }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ReducerOutcome")
    static bool IsOkEmpty(const FReducerOutcomeType& InValue) { return InValue.IsOkEmpty(); }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ReducerOutcome")
    static FSpacetimeDBUnit GetAsOkEmpty(const FReducerOutcomeType& InValue)
    {
        return InValue.GetAsOkEmpty();
    }

    UFUNCTION(BlueprintCallable, Category = "SpacetimeDB|ReducerOutcome")
    static FReducerOutcomeType Err(const TArray<uint8>& InValue)
    {
        return FReducerOutcomeType::Err(InValue);
    }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ReducerOutcome")
    static bool IsErr(const FReducerOutcomeType& InValue) { return InValue.IsErr(); }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ReducerOutcome")
    static TArray<uint8> GetAsErr(const FReducerOutcomeType& InValue)
    {
        return InValue.GetAsErr();
    }

    UFUNCTION(BlueprintCallable, Category = "SpacetimeDB|ReducerOutcome")
    static FReducerOutcomeType InternalError(const FString& InValue)
    {
        return FReducerOutcomeType::InternalError(InValue);
    }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ReducerOutcome")
    static bool IsInternalError(const FReducerOutcomeType& InValue) { return InValue.IsInternalError(); }

    UFUNCTION(BlueprintPure, Category = "SpacetimeDB|ReducerOutcome")
    static FString GetAsInternalError(const FReducerOutcomeType& InValue)
    {
        return InValue.GetAsInternalError();
    }

};
