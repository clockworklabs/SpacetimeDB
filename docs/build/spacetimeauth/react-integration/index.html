<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-SpacetimeAuth/React-Integration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">React Integration | SpacetimeDB docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.spacetimedb.com/spacetimeauth/react-integration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="React Integration | SpacetimeDB docs"><meta data-rh="true" name="description" content="SpacetimeAuth is currently in beta, some features may not be available yet or may change in the future. You might encounter bugs or issues while using the service. Please report any problems you encounter to help us improve SpacetimeAuth."><meta data-rh="true" property="og:description" content="SpacetimeAuth is currently in beta, some features may not be available yet or may change in the future. You might encounter bugs or issues while using the service. Please report any problems you encounter to help us improve SpacetimeAuth."><link data-rh="true" rel="icon" href="/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.spacetimedb.com/spacetimeauth/react-integration"><link data-rh="true" rel="alternate" href="https://docs.spacetimedb.com/spacetimeauth/react-integration" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.spacetimedb.com/spacetimeauth/react-integration" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QBC7Z9KXS2-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"React Integration","item":"https://docs.spacetimedb.com/spacetimeauth/react-integration"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="SpacetimeDB docs" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.0cb9f7a7.css">
<script src="/assets/js/runtime~main.d71df0f5.js" defer="defer"></script>
<script src="/assets/js/main.31d95d83.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","light"),document.documentElement.setAttribute("data-theme-choice","light"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="https://spacetimedb.com/images/brand.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_6jFv" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="https://spacetimedb.com/images/brand.png" alt="SpacetimeDB Logo" class="themedComponent_rvet themedComponent--light_mbAJ"><img src="https://spacetimedb.com/images/brand.png" alt="SpacetimeDB Logo" class="themedComponent_rvet themedComponent--dark_Ncy6"></div></a><div class="navbarSearchContainer_AesG"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://spacetimedb.com/install" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Install</a><a href="https://spacetimedb.com/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Pricing</a><a href="https://spacetimedb.com/maincloud" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Maincloud</a><a href="https://spacetimedb.com/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://spacetimedb.com/community" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_hV_y"><div class="docsWrapper_f07g"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_MJiz" type="button"></button><div class="docRoot_Gd2s"><aside class="theme-doc-sidebar-container docSidebarContainer_fSpF"><div class="sidebarViewport_YElg"><div class="sidebar_kjg4"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_AG0n"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ggI5 menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/"><span title="Intro" class="categoryLinkLabel_EDYQ">Intro</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ggI5 menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/deploying/maincloud"><span title="Deploying" class="categoryLinkLabel_EDYQ">Deploying</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ggI5 menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/unity"><span title="Unity tutorial" class="categoryLinkLabel_EDYQ">Unity tutorial</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ggI5 menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/unreal"><span title="Unreal Tutorial" class="categoryLinkLabel_EDYQ">Unreal Tutorial</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ggI5 menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/cli-reference"><span title="CLI Reference" class="categoryLinkLabel_EDYQ">CLI Reference</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ggI5 menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/modules"><span title="Server Module Languages" class="categoryLinkLabel_EDYQ">Server Module Languages</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ggI5 menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/sdks"><span title="Client SDK Languages" class="categoryLinkLabel_EDYQ">Client SDK Languages</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ggI5 menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/sql"><span title="SQL" class="categoryLinkLabel_EDYQ">SQL</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ggI5 menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/subscriptions"><span title="Subscriptions" class="categoryLinkLabel_EDYQ">Subscriptions</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rls"><span title="Row Level Security" class="linkLabel_dpMB">Row Level Security</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ggI5 menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/how-to/incremental-migrations"><span title="How-To" class="categoryLinkLabel_EDYQ">How-To</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_ggI5 menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/spacetimeauth"><span title="SpacetimeAuth" class="categoryLinkLabel_EDYQ">SpacetimeAuth</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/spacetimeauth"><span title="Overview" class="linkLabel_dpMB">Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/spacetimeauth/creating-a-project"><span title="Creating a project" class="linkLabel_dpMB">Creating a project</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/spacetimeauth/configuring-a-project"><span title="Configuring your project" class="linkLabel_dpMB">Configuring your project</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/spacetimeauth/testing"><span title="Testing" class="linkLabel_dpMB">Testing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/spacetimeauth/react-integration"><span title="React Integration" class="linkLabel_dpMB">React Integration</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ggI5 menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/http/authorization"><span title="HTTP API" class="categoryLinkLabel_EDYQ">HTTP API</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_ggI5 menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/webassembly-abi"><span title="Internals" class="categoryLinkLabel_EDYQ">Internals</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/appendix"><span title="Appendix" class="linkLabel_dpMB">Appendix</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_dkUT"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_w2oE"><div class="docItemContainer_f71m"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_xsLZ" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_oyay"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">SpacetimeAuth</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">React Integration</span></li></ul></nav><div class="tocCollapsible_dqme theme-doc-toc-mobile tocMobile_Z34P"><button type="button" class="clean-btn tocCollapsibleButton_QMSE">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>React Integration</h1></header>
<div class="theme-admonition theme-admonition-warning admonition_scYj alert alert--warning"><div class="admonitionHeading_zhQc"><span class="admonitionIcon_kfZz"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_O7JJ"><p>SpacetimeAuth is currently in beta, some features may not be available yet or may change in the future. You might encounter bugs or issues while using the service. Please report any problems you encounter to help us improve SpacetimeAuth.</p></div></div>
<p>This guide will walk you through integrating SpacetimeAuth into a React
application using the <a href="https://www.npmjs.com/package/react-oidc-context" target="_blank" rel="noopener noreferrer">react-oidc-context</a>
library.
This library provides a simple way to handle OpenID Connect (OIDC) authentication
in React.</p>
<h2 class="anchor anchorWithStickyNavbar_wKCU" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h2>
<ol>
<li>Create a SpacetimeAuth project and configure a client as described in the
<a href="/spacetimeauth/creating-a-project">Getting Started</a> and
<a href="/spacetimeauth/configuring-a-project">Configuration</a> guides.</li>
<li>Have a React application set up. You can use Create React App or any other
React framework.</li>
<li>Install the <code>react-oidc-context</code> package in your React application:</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_wKCU" id="configuring-react-oidc-context">Configuring react-oidc-context<a href="#configuring-react-oidc-context" class="hash-link" aria-label="Direct link to Configuring react-oidc-context" title="Direct link to Configuring react-oidc-context" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_wKCU" id="1-add-an-oidc-configuration-object">1. Add an OIDC configuration object<a href="#1-add-an-oidc-configuration-object" class="hash-link" aria-label="Direct link to 1. Add an OIDC configuration object" title="Direct link to 1. Add an OIDC configuration object" translate="no">​</a></h3>
<p>Create an OIDC configuration object with your SpacetimeAuth project details.
Make sure to replace <code>YOUR_CLIENT_ID</code> with the actual client ID from your
SpacetimeAuth dashboard.</p>
<pre tabindex="0" class="codeBlockStandalone_pMzE thin-scrollbar codeBlockContainer_HZVP theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_ckKi"><span class="line"><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> oidcConfig </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">  authority</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &#x27;</span><span style="color:#F1FA8C">https://spacetimeauth.staging.spacetimedb.com/oidc</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">  client_id</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &#x27;</span><span style="color:#F1FA8C">YOUR_CLIENT_ID</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">  redirect_uri</span><span style="color:#FF79C6">:</span><span style="color:#F1FA8C"> `</span><span style="color:#FF79C6">${</span><span style="color:#F8F8F2">window.location.origin</span><span style="color:#FF79C6">}</span><span style="color:#F1FA8C">/callback`</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">  scope</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &#x27;</span><span style="color:#F1FA8C">openid profile email</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">  response_type</span><span style="color:#FF79C6">:</span><span style="color:#E9F284"> &#x27;</span><span style="color:#F1FA8C">code</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">  automaticSilentRenew</span><span style="color:#FF79C6">:</span><span style="color:#BD93F9"> true</span><span style="color:#F8F8F2">,</span></span>
<span class="line"><span style="color:#F8F8F2">};</span></span></code></pre>
<h3 class="anchor anchorWithStickyNavbar_wKCU" id="2-create-a-debug-component">2. Create a debug component<a href="#2-create-a-debug-component" class="hash-link" aria-label="Direct link to 2. Create a debug component" title="Direct link to 2. Create a debug component" translate="no">​</a></h3>
<p>This component will log various authentication events and state changes to
the console for debugging purposes.</p>
<pre tabindex="0" class="codeBlockStandalone_pMzE thin-scrollbar codeBlockContainer_HZVP theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_ckKi"><span class="line"><span style="color:#FF79C6">export</span><span style="color:#FF79C6"> function</span><span style="color:#50FA7B"> OidcDebug</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#FF79C6">  const</span><span style="color:#F8F8F2"> auth </span><span style="color:#FF79C6">=</span><span style="color:#50FA7B"> useAuth</span><span style="color:#F8F8F2">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">  useEffect</span><span style="color:#F8F8F2">(() </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#FF79C6">    const</span><span style="color:#F8F8F2"> ev </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> auth.events;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    const</span><span style="color:#50FA7B"> onUserLoaded</span><span style="color:#FF79C6"> =</span><span style="color:#F8F8F2"> (</span><span style="color:#FFB86C;font-style:italic">u</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> any</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=&gt;</span></span>
<span class="line"><span style="color:#F8F8F2">      console.</span><span style="color:#50FA7B">log</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#x27;</span><span style="color:#F1FA8C">[OIDC] userLoaded</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">, u?.profile?.sub, u);</span></span>
<span class="line"><span style="color:#FF79C6">    const</span><span style="color:#50FA7B"> onUserUnloaded</span><span style="color:#FF79C6"> =</span><span style="color:#F8F8F2"> () </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> console.</span><span style="color:#50FA7B">log</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#x27;</span><span style="color:#F1FA8C">[OIDC] userUnloaded</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#FF79C6">    const</span><span style="color:#50FA7B"> onAccessTokenExpiring</span><span style="color:#FF79C6"> =</span><span style="color:#F8F8F2"> () </span><span style="color:#FF79C6">=&gt;</span></span>
<span class="line"><span style="color:#F8F8F2">      console.</span><span style="color:#50FA7B">log</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#x27;</span><span style="color:#F1FA8C">[OIDC] accessTokenExpiring</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#FF79C6">    const</span><span style="color:#50FA7B"> onAccessTokenExpired</span><span style="color:#FF79C6"> =</span><span style="color:#F8F8F2"> () </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> console.</span><span style="color:#50FA7B">log</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#x27;</span><span style="color:#F1FA8C">[OIDC] accessTokenExpired</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#FF79C6">    const</span><span style="color:#50FA7B"> onSilentRenewError</span><span style="color:#FF79C6"> =</span><span style="color:#F8F8F2"> (</span><span style="color:#FFB86C;font-style:italic">e</span><span style="color:#FF79C6">:</span><span style="color:#8BE9FD;font-style:italic"> any</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">=&gt;</span></span>
<span class="line"><span style="color:#F8F8F2">      console.</span><span style="color:#50FA7B">warn</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#x27;</span><span style="color:#F1FA8C">[OIDC] silentRenewError</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">, e);</span></span>
<span class="line"><span style="color:#FF79C6">    const</span><span style="color:#50FA7B"> onUserSignedOut</span><span style="color:#FF79C6"> =</span><span style="color:#F8F8F2"> () </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> console.</span><span style="color:#50FA7B">log</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#x27;</span><span style="color:#F1FA8C">[OIDC] userSignedOut</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2">    ev.</span><span style="color:#50FA7B">addUserLoaded</span><span style="color:#F8F8F2">(onUserLoaded);</span></span>
<span class="line"><span style="color:#F8F8F2">    ev.</span><span style="color:#50FA7B">addUserUnloaded</span><span style="color:#F8F8F2">(onUserUnloaded);</span></span>
<span class="line"><span style="color:#F8F8F2">    ev.</span><span style="color:#50FA7B">addAccessTokenExpiring</span><span style="color:#F8F8F2">(onAccessTokenExpiring);</span></span>
<span class="line"><span style="color:#F8F8F2">    ev.</span><span style="color:#50FA7B">addAccessTokenExpired</span><span style="color:#F8F8F2">(onAccessTokenExpired);</span></span>
<span class="line"><span style="color:#F8F8F2">    ev.</span><span style="color:#50FA7B">addSilentRenewError</span><span style="color:#F8F8F2">(onSilentRenewError);</span></span>
<span class="line"><span style="color:#F8F8F2">    ev.</span><span style="color:#50FA7B">addUserSignedOut</span><span style="color:#F8F8F2">(onUserSignedOut);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">    return</span><span style="color:#F8F8F2"> () </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">      ev.</span><span style="color:#50FA7B">removeUserLoaded</span><span style="color:#F8F8F2">(onUserLoaded);</span></span>
<span class="line"><span style="color:#F8F8F2">      ev.</span><span style="color:#50FA7B">removeUserUnloaded</span><span style="color:#F8F8F2">(onUserUnloaded);</span></span>
<span class="line"><span style="color:#F8F8F2">      ev.</span><span style="color:#50FA7B">removeAccessTokenExpiring</span><span style="color:#F8F8F2">(onAccessTokenExpiring);</span></span>
<span class="line"><span style="color:#F8F8F2">      ev.</span><span style="color:#50FA7B">removeAccessTokenExpired</span><span style="color:#F8F8F2">(onAccessTokenExpired);</span></span>
<span class="line"><span style="color:#F8F8F2">      ev.</span><span style="color:#50FA7B">removeSilentRenewError</span><span style="color:#F8F8F2">(onSilentRenewError);</span></span>
<span class="line"><span style="color:#F8F8F2">      ev.</span><span style="color:#50FA7B">removeUserSignedOut</span><span style="color:#F8F8F2">(onUserSignedOut);</span></span>
<span class="line"><span style="color:#F8F8F2">    };</span></span>
<span class="line"><span style="color:#F8F8F2">  }, [auth.events]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">  useEffect</span><span style="color:#F8F8F2">(() </span><span style="color:#FF79C6">=&gt;</span><span style="color:#F8F8F2"> {</span></span>
<span class="line"><span style="color:#F8F8F2">    console.</span><span style="color:#50FA7B">log</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&#x27;</span><span style="color:#F1FA8C">[OIDC] state</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">, {</span></span>
<span class="line"><span style="color:#F8F8F2">      isLoading</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> auth.isLoading,</span></span>
<span class="line"><span style="color:#F8F8F2">      isAuthenticated</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> auth.isAuthenticated,</span></span>
<span class="line"><span style="color:#F8F8F2">      error</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> auth.error?.message,</span></span>
<span class="line"><span style="color:#F8F8F2">      activeNavigator</span><span style="color:#FF79C6">:</span><span style="color:#F8F8F2"> auth.activeNavigator,</span></span>
<span class="line"><span style="color:#F8F8F2">      user</span><span style="color:#FF79C6">:</span><span style="color:#FF79C6"> !!</span><span style="color:#F8F8F2">auth.user,</span></span>
<span class="line"><span style="color:#F8F8F2">    });</span></span>
<span class="line"><span style="color:#F8F8F2">  }, [</span></span>
<span class="line"><span style="color:#F8F8F2">    auth.isLoading,</span></span>
<span class="line"><span style="color:#F8F8F2">    auth.isAuthenticated,</span></span>
<span class="line"><span style="color:#F8F8F2">    auth.error,</span></span>
<span class="line"><span style="color:#F8F8F2">    auth.activeNavigator,</span></span>
<span class="line"><span style="color:#F8F8F2">    auth.user,</span></span>
<span class="line"><span style="color:#F8F8F2">  ]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">  return</span><span style="color:#BD93F9"> null</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span></code></pre>
<h3 class="anchor anchorWithStickyNavbar_wKCU" id="3-wrap-your-application-with-authprovider">3. Wrap Your Application with AuthProvider<a href="#3-wrap-your-application-with-authprovider" class="hash-link" aria-label="Direct link to 3. Wrap Your Application with AuthProvider" title="Direct link to 3. Wrap Your Application with AuthProvider" translate="no">​</a></h3>
<p>Wrap your React application with the <code>AuthProvider</code> component to provide
authentication context.</p>
<pre tabindex="0" class="codeBlockStandalone_pMzE thin-scrollbar codeBlockContainer_HZVP theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_ckKi"><span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> React </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> &#x27;</span><span style="color:#F1FA8C">react</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> ReactDOM </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> &#x27;</span><span style="color:#F1FA8C">react-dom/client</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { AuthProvider, useAuth } </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> &#x27;</span><span style="color:#F1FA8C">react-oidc-context</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> App </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> &#x27;</span><span style="color:#F1FA8C">./App</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"><span style="color:#FF79C6">import</span><span style="color:#F8F8F2"> { OidcDebug } </span><span style="color:#FF79C6">from</span><span style="color:#E9F284"> &#x27;</span><span style="color:#F1FA8C">./OidcDebug</span><span style="color:#E9F284">&#x27;</span><span style="color:#F8F8F2">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> oidcConfig </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> {</span><span style="color:#FF79C6">...</span><span style="color:#F8F8F2">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">function</span><span style="color:#50FA7B"> onSigninCallback</span><span style="color:#F8F8F2">() {</span></span>
<span class="line"><span style="color:#F8F8F2">  window.history.</span><span style="color:#50FA7B">replaceState</span><span style="color:#F8F8F2">({}, document.title, window.location.pathname);</span></span>
<span class="line"><span style="color:#F8F8F2">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">const</span><span style="color:#F8F8F2"> root </span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2"> ReactDOM.</span><span style="color:#50FA7B">createRoot</span><span style="color:#F8F8F2">(document.</span><span style="color:#50FA7B">getElementById</span><span style="color:#F8F8F2">(</span><span style="color:#E9F284">&quot;</span><span style="color:#F1FA8C">root</span><span style="color:#E9F284">&quot;</span><span style="color:#F8F8F2">) </span><span style="color:#FF79C6">as</span><span style="color:#8BE9FD;font-style:italic"> HTMLElement</span><span style="color:#F8F8F2">);</span></span>
<span class="line"><span style="color:#F8F8F2">root.</span><span style="color:#50FA7B">render</span><span style="color:#F8F8F2">(</span></span>
<span class="line"><span style="color:#F8F8F2">  &lt;</span><span style="color:#8BE9FD;font-style:italic">AuthProvider</span><span style="color:#F8F8F2"> {</span><span style="color:#FF79C6">...</span><span style="color:#F8F8F2">oidcConfig} </span><span style="color:#50FA7B;font-style:italic">onSigninCallback</span><span style="color:#FF79C6">=</span><span style="color:#F8F8F2">{onSigninCallback}&gt;</span></span>
<span class="line"><span style="color:#F8F8F2">    &lt;</span><span style="color:#8BE9FD;font-style:italic">OidcDebug</span><span style="color:#F8F8F2"> /&gt;</span></span>
<span class="line"><span style="color:#F8F8F2">    &lt;</span><span style="color:#8BE9FD;font-style:italic">App</span><span style="color:#F8F8F2"> /&gt;</span></span>
<span class="line"><span style="color:#F8F8F2">  &lt;/</span><span style="color:#8BE9FD;font-style:italic">AuthProvider</span><span style="color:#F8F8F2">&gt;</span></span>
<span class="line"><span style="color:#F8F8F2">);</span></span>
<span class="line"></span></code></pre>
<p>You&#x27;re now set up to use SpacetimeAuth in your React application. When users
access your app, they will be redirected to the SpacetimeAuth login page for authentication.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/spacetimeauth/testing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Testing</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/http/authorization"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Authorization</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_Ea_L thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#configuring-react-oidc-context" class="table-of-contents__link toc-highlight">Configuring react-oidc-context</a><ul><li><a href="#1-add-an-oidc-configuration-object" class="table-of-contents__link toc-highlight">1. Add an OIDC configuration object</a></li><li><a href="#2-create-a-debug-component" class="table-of-contents__link toc-highlight">2. Create a debug component</a></li><li><a href="#3-wrap-your-application-with-authprovider" class="table-of-contents__link toc-highlight">3. Wrap Your Application with AuthProvider</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"></div></footer></div>
</body>
</html>