"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8033],{3070:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/part-1-hero-image-4e5662263e32decd272d4e0ae7d50165.png"},6119:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var r=n(3303);const i={},o=r.createContext(i);function s(e){const t=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:t},e.children)}},6316:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/part-1-unity-hub-new-project-3bb443b5155cd778a4411e36d9b50a0d.jpg"},6329:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/images/part-1-universal-2d-template-754140d4c9eb048aadd5967230d87749.png"},7148:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"Unity tutorial/part-1","title":"1 - Setup","description":"Unity Tutorial Hero Image","source":"@site/docs/03-Unity tutorial/02-part-1.md","sourceDirName":"03-Unity tutorial","slug":"/unity/part-1","permalink":"/unity/part-1","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"1 - Setup","slug":"/unity/part-1"},"sidebar":"sidebar","previous":{"title":"Overview","permalink":"/unity"},"next":{"title":"2 - Connecting to SpacetimeDB","permalink":"/unity/part-2"}}');var i=n(7711),o=n(6119);const s={title:"1 - Setup",slug:"/unity/part-1"},a="Unity Tutorial - Part 1 - Setup",c={},l=[{value:"Prepare Project Structure",id:"prepare-project-structure",level:2},{value:"Setting up the Tutorial Unity Project",id:"setting-up-the-tutorial-unity-project",level:2},{value:"Step 1: Create a Blank Unity Project",id:"step-1-create-a-blank-unity-project",level:3},{value:"Import the SpacetimeDB Unity SDK",id:"import-the-spacetimedb-unity-sdk",level:3},{value:"Create the GameManager Script",id:"create-the-gamemanager-script",level:3},{value:"Add the GameManager to the Scene",id:"add-the-gamemanager-to-the-scene",level:3},{value:"Add the SpacetimeDB Network Manager",id:"add-the-spacetimedb-network-manager",level:3},{value:"Create the Server Module",id:"create-the-server-module",level:3}];function d(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"unity-tutorial---part-1---setup",children:"Unity Tutorial - Part 1 - Setup"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Unity Tutorial Hero Image",src:n(3070).A+"",width:"3346",height:"1842"})}),"\n",(0,i.jsxs)(t.p,{children:["Need help with the tutorial? ",(0,i.jsx)(t.a,{href:"https://discord.gg/spacetimedb",children:"Join our Discord server"}),"!"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsx)(t.p,{children:"A completed version of the game we'll create in this tutorial is available at:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.a,{href:"https://github.com/clockworklabs/SpacetimeDB/tree/master/demo/Blackholio",children:"https://github.com/clockworklabs/SpacetimeDB/tree/master/demo/Blackholio"})}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"prepare-project-structure",children:"Prepare Project Structure"}),"\n",(0,i.jsx)(t.p,{children:"This project is separated into two subdirectories;"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Server (module) code"}),"\n",(0,i.jsx)(t.li,{children:"Client code"}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"First, we'll create a project root directory (you can choose the name):"}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(t.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,i.jsxs)(t.code,{children:[(0,i.jsxs)(t.span,{className:"line",children:[(0,i.jsx)(t.span,{style:{color:"#50FA7B"},children:"mkdir"}),(0,i.jsx)(t.span,{style:{color:"#F1FA8C"},children:" blackholio"})]}),"\n",(0,i.jsxs)(t.span,{className:"line",children:[(0,i.jsx)(t.span,{style:{color:"#8BE9FD"},children:"cd"}),(0,i.jsx)(t.span,{style:{color:"#F1FA8C"},children:" blackholio"})]})]})})}),"\n",(0,i.jsx)(t.p,{children:"We'll start by populating the client directory."}),"\n",(0,i.jsx)(t.h2,{id:"setting-up-the-tutorial-unity-project",children:"Setting up the Tutorial Unity Project"}),"\n",(0,i.jsx)(t.p,{children:"In this section, we will guide you through the process of setting up a Unity Project that will serve as the starting point for our tutorial. By the end of this section, you will have a basic Unity project and be ready to implement the server functionality."}),"\n",(0,i.jsx)(t.h3,{id:"step-1-create-a-blank-unity-project",children:"Step 1: Create a Blank Unity Project"}),"\n",(0,i.jsxs)(t.p,{children:["SpacetimeDB supports Unity version ",(0,i.jsx)(t.code,{children:"2022.3.32f1"})," or later. See ",(0,i.jsx)(t.a,{href:".",children:"the overview"})," for more information on specific supported versions."]}),"\n",(0,i.jsxs)(t.p,{children:['Open Unity and create a new project by selecting "New" from the Unity Hub or going to ',(0,i.jsx)(t.strong,{children:"File -> New Project"}),"."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Unity Hub New Project",src:n(6316).A+"",width:"1024",height:"600"})}),"\n",(0,i.jsx)(t.admonition,{type:"warning",children:(0,i.jsxs)(t.p,{children:[(0,i.jsxs)(t.strong,{children:["Choose the ",(0,i.jsx)(t.code,{children:"Universal 2D"})]})," template to select a template which uses the Unity Universal Render Pipeline."]})}),"\n",(0,i.jsxs)(t.p,{children:["For ",(0,i.jsx)(t.code,{children:"Project Name"})," use ",(0,i.jsx)(t.code,{children:"client-unity"}),". For Project Location make sure that you use your ",(0,i.jsx)(t.code,{children:"blackholio"})," directory. This is the directory that we created in a previous step."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Universal 2D Template",src:n(6329).A+"",width:"2038",height:"1600"})}),"\n",(0,i.jsx)(t.p,{children:'Click "Create" to generate the blank project.'}),"\n",(0,i.jsx)(t.h3,{id:"import-the-spacetimedb-unity-sdk",children:"Import the SpacetimeDB Unity SDK"}),"\n",(0,i.jsx)(t.p,{children:'Add the SpacetimeDB Unity Package using the Package Manager. Open the Package Manager window by clicking on Window -> Package Manager. Click on the + button in the top left corner of the window and select "Add package from git URL". Enter the following URL and click Add.'}),"\n",(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(t.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,i.jsx)(t.code,{children:(0,i.jsx)(t.span,{className:"line",children:(0,i.jsx)(t.span,{style:{color:"#50FA7B"},children:"https://github.com/clockworklabs/com.clockworklabs.spacetimedbsdk.git"})})})})}),"\n",(0,i.jsx)(t.p,{children:"The SpacetimeDB Unity SDK provides helpful tools for integrating SpacetimeDB into Unity, including a network manager which will synchronize your Unity client's state with your SpacetimeDB database in accordance with your subscription queries."}),"\n",(0,i.jsx)(t.h3,{id:"create-the-gamemanager-script",children:"Create the GameManager Script"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["In the Unity ",(0,i.jsx)(t.strong,{children:"Project"})," window, go to the folder where you want to keep your scripts (e.g., ",(0,i.jsx)(t.code,{children:"Scripts"})," folder)."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Right-click"})," in the folder, then select ",(0,i.jsx)(t.code,{children:"Create > C# Script"})," or in Unity 6 ",(0,i.jsx)(t.code,{children:"MonoBehavior Script"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Name the script ",(0,i.jsx)(t.code,{children:"GameManager"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"GameManager"})," script will be where we will put the high level initialization and coordination logic for our game."]}),"\n",(0,i.jsx)(t.h3,{id:"add-the-gamemanager-to-the-scene",children:"Add the GameManager to the Scene"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Create an Empty GameObject"}),":"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Go to the top menu and select ",(0,i.jsx)(t.strong,{children:"GameObject > Create Empty"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Alternatively, right-click in the ",(0,i.jsx)(t.strong,{children:"Hierarchy"})," window and select ",(0,i.jsx)(t.strong,{children:"Create Empty"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Rename the GameObject"}),":"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["In the ",(0,i.jsx)(t.strong,{children:"Inspector"}),", click on the GameObject\u2019s name at the top and rename it to ",(0,i.jsx)(t.code,{children:"GameManager"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Attach the GameManager Script"}),":"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Drag and drop the ",(0,i.jsx)(t.code,{children:"GameManager"})," script from the ",(0,i.jsx)(t.strong,{children:"Project"})," window onto the ",(0,i.jsx)(t.code,{children:"GameManager"})," GameObject in the ",(0,i.jsx)(t.strong,{children:"Hierarchy"})," window."]}),"\n",(0,i.jsxs)(t.li,{children:["Alternatively, in the ",(0,i.jsx)(t.strong,{children:"Inspector"}),", click ",(0,i.jsx)(t.strong,{children:"Add Component"}),", search for ",(0,i.jsx)(t.code,{children:"GameManager"}),", and select it."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"add-the-spacetimedb-network-manager",children:"Add the SpacetimeDB Network Manager"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"SpacetimeDBNetworkManager"})," is a simple script which hooks into the Unity ",(0,i.jsx)(t.code,{children:"Update"})," loop in order to drive the sending and processing of messages between your client and SpacetimeDB. You don't have to interact with this script, but it must be present on a single GameObject which is in the scene in order for it to facilitate the processing of messages."]}),"\n",(0,i.jsxs)(t.p,{children:["When you build a new connection to SpacetimeDB, that connection will be added to and managed by the ",(0,i.jsx)(t.code,{children:"SpacetimeDBNetworkManager"})," automatically."]}),"\n",(0,i.jsxs)(t.p,{children:["Click on the ",(0,i.jsx)(t.code,{children:"GameManager"})," object in the scene and click ",(0,i.jsx)(t.strong,{children:"Add Component"}),". Search for and select the ",(0,i.jsx)(t.code,{children:"SpacetimeDBNetworkManager"})," to add it to your ",(0,i.jsx)(t.code,{children:"GameManager"})," object."]}),"\n",(0,i.jsx)(t.p,{children:"Our Unity project is all set up! If you press play, it will show a blank screen, but it should start the game without any errors. Now we're ready to get started on our SpacetimeDB server module, so we have something to connect to!"}),"\n",(0,i.jsx)(t.h3,{id:"create-the-server-module",children:"Create the Server Module"}),"\n",(0,i.jsxs)(t.p,{children:["We've now got the very basics set up. In ",(0,i.jsx)(t.a,{href:"part-2",children:"part 2"})," you'll learn the basics of how to create a SpacetimeDB server module and how to connect to it from your client."]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);