"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2718],{1332:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"CLI Reference/Standalone Config","title":"Standalone Configuration","description":"A local database instance (as started by spacetime start) can be configured in /config.toml, where {data-dir} is the database\'s data directory. This directory is printed when you run spacetime start:","source":"@site/docs/05-CLI Reference/02-Standalone Config.md","sourceDirName":"05-CLI Reference","slug":"/cli-reference/standalone-config","permalink":"/cli-reference/standalone-config","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Standalone Configuration","slug":"/cli-reference/standalone-config"},"sidebar":"sidebar","previous":{"title":"CLI Reference","permalink":"/cli-reference"},"next":{"title":"Overview","permalink":"/modules"}}');var c=n(7711),i=n(6119);const r={title:"Standalone Configuration",slug:"/cli-reference/standalone-config"},o="spacetimedb-standalone configuration",t={},a=[{value:"<code>config.toml</code>",id:"configtoml",level:2},{value:"<code>certificate-authority</code>",id:"certificate-authority",level:3},{value:"<code>logs</code>",id:"logs",level:3},{value:"<code>logs.level</code>",id:"logslevel",level:4},{value:"<code>logs.directives</code>",id:"logsdirectives",level:4},{value:"<code>websocket</code>",id:"websocket",level:3},{value:"<code>websocket.ping-interval</code>",id:"websocketping-interval",level:4},{value:"<code>websocket.idle-timeout</code>",id:"websocketidle-timeout",level:4},{value:"<code>websocket.close-handshake-timeout</code>",id:"websocketclose-handshake-timeout",level:4},{value:"<code>websocket.incoming-queue-length</code>",id:"websocketincoming-queue-length",level:4}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.header,{children:(0,c.jsxs)(s.h1,{id:"spacetimedb-standalone-configuration",children:[(0,c.jsx)(s.code,{children:"spacetimedb-standalone"})," configuration"]})}),"\n",(0,c.jsxs)(s.p,{children:["A local database instance (as started by ",(0,c.jsx)(s.code,{children:"spacetime start"}),") can be configured in ",(0,c.jsx)(s.code,{children:"{data-dir}/config.toml"}),", where ",(0,c.jsx)(s.code,{children:"{data-dir}"})," is the database's data directory. This directory is printed when you run ",(0,c.jsx)(s.code,{children:"spacetime start"}),":"]}),"\n",(0,c.jsx)("pre",{class:"shiki",children:(0,c.jsxs)("span",{children:["spacetimedb-standalone version: 1.0.0\nspacetimedb-standalone path: /home/user/.local/share/spacetime/bin/1.0.0/spacetimedb-standalone\ndatabase running in data directory ",(0,c.jsx)("b",{children:"/home/user/.local/share/spacetime/data"})]})}),"\n",(0,c.jsxs)(s.p,{children:["On Linux and macOS, this directory is by default ",(0,c.jsx)(s.code,{children:"~/.local/share/spacetime/data"}),". On Windows, it's ",(0,c.jsx)(s.code,{children:"%LOCALAPPDATA%\\SpacetimeDB\\data"}),"."]}),"\n",(0,c.jsx)(s.h2,{id:"configtoml",children:(0,c.jsx)(s.code,{children:"config.toml"})}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.a,{href:"#certificate-authority",children:(0,c.jsx)(s.code,{children:"certificate-authority"})})}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.a,{href:"#logs",children:(0,c.jsx)(s.code,{children:"logs"})})}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.h3,{id:"certificate-authority",children:(0,c.jsx)(s.code,{children:"certificate-authority"})}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"certificate-authority"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"jwt-priv-key-path"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"/path/to/id_ecdsas"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"jwt-pub-key-path"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"/path/to/id_ecdsas.pub"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"certificate-authority"})," table lets you configure the public and private keys used by the database to sign tokens."]}),"\n",(0,c.jsx)(s.h3,{id:"logs",children:(0,c.jsx)(s.code,{children:"logs"})}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"logs"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"level"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"error"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"directives"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ["})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"spacetimedb=warn"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"spacetimedb_standalone=info"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})})]})})}),"\n",(0,c.jsx)(s.h4,{id:"logslevel",children:(0,c.jsx)(s.code,{children:"logs.level"})}),"\n",(0,c.jsxs)(s.p,{children:["Can be one of ",(0,c.jsx)(s.code,{children:'"error"'}),", ",(0,c.jsx)(s.code,{children:'"warn"'}),", ",(0,c.jsx)(s.code,{children:'"info"'}),", ",(0,c.jsx)(s.code,{children:'"debug"'}),", ",(0,c.jsx)(s.code,{children:'"trace"'}),", or ",(0,c.jsx)(s.code,{children:'"off"'}),", case-insensitive. Only log messages of the specified level or higher will be output; e.g. if set to ",(0,c.jsx)(s.code,{children:"warn"}),", only ",(0,c.jsx)(s.code,{children:"error"})," and ",(0,c.jsx)(s.code,{children:"warn"}),"-level messages will be logged."]}),"\n",(0,c.jsx)(s.h4,{id:"logsdirectives",children:(0,c.jsx)(s.code,{children:"logs.directives"})}),"\n",(0,c.jsxs)(s.p,{children:["A list of filtering directives controlling what messages get logged, which overwrite the global ",(0,c.jsx)(s.a,{href:"#logslevel",children:(0,c.jsx)(s.code,{children:"logs.level"})}),". See ",(0,c.jsx)(s.a,{href:"https://docs.rs/tracing-subscriber/0.3/tracing_subscriber/filter/struct.EnvFilter.html#directives",children:(0,c.jsx)(s.code,{children:"tracing documentation"})})," for syntax. Note that this is primarily intended as a debugging tool, and log message fields and targets are not considered stable."]}),"\n",(0,c.jsx)(s.h3,{id:"websocket",children:(0,c.jsx)(s.code,{children:"websocket"})}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"websocket"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"ping-interval"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"15s"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"idle-timeout"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"30s"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"close-handshake-timeout"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"250ms"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"incoming-queue-length"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 2048"})]})]})})}),"\n",(0,c.jsx)(s.h4,{id:"websocketping-interval",children:(0,c.jsx)(s.code,{children:"websocket.ping-interval"})}),"\n",(0,c.jsxs)(s.p,{children:["Interval at which the server will send ",(0,c.jsx)(s.code,{children:"Ping"})," frames to keep the connection alive.\nShould be smaller than ",(0,c.jsx)(s.code,{children:"websocket.idle-timeout"})," to be effective."]}),"\n",(0,c.jsxs)(s.p,{children:["Values are strings of any format the ",(0,c.jsx)(s.a,{href:"https://crates.io/crates/humantime",children:(0,c.jsx)(s.code,{children:"humantime"})})," crate can parse."]}),"\n",(0,c.jsx)(s.h4,{id:"websocketidle-timeout",children:(0,c.jsx)(s.code,{children:"websocket.idle-timeout"})}),"\n",(0,c.jsxs)(s.p,{children:["If the server hasn't received any data from the client (including ",(0,c.jsx)(s.code,{children:"Pong"})," responses to previous ",(0,c.jsx)(s.code,{children:"Ping"}),"s it sent), it will consider the client unresponsive and close the connection.\nShould be greater than ",(0,c.jsx)(s.code,{children:"websocket.ping-interval"})," to be effective."]}),"\n",(0,c.jsxs)(s.p,{children:["Values are strings of any format the ",(0,c.jsx)(s.a,{href:"https://crates.io/crates/humantime",children:(0,c.jsx)(s.code,{children:"humantime"})})," crate can parse."]}),"\n",(0,c.jsx)(s.h4,{id:"websocketclose-handshake-timeout",children:(0,c.jsx)(s.code,{children:"websocket.close-handshake-timeout"})}),"\n",(0,c.jsx)(s.p,{children:"Time the server waits for the client to respond to a graceful connection close. If the client doesn't respond within this timeout, the connection is dropped."}),"\n",(0,c.jsxs)(s.p,{children:["Values are strings of any format the ",(0,c.jsx)(s.a,{href:"https://crates.io/crates/humantime",children:(0,c.jsx)(s.code,{children:"humantime"})})," crate can parse."]}),"\n",(0,c.jsx)(s.h4,{id:"websocketincoming-queue-length",children:(0,c.jsx)(s.code,{children:"websocket.incoming-queue-length"})}),"\n",(0,c.jsx)(s.p,{children:"Maximum number of client messages the server will queue up in case it is not able to process them quickly enough. When the queue length exceeds this value, the server will start disconnecting clients.\nNote that the limit is per client, not across all clients of a particular database."})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,c.jsx)(s,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},6119:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>o});var l=n(3303);const c={},i=l.createContext(c);function r(e){const s=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),l.createElement(i.Provider,{value:s},e.children)}}}]);