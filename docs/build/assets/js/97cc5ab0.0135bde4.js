"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5981],{2243:(e,s,l)=>{l.r(s),l.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"Client SDK Languages/Typescript-Reference","title":"TypeScript Reference","description":"The SpacetimeDB client SDK for TypeScript contains all the tools you need to build clients for SpacetimeDB modules using Typescript, either in the browser or with NodeJS.","source":"@site/docs/07-Client SDK Languages/07-Typescript-Reference.md","sourceDirName":"07-Client SDK Languages","slug":"/sdks/typescript","permalink":"/sdks/typescript","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"TypeScript Reference","slug":"/sdks/typescript"},"sidebar":"sidebar","previous":{"title":"TypeScript Quickstart","permalink":"/sdks/typescript/quickstart"},"next":{"title":"SQL Reference","permalink":"/sql"}}');var c=l(7711),r=l(6119);const i={title:"TypeScript Reference",slug:"/sdks/typescript"},o="The SpacetimeDB Typescript client SDK",d={},t=[{value:"Project setup",id:"project-setup",level:2},{value:"Tip for utilities/scripts",id:"tip-for-utilitiesscripts",level:3},{value:"Generate module bindings",id:"generate-module-bindings",level:2},{value:"Type <code>DbConnection</code>",id:"type-dbconnection",level:2},{value:"Connect to a database",id:"connect-to-a-database",level:3},{value:"Method <code>withUri</code>",id:"method-withuri",level:4},{value:"Method <code>withModuleName</code>",id:"method-withmodulename",level:4},{value:"Callback <code>onConnect</code>",id:"callback-onconnect",level:4},{value:"Callback <code>onConnectError</code>",id:"callback-onconnecterror",level:4},{value:"Callback <code>onDisconnect</code>",id:"callback-ondisconnect",level:4},{value:"Method <code>withToken</code>",id:"method-withtoken",level:4},{value:"Method <code>build</code>",id:"method-build",level:4},{value:"Access tables and reducers",id:"access-tables-and-reducers",level:3},{value:"Field <code>db</code>",id:"field-db",level:4},{value:"Field <code>reducers</code>",id:"field-reducers",level:4},{value:"Interface <code>DbContext</code>",id:"interface-dbcontext",level:2},{value:"Field <code>db</code>",id:"field-db-1",level:4},{value:"Field <code>reducers</code>",id:"field-reducers-1",level:4},{value:"Method <code>disconnect</code>",id:"method-disconnect",level:3},{value:"Subscribe to queries",id:"subscribe-to-queries",level:3},{value:"Type <code>SubscriptionBuilder</code>",id:"type-subscriptionbuilder",level:4},{value:"Constructor <code>ctx.subscriptionBuilder()</code>",id:"constructor-ctxsubscriptionbuilder",level:5},{value:"Callback <code>onApplied</code>",id:"callback-onapplied",level:5},{value:"Callback <code>onError</code>",id:"callback-onerror",level:5},{value:"Method <code>subscribe</code>",id:"method-subscribe",level:5},{value:"Method <code>subscribeToAllTables</code>",id:"method-subscribetoalltables",level:5},{value:"Type <code>SubscriptionHandle</code>",id:"type-subscriptionhandle",level:4},{value:"Method <code>isEnded</code>",id:"method-isended",level:5},{value:"Method <code>isActive</code>",id:"method-isactive",level:5},{value:"Method <code>unsubscribe</code>",id:"method-unsubscribe",level:5},{value:"Method <code>unsubscribeThen</code>",id:"method-unsubscribethen",level:5},{value:"Read connection metadata",id:"read-connection-metadata",level:3},{value:"Field <code>isActive</code>",id:"field-isactive",level:4},{value:"Type <code>EventContext</code>",id:"type-eventcontext",level:2},{value:"Field <code>event</code>",id:"field-event",level:3},{value:"Field <code>db</code>",id:"field-db-2",level:3},{value:"Field <code>reducers</code>",id:"field-reducers-2",level:3},{value:"Type <code>Event</code>",id:"type-event",level:3},{value:"Variant <code>Reducer</code>",id:"variant-reducer",level:4},{value:"Variant <code>SubscribeApplied</code>",id:"variant-subscribeapplied",level:4},{value:"Variant <code>UnsubscribeApplied</code>",id:"variant-unsubscribeapplied",level:4},{value:"Variant <code>Error</code>",id:"variant-error",level:4},{value:"Variant <code>UnknownTransaction</code>",id:"variant-unknowntransaction",level:4},{value:"Type <code>ReducerEvent</code>",id:"type-reducerevent",level:3},{value:"Type <code>UpdateStatus</code>",id:"type-updatestatus",level:3},{value:"Variant <code>Committed</code>",id:"variant-committed",level:4},{value:"Variant <code>Failed</code>",id:"variant-failed",level:4},{value:"Variant <code>OutOfEnergy</code>",id:"variant-outofenergy",level:4},{value:"Type <code>Reducer</code>",id:"type-reducer",level:3},{value:"Type <code>ReducerEventContext</code>",id:"type-reducereventcontext",level:2},{value:"Field <code>event</code>",id:"field-event-1",level:3},{value:"Field <code>db</code>",id:"field-db-3",level:3},{value:"Field <code>reducers</code>",id:"field-reducers-3",level:3},{value:"Type <code>SubscriptionEventContext</code>",id:"type-subscriptioneventcontext",level:2},{value:"Field <code>db</code>",id:"field-db-4",level:3},{value:"Field <code>reducers</code>",id:"field-reducers-4",level:3},{value:"Type <code>ErrorContext</code>",id:"type-errorcontext",level:2},{value:"Field <code>event</code>",id:"field-event-2",level:3},{value:"Field <code>db</code>",id:"field-db-5",level:3},{value:"Field <code>reducers</code>",id:"field-reducers-5",level:3},{value:"Access the client cache",id:"access-the-client-cache",level:2},{value:"Accessing rows",id:"accessing-rows",level:3},{value:"Method <code>count</code>",id:"method-count",level:4},{value:"Method <code>iter</code>",id:"method-iter",level:4},{value:"Callback <code>onInsert</code>",id:"callback-oninsert",level:3},{value:"Callback <code>onDelete</code>",id:"callback-ondelete",level:3},{value:"Callback <code>onUpdate</code>",id:"callback-onupdate",level:3},{value:"Unique constraint index access",id:"unique-constraint-index-access",level:3},{value:"BTree index access",id:"btree-index-access",level:3},{value:"Observe and invoke reducers",id:"observe-and-invoke-reducers",level:2},{value:"Identify a client",id:"identify-a-client",level:2},{value:"Type <code>Identity</code>",id:"type-identity",level:3},{value:"Type <code>ConnectionId</code>",id:"type-connectionid",level:3}];function a(e){const s={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",span:"span",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.header,{children:(0,c.jsx)(s.h1,{id:"the-spacetimedb-typescript-client-sdk",children:"The SpacetimeDB Typescript client SDK"})}),"\n",(0,c.jsx)(s.p,{children:"The SpacetimeDB client SDK for TypeScript contains all the tools you need to build clients for SpacetimeDB modules using Typescript, either in the browser or with NodeJS."}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.a,{href:"#project-setup",children:"Project setup"})}),(0,c.jsx)(s.td,{children:"Configure your TypeScript project to use the SpacetimeDB TypeScript client SDK."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.a,{href:"#generate-module-bindings",children:"Generate module bindings"})}),(0,c.jsx)(s.td,{children:"Use the SpacetimeDB CLI to generate module-specific types and interfaces."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#type-dbconnection",children:[(0,c.jsx)(s.code,{children:"DbConnection"})," type"]})}),(0,c.jsx)(s.td,{children:"A connection to a remote database."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#interface-dbcontext",children:[(0,c.jsx)(s.code,{children:"DbContext"})," interface"]})}),(0,c.jsxs)(s.td,{children:["Methods for interacting with the remote database. Implemented by ",(0,c.jsx)(s.a,{href:"#type-dbconnection",children:(0,c.jsx)(s.code,{children:"DbConnection"})})," and various event context types."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#type-eventcontext",children:[(0,c.jsx)(s.code,{children:"EventContext"})," type"]})}),(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.a,{href:"#interface-dbcontext",children:(0,c.jsx)(s.code,{children:"DbContext"})})," available in ",(0,c.jsx)(s.a,{href:"#callback-oninsert",children:"row callbacks"}),"."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#type-reducereventcontext",children:[(0,c.jsx)(s.code,{children:"ReducerEventContext"})," type"]})}),(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.a,{href:"#interface-dbcontext",children:(0,c.jsx)(s.code,{children:"DbContext"})})," available in ",(0,c.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"reducer callbacks"}),"."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#type-subscriptioneventcontext",children:[(0,c.jsx)(s.code,{children:"SubscriptionEventContext"})," type"]})}),(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.a,{href:"#interface-dbcontext",children:(0,c.jsx)(s.code,{children:"DbContext"})})," available in ",(0,c.jsx)(s.a,{href:"#subscribe-to-queries",children:"subscription-related callbacks"}),"."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#type-errorcontext",children:[(0,c.jsx)(s.code,{children:"ErrorContext"})," type"]})}),(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.a,{href:"#interface-dbcontext",children:(0,c.jsx)(s.code,{children:"DbContext"})})," available in error-related callbacks."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"})}),(0,c.jsxs)(s.td,{children:["Make local queries against subscribed rows, and register ",(0,c.jsx)(s.a,{href:"#callback-oninsert",children:"row callbacks"})," to run when subscribed rows change."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"Observe and invoke reducers"})}),(0,c.jsx)(s.td,{children:"Send requests to the database to run reducers, and register callbacks to run when notified of reducers."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.a,{href:"#identify-a-client",children:"Identify a client"})}),(0,c.jsx)(s.td,{children:"Types for identifying users and client connections."})]})]})]}),"\n",(0,c.jsx)(s.h2,{id:"project-setup",children:"Project setup"}),"\n",(0,c.jsxs)(s.p,{children:["First, create a new client project, and add the following to your ",(0,c.jsx)(s.code,{children:"tsconfig.json"})," file:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"compilerOptions"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    //You can use any target higher than this one"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    //https://www.typescriptlang.org/tsconfig#target"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FE"},children:'    "'}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"target"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"es2015"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"Then add the SpacetimeDB SDK to your dependencies:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:"cd"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" client"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"npm"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" install"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" spacetimedb"})]})]})})}),"\n",(0,c.jsxs)(s.blockquote,{children:["\n",(0,c.jsxs)(s.p,{children:["WARNING! The ",(0,c.jsx)(s.code,{children:"@clockworklabs/spacetimedb-sdk"})," package has been deprecated in favor of the ",(0,c.jsx)(s.code,{children:"spacetimedb"})," package as of SpacetimeDB version 1.4.0. If you are using the old SDK package, you will need to switch to ",(0,c.jsx)(s.code,{children:"spacetimedb"}),". You will also need a SpacetimeDB CLI version of 1.4.0+ to generate bindings for the new ",(0,c.jsx)(s.code,{children:"spacetimedb"})," package."]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"You should have this folder layout starting from the root of your project:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"quickstart-chat"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"\u251c\u2500\u2500"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" client"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"\u2502"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"   \u251c\u2500\u2500"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" node_modules"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"\u2502"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"   \u251c\u2500\u2500"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" public"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"\u2502"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"   \u2514\u2500\u2500"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" src"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"\u2514\u2500\u2500"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" server"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"    \u2514\u2500\u2500"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" src"})]})]})})}),"\n",(0,c.jsx)(s.h3,{id:"tip-for-utilitiesscripts",children:"Tip for utilities/scripts"}),"\n",(0,c.jsxs)(s.p,{children:["If want to create a quick script to test your module bindings from the command line, you can use ",(0,c.jsx)(s.a,{href:"https://www.npmjs.com/package/tsx",children:"https://www.npmjs.com/package/tsx"})," to execute TypeScript files."]}),"\n",(0,c.jsxs)(s.p,{children:["Then you create a ",(0,c.jsx)(s.code,{children:"script.ts"})," file and add the imports, code and execute with:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"npx"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" tsx"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" src/script.ts"})]})})})}),"\n",(0,c.jsx)(s.h2,{id:"generate-module-bindings",children:"Generate module bindings"}),"\n",(0,c.jsxs)(s.p,{children:["Each SpacetimeDB client depends on some bindings specific to your module. Create a ",(0,c.jsx)(s.code,{children:"module_bindings"})," directory in your project's ",(0,c.jsx)(s.code,{children:"src"})," directory and generate the Typescript interface files using the Spacetime CLI. From your project directory, run:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"mkdir"}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" -p"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" client/src/module_bindings"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"spacetime"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" generate"}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" --lang"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" typescript"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" \\"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:"    --out-dir"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" client/src/module_bindings"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" \\"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:"    --project-path"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" PATH-TO-MODULE-DIRECTORY"})]})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Import the ",(0,c.jsx)(s.code,{children:"module_bindings"})," in your client's ",(0,c.jsx)(s.em,{children:"main"})," file:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"import"}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" *"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" as"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" moduleBindings "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"from"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"./module_bindings/index"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]})})})}),"\n",(0,c.jsx)(s.p,{children:"You may also need to import some definitions from the SDK library:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"import"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { Identity, ConnectionId, Event, ReducerEvent } "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"from"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"spacetimedb"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]})})})}),"\n",(0,c.jsxs)(s.h2,{id:"type-dbconnection",children:["Type ",(0,c.jsx)(s.code,{children:"DbConnection"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"DbConnection;"})})})})}),"\n",(0,c.jsxs)(s.p,{children:["A connection to a remote database is represented by the ",(0,c.jsx)(s.code,{children:"DbConnection"})," type. This type is generated per-module, and contains information about the types, tables and reducers defined by your module."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.a,{href:"#connect-to-a-database",children:"Connect to a database"})}),(0,c.jsxs)(s.td,{children:["Construct a ",(0,c.jsx)(s.code,{children:"DbConnection"}),"."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.a,{href:"#access-tables-and-reducers",children:"Access tables and reducers"})}),(0,c.jsx)(s.td,{children:"Access subscribed rows in the client cache, request reducer invocations, and register callbacks."})]})]})]}),"\n",(0,c.jsx)(s.h3,{id:"connect-to-a-database",children:"Connect to a database"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnection"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" builder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Construct a ",(0,c.jsx)(s.code,{children:"DbConnection"})," by calling ",(0,c.jsx)(s.code,{children:"DbConnection.builder()"})," and chaining configuration methods, then calling ",(0,c.jsx)(s.code,{children:".build()"}),". You must at least specify ",(0,c.jsx)(s.code,{children:"withUri"}),", to supply the URI of the SpacetimeDB to which you published your module, and ",(0,c.jsx)(s.code,{children:"withModuleName"}),", to supply the human-readable SpacetimeDB domain name or the raw ",(0,c.jsx)(s.code,{children:"Identity"})," which identifies the database."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-withuri",children:[(0,c.jsx)(s.code,{children:"withUri"})," method"]})}),(0,c.jsx)(s.td,{children:"Set the URI of the SpacetimeDB instance which hosts the remote database."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-withmodulename",children:[(0,c.jsx)(s.code,{children:"withModuleName"})," method"]})}),(0,c.jsxs)(s.td,{children:["Set the name or ",(0,c.jsx)(s.code,{children:"Identity"})," of the remote database."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#callback-onconnect",children:[(0,c.jsx)(s.code,{children:"onConnect"})," callback"]})}),(0,c.jsx)(s.td,{children:"Register a callback to run when the connection is successfully established."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#callback-onconnecterror",children:[(0,c.jsx)(s.code,{children:"onConnectError"})," callback"]})}),(0,c.jsx)(s.td,{children:"Register a callback to run if the connection is rejected or the host is unreachable."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#callback-ondisconnect",children:[(0,c.jsx)(s.code,{children:"onDisconnect"})," callback"]})}),(0,c.jsx)(s.td,{children:"Register a callback to run when the connection ends."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-withtoken",children:[(0,c.jsx)(s.code,{children:"withToken"})," method"]})}),(0,c.jsx)(s.td,{children:"Supply a token to authenticate with the remote database."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-build",children:[(0,c.jsx)(s.code,{children:"build"})," method"]})}),(0,c.jsx)(s.td,{children:"Finalize configuration and connect."})]})]})]}),"\n",(0,c.jsxs)(s.h4,{id:"method-withuri",children:["Method ",(0,c.jsx)(s.code,{children:"withUri"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" withUri"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"uri"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"Configure the URI of the SpacetimeDB instance or cluster which hosts the remote database."}),"\n",(0,c.jsxs)(s.h4,{id:"method-withmodulename",children:["Method ",(0,c.jsx)(s.code,{children:"withModuleName"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" withModuleName"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"name_or_identity"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Configure the SpacetimeDB domain name or hex string encoded ",(0,c.jsx)(s.code,{children:"Identity"})," of the remote database which identifies it within the SpacetimeDB instance or cluster."]}),"\n",(0,c.jsxs)(s.h4,{id:"callback-onconnect",children:["Callback ",(0,c.jsx)(s.code,{children:"onConnect"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" onConnect"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"    callback"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"ctx"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnection"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"identity"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Identity"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"token"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  )"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Chain a call to ",(0,c.jsx)(s.code,{children:".onConnect(callback)"})," to your builder to register a callback to run when your new ",(0,c.jsx)(s.code,{children:"DbConnection"})," successfully initiates its connection to the remote database. The callback accepts three arguments: a reference to the ",(0,c.jsx)(s.code,{children:"DbConnection"}),", the ",(0,c.jsx)(s.code,{children:"Identity"})," by which SpacetimeDB identifies this connection, and a private access token which can be saved and later passed to ",(0,c.jsx)(s.a,{href:"#method-withtoken",children:(0,c.jsx)(s.code,{children:"withToken"})})," to authenticate the same user in future connections."]}),"\n",(0,c.jsxs)(s.h4,{id:"callback-onconnecterror",children:["Callback ",(0,c.jsx)(s.code,{children:"onConnectError"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" onConnectError"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"    callback"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"ctx"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ErrorContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"error"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Error"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  )"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Chain a call to ",(0,c.jsx)(s.code,{children:".onConnectError(callback)"})," to your builder to register a callback to run when your connection fails."]}),"\n",(0,c.jsxs)(s.h4,{id:"callback-ondisconnect",children:["Callback ",(0,c.jsx)(s.code,{children:"onDisconnect"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" onDisconnect"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"    callback"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"ctx"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ErrorContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"error"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Error"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" |"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" null"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  )"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Chain a call to ",(0,c.jsx)(s.code,{children:".onDisconnect(callback)"})," to your builder to register a callback to run when your ",(0,c.jsx)(s.code,{children:"DbConnection"})," disconnects from the remote database, either as a result of a call to ",(0,c.jsx)(s.a,{href:"#method-disconnect",children:(0,c.jsx)(s.code,{children:"disconnect"})})," or due to an error."]}),"\n",(0,c.jsxs)(s.h4,{id:"method-withtoken",children:["Method ",(0,c.jsx)(s.code,{children:"withToken"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" withToken"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"token"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"?:"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Chain a call to ",(0,c.jsx)(s.code,{children:".withToken(token)"})," to your builder to provide an OpenID Connect compliant JSON Web Token to authenticate with, or to explicitly select an anonymous connection. If this method is not called or ",(0,c.jsx)(s.code,{children:"null"})," is passed, SpacetimeDB will generate a new ",(0,c.jsx)(s.code,{children:"Identity"})," and sign a new private access token for the connection."]}),"\n",(0,c.jsxs)(s.h4,{id:"method-build",children:["Method ",(0,c.jsx)(s.code,{children:"build"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" build"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnection"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"After configuring the connection and registering callbacks, attempt to open the connection."}),"\n",(0,c.jsx)(s.h3,{id:"access-tables-and-reducers",children:"Access tables and reducers"}),"\n",(0,c.jsxs)(s.h4,{id:"field-db",children:["Field ",(0,c.jsx)(s.code,{children:"db"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnection"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" db"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteTables"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"db"})," field of the ",(0,c.jsx)(s.code,{children:"DbConnection"})," provides access to the subscribed view of the remote database's tables. See ",(0,c.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"}),"."]}),"\n",(0,c.jsxs)(s.h4,{id:"field-reducers",children:["Field ",(0,c.jsx)(s.code,{children:"reducers"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnection"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" reducers"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteReducers"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"reducers"})," field of the ",(0,c.jsx)(s.code,{children:"DbConnection"})," provides access to reducers exposed by the remote module. See ",(0,c.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"Observe and invoke reducers"}),"."]}),"\n",(0,c.jsxs)(s.h2,{id:"interface-dbcontext",children:["Interface ",(0,c.jsx)(s.code,{children:"DbContext"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"    DbView"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"    Reducers"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.a,{href:"#type-dbconnection",children:(0,c.jsx)(s.code,{children:"DbConnection"})}),", ",(0,c.jsx)(s.a,{href:"#type-eventcontext",children:(0,c.jsx)(s.code,{children:"EventContext"})}),", ",(0,c.jsx)(s.a,{href:"#type-reducereventcontext",children:(0,c.jsx)(s.code,{children:"ReducerEventContext"})}),", ",(0,c.jsx)(s.a,{href:"#type-subscriptioneventcontext",children:(0,c.jsx)(s.code,{children:"SubscriptionEventContext"})})," and ",(0,c.jsx)(s.a,{href:"#type-errorcontext",children:(0,c.jsx)(s.code,{children:"ErrorContext"})})," all implement ",(0,c.jsx)(s.code,{children:"DbContext"}),". ",(0,c.jsx)(s.code,{children:"DbContext"})," has fields and methods for inspecting and configuring your connection to the remote database."]}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"DbContext"})," interface is implemented by connections and contexts to ",(0,c.jsx)(s.em,{children:"every"})," module. This means that its ",(0,c.jsx)(s.a,{href:"#field-db",children:(0,c.jsx)(s.code,{children:"DbView"})})," and ",(0,c.jsx)(s.a,{href:"#field-reducers",children:(0,c.jsx)(s.code,{children:"Reducers"})})," are generic types."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#field-db",children:[(0,c.jsx)(s.code,{children:"db"})," field"]})}),(0,c.jsx)(s.td,{children:"Access subscribed rows of tables and register row callbacks."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#field-reducers",children:[(0,c.jsx)(s.code,{children:"reducers"})," field"]})}),(0,c.jsx)(s.td,{children:"Request reducer invocations and register reducer callbacks."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-disconnect",children:[(0,c.jsx)(s.code,{children:"disconnect"})," method"]})}),(0,c.jsx)(s.td,{children:"End the connection."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.a,{href:"#subscribe-to-queries",children:"Subscribe to queries"})}),(0,c.jsx)(s.td,{children:"Register SQL queries to receive updates about matching rows."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.a,{href:"#read-connection-metadata",children:"Read connection metadata"})}),(0,c.jsxs)(s.td,{children:["Access the connection's ",(0,c.jsx)(s.code,{children:"Identity"})," and ",(0,c.jsx)(s.code,{children:"ConnectionId"})]})]})]})]}),"\n",(0,c.jsxs)(s.h4,{id:"field-db-1",children:["Field ",(0,c.jsx)(s.code,{children:"db"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  db"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbView"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"db"})," field of a ",(0,c.jsx)(s.code,{children:"DbContext"})," provides access to the subscribed view of the remote database's tables. See ",(0,c.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"}),"."]}),"\n",(0,c.jsxs)(s.h4,{id:"field-reducers-1",children:["Field ",(0,c.jsx)(s.code,{children:"reducers"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  reducers"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Reducers"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"reducers"})," field of a ",(0,c.jsx)(s.code,{children:"DbContext"})," provides access to reducers exposed by the remote module. See ",(0,c.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"Observe and invoke reducers"}),"."]}),"\n",(0,c.jsxs)(s.h3,{id:"method-disconnect",children:["Method ",(0,c.jsx)(s.code,{children:"disconnect"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"  disconnect"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Gracefully close the ",(0,c.jsx)(s.code,{children:"DbConnection"}),". Throws an error if the connection is already disconnected."]}),"\n",(0,c.jsx)(s.h3,{id:"subscribe-to-queries",children:"Subscribe to queries"}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#type-subscriptionbuilder",children:[(0,c.jsx)(s.code,{children:"SubscriptionBuilder"})," type"]})}),(0,c.jsx)(s.td,{children:"Builder-pattern constructor to register subscribed queries."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#type-subscriptionhandle",children:[(0,c.jsx)(s.code,{children:"SubscriptionHandle"})," type"]})}),(0,c.jsx)(s.td,{children:"Manage an active subscripion."})]})]})]}),"\n",(0,c.jsxs)(s.h4,{id:"type-subscriptionbuilder",children:["Type ",(0,c.jsx)(s.code,{children:"SubscriptionBuilder"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"SubscriptionBuilder;"})})})})}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#constructor-ctxsubscriptionbuilder",children:[(0,c.jsx)(s.code,{children:"ctx.subscriptionBuilder()"})," constructor"]})}),(0,c.jsx)(s.td,{children:"Begin configuring a new subscription."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#callback-onapplied",children:[(0,c.jsx)(s.code,{children:"onApplied"})," callback"]})}),(0,c.jsx)(s.td,{children:"Register a callback to run when matching rows become available."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#callback-onerror",children:[(0,c.jsx)(s.code,{children:"onError"})," callback"]})}),(0,c.jsx)(s.td,{children:"Register a callback to run if the subscription fails."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-subscribe",children:[(0,c.jsx)(s.code,{children:"subscribe"})," method"]})}),(0,c.jsx)(s.td,{children:"Finish configuration and subscribe to one or more SQL queries."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-subscribetoalltables",children:[(0,c.jsx)(s.code,{children:"subscribeToAllTables"})," method"]})}),(0,c.jsx)(s.td,{children:"Convenience method to subscribe to the entire database."})]})]})]}),"\n",(0,c.jsxs)(s.h5,{id:"constructor-ctxsubscriptionbuilder",children:["Constructor ",(0,c.jsx)(s.code,{children:"ctx.subscriptionBuilder()"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"  subscriptionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SubscriptionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Subscribe to queries by calling ",(0,c.jsx)(s.code,{children:"ctx.subscription_builder()"})," and chaining configuration methods, then calling ",(0,c.jsx)(s.code,{children:".subscribe(queries)"}),"."]}),"\n",(0,c.jsxs)(s.h5,{id:"callback-onapplied",children:["Callback ",(0,c.jsx)(s.code,{children:"onApplied"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" onApplied"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"    callback"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"ctx"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SubscriptionEventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  )"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SubscriptionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"Register a callback to run when the subscription is applied and the matching rows are inserted into the client cache."}),"\n",(0,c.jsxs)(s.h5,{id:"callback-onerror",children:["Callback ",(0,c.jsx)(s.code,{children:"onError"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" onError"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"    callback"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"ctx"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ErrorContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"error"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Error"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  )"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SubscriptionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Register a callback to run if the subscription is rejected or unexpectedly terminated by the server. This is most frequently caused by passing an invalid query to ",(0,c.jsx)(s.a,{href:"#method-subscribe",children:(0,c.jsx)(s.code,{children:"subscribe"})}),"."]}),"\n",(0,c.jsxs)(s.h5,{id:"method-subscribe",children:["Method ",(0,c.jsx)(s.code,{children:"subscribe"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"  subscribe"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"queries"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" |"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"[])"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SubscriptionHandle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"Subscribe to a set of queries."}),"\n",(0,c.jsxs)(s.p,{children:["See ",(0,c.jsx)(s.a,{href:"/sql#subscriptions",children:"the SpacetimeDB SQL Reference"})," for information on the queries SpacetimeDB supports as subscriptions."]}),"\n",(0,c.jsxs)(s.h5,{id:"method-subscribetoalltables",children:["Method ",(0,c.jsx)(s.code,{children:"subscribeToAllTables"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionBuilder"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"  subscribeToAllTables"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Subscribe to all rows from all public tables. This method is provided as a convenience for simple clients. The subscription initiated by ",(0,c.jsx)(s.code,{children:"subscribeToAllTables"})," cannot be canceled after it is initiated. You should ",(0,c.jsxs)(s.a,{href:"#method-subscribe",children:[(0,c.jsx)(s.code,{children:"subscribe"})," to specific queries"]})," if you need fine-grained control over the lifecycle of your subscriptions."]}),"\n",(0,c.jsxs)(s.h4,{id:"type-subscriptionhandle",children:["Type ",(0,c.jsx)(s.code,{children:"SubscriptionHandle"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"SubscriptionHandle;"})})})})}),"\n",(0,c.jsxs)(s.p,{children:["A ",(0,c.jsx)(s.code,{children:"SubscriptionHandle"})," represents a subscribed query or a group of subscribed queries."]}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"SubscriptionHandle"})," does not contain or provide access to the subscribed rows. Subscribed rows of all subscriptions by a connection are contained within that connection's ",(0,c.jsx)(s.a,{href:"#field-db",children:(0,c.jsx)(s.code,{children:"ctx.db"})}),". See ",(0,c.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"}),"."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-isended",children:[(0,c.jsx)(s.code,{children:"isEnded"})," method"]})}),(0,c.jsx)(s.td,{children:"Determine whether the subscription has ended."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-isactive",children:[(0,c.jsx)(s.code,{children:"isActive"})," method"]})}),(0,c.jsx)(s.td,{children:"Determine whether the subscription is active and its matching rows are present in the client cache."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-unsubscribe",children:[(0,c.jsx)(s.code,{children:"unsubscribe"})," method"]})}),(0,c.jsx)(s.td,{children:"Discard a subscription."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-unsubscribethen",children:[(0,c.jsx)(s.code,{children:"unsubscribeThen"})," method"]})}),(0,c.jsx)(s.td,{children:"Discard a subscription, and register a callback to run when its matching rows are removed from the client cache."})]})]})]}),"\n",(0,c.jsxs)(s.h5,{id:"method-isended",children:["Method ",(0,c.jsx)(s.code,{children:"isEnded"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionHandle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" isEnded"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" bool"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"Returns true if this subscription has been terminated due to an unsubscribe call or an error."}),"\n",(0,c.jsxs)(s.h5,{id:"method-isactive",children:["Method ",(0,c.jsx)(s.code,{children:"isActive"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionHandle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" isActive"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" bool"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"Returns true if this subscription has been applied and has not yet been unsubscribed."}),"\n",(0,c.jsxs)(s.h5,{id:"method-unsubscribe",children:["Method ",(0,c.jsx)(s.code,{children:"unsubscribe"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionHandle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" unsubscribe"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Terminate this subscription, causing matching rows to be removed from the client cache. Any rows removed from the client cache this way will have ",(0,c.jsxs)(s.a,{href:"#callback-ondelete",children:[(0,c.jsx)(s.code,{children:"onDelete"})," callbacks"]})," run for them."]}),"\n",(0,c.jsxs)(s.p,{children:["Unsubscribing is an asynchronous operation. Matching rows are not removed from the client cache immediately. Use ",(0,c.jsx)(s.a,{href:"#method-unsubscribethen",children:(0,c.jsx)(s.code,{children:"unsubscribeThen"})})," to run a callback once the unsubscribe operation is completed."]}),"\n",(0,c.jsxs)(s.p,{children:["Throws an error if the subscription has already ended, either due to a previous call to ",(0,c.jsx)(s.code,{children:"unsubscribe"})," or ",(0,c.jsx)(s.a,{href:"#method-unsubscribethen",children:(0,c.jsx)(s.code,{children:"unsubscribeThen"})}),", or due to an error."]}),"\n",(0,c.jsxs)(s.h5,{id:"method-unsubscribethen",children:["Method ",(0,c.jsx)(s.code,{children:"unsubscribeThen"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionHandle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" unsubscribeThen"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"on_end"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"ctx"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SubscriptionEventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Terminate this subscription, and run the ",(0,c.jsx)(s.code,{children:"onEnd"})," callback when the subscription is ended and its matching rows are removed from the client cache. Any rows removed from the client cache this way will have ",(0,c.jsxs)(s.a,{href:"#callback-ondelete",children:[(0,c.jsx)(s.code,{children:"onDelete"})," callbacks"]})," run for them."]}),"\n",(0,c.jsxs)(s.p,{children:["Returns an error if the subscription has already ended, either due to a previous call to ",(0,c.jsx)(s.a,{href:"#method-unsubscribe",children:(0,c.jsx)(s.code,{children:"unsubscribe"})})," or ",(0,c.jsx)(s.code,{children:"unsubscribeThen"}),", or due to an error."]}),"\n",(0,c.jsx)(s.h3,{id:"read-connection-metadata",children:"Read connection metadata"}),"\n",(0,c.jsxs)(s.h4,{id:"field-isactive",children:["Field ",(0,c.jsx)(s.code,{children:"isActive"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  isActive"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" bool"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"true"})," if the connection has not yet disconnected. Note that a connection ",(0,c.jsx)(s.code,{children:"isActive"})," when it is constructed, before its ",(0,c.jsxs)(s.a,{href:"#callback-onconnect",children:[(0,c.jsx)(s.code,{children:"onConnect"})," callback"]})," is invoked."]}),"\n",(0,c.jsxs)(s.h2,{id:"type-eventcontext",children:["Type ",(0,c.jsx)(s.code,{children:"EventContext"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"EventContext;"})})})})}),"\n",(0,c.jsxs)(s.p,{children:["An ",(0,c.jsx)(s.code,{children:"EventContext"})," is a ",(0,c.jsx)(s.a,{href:"#interface-dbcontext",children:(0,c.jsx)(s.code,{children:"DbContext"})})," augmented with a field ",(0,c.jsx)(s.a,{href:"#type-event",children:(0,c.jsx)(s.code,{children:"event: Event"})}),". ",(0,c.jsx)(s.code,{children:"EventContext"}),"s are passed as the first argument to row callbacks ",(0,c.jsx)(s.a,{href:"#callback-oninsert",children:(0,c.jsx)(s.code,{children:"onInsert"})}),", ",(0,c.jsx)(s.a,{href:"#callback-ondelete",children:(0,c.jsx)(s.code,{children:"onDelete"})})," and ",(0,c.jsx)(s.a,{href:"#callback-onupdate",children:(0,c.jsx)(s.code,{children:"onUpdate"})}),"."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#field-event",children:[(0,c.jsx)(s.code,{children:"event"})," field"]})}),(0,c.jsx)(s.td,{children:"Enum describing the cause of the current row callback."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#field-db",children:[(0,c.jsx)(s.code,{children:"db"})," field"]})}),(0,c.jsx)(s.td,{children:"Provides access to the client cache."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#field-reducers",children:[(0,c.jsx)(s.code,{children:"reducers"})," field"]})}),(0,c.jsx)(s.td,{children:"Allows requesting reducers run on the remote database."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#type-event",children:[(0,c.jsx)(s.code,{children:"Event"})," type"]})}),(0,c.jsx)(s.td,{children:"Possible events which can cause a row callback to be invoked."})]})]})]}),"\n",(0,c.jsxs)(s.h3,{id:"field-event",children:["Field ",(0,c.jsx)(s.code,{children:"event"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" EventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" event"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Event"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"/* other fields */"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.a,{href:"#type-event",children:(0,c.jsx)(s.code,{children:"Event"})})," contained in the ",(0,c.jsx)(s.code,{children:"EventContext"})," describes what happened to cause the current row callback to be invoked."]}),"\n",(0,c.jsxs)(s.h3,{id:"field-db-2",children:["Field ",(0,c.jsx)(s.code,{children:"db"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" EventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" db"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteTables"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"db"})," field of the context provides access to the subscribed view of the remote database's tables. See ",(0,c.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"}),"."]}),"\n",(0,c.jsxs)(s.h3,{id:"field-reducers-2",children:["Field ",(0,c.jsx)(s.code,{children:"reducers"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" EventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" reducers"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteReducers"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"reducers"})," field of the context provides access to reducers exposed by the remote module. See ",(0,c.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"Observe and invoke reducers"}),"."]}),"\n",(0,c.jsxs)(s.h3,{id:"type-event",children:["Type ",(0,c.jsx)(s.code,{children:"Event"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"type"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Event"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  |"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { tag"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" 'Reducer'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"; value"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ReducerEvent"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> }"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  |"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { tag"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" 'SubscribeApplied'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" }"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  |"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { tag"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" 'UnsubscribeApplied'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" }"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  |"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { tag"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" 'Error'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"; value"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Error"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" }"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  |"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { tag"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" 'UnknownTransaction'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" };"})]})]})})}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#variant-reducer",children:[(0,c.jsx)(s.code,{children:"Reducer"})," variant"]})}),(0,c.jsx)(s.td,{children:"A reducer ran in the remote database."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#variant-subscribeapplied",children:[(0,c.jsx)(s.code,{children:"SubscribeApplied"})," variant"]})}),(0,c.jsx)(s.td,{children:"A new subscription was applied to the client cache."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#variant-unsubscribeapplied",children:[(0,c.jsx)(s.code,{children:"UnsubscribeApplied"})," variant"]})}),(0,c.jsxs)(s.td,{children:["A previous subscription was removed from the client cache after a call to ",(0,c.jsx)(s.a,{href:"#method-unsubscribe",children:(0,c.jsx)(s.code,{children:"unsubscribe"})}),"."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#variant-error",children:[(0,c.jsx)(s.code,{children:"Error"})," variant"]})}),(0,c.jsx)(s.td,{children:"A previous subscription was removed from the client cache due to an error."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#variant-unknowntransaction",children:[(0,c.jsx)(s.code,{children:"UnknownTransaction"})," variant"]})}),(0,c.jsx)(s.td,{children:"A transaction ran in the remote database, but was not attributed to a known reducer."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#type-reducerevent",children:[(0,c.jsx)(s.code,{children:"ReducerEvent"})," type"]})}),(0,c.jsxs)(s.td,{children:["Metadata about a reducer run. Contained in ",(0,c.jsx)(s.a,{href:"#variant-reducer",children:(0,c.jsx)(s.code,{children:"Event::Reducer"})})," and ",(0,c.jsx)(s.a,{href:"#type-reducereventcontext",children:(0,c.jsx)(s.code,{children:"ReducerEventContext"})}),"."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#type-updatestatus",children:[(0,c.jsx)(s.code,{children:"UpdateStatus"})," type"]})}),(0,c.jsx)(s.td,{children:"Completion status of a reducer run."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#type-reducer",children:[(0,c.jsx)(s.code,{children:"Reducer"})," type"]})}),(0,c.jsx)(s.td,{children:"Module-specific generated enum with a variant for each reducer defined by the module."})]})]})]}),"\n",(0,c.jsxs)(s.h4,{id:"variant-reducer",children:["Variant ",(0,c.jsx)(s.code,{children:"Reducer"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  tag: "}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  value: ReducerEvent"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:">"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Event when we are notified that a reducer ran in the remote database. The ",(0,c.jsx)(s.a,{href:"#type-reducerevent",children:(0,c.jsx)(s.code,{children:"ReducerEvent"})})," contains metadata about the reducer run, including its arguments and termination status(#type-updatestatus)."]}),"\n",(0,c.jsx)(s.p,{children:"This event is passed to row callbacks resulting from modifications by the reducer."}),"\n",(0,c.jsxs)(s.h4,{id:"variant-subscribeapplied",children:["Variant ",(0,c.jsx)(s.code,{children:"SubscribeApplied"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  tag: "}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"SubscribeApplied"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"Event when our subscription is applied and its rows are inserted into the client cache."}),"\n",(0,c.jsxs)(s.p,{children:["This event is passed to ",(0,c.jsxs)(s.a,{href:"#callback-oninsert",children:["row ",(0,c.jsx)(s.code,{children:"onInsert"})," callbacks"]})," resulting from the new subscription."]}),"\n",(0,c.jsxs)(s.h4,{id:"variant-unsubscribeapplied",children:["Variant ",(0,c.jsx)(s.code,{children:"UnsubscribeApplied"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  tag: "}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"UnsubscribeApplied"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Event when our subscription is removed after a call to ",(0,c.jsx)(s.a,{href:"#method-unsubscribe",children:(0,c.jsx)(s.code,{children:"SubscriptionHandle.unsubscribe"})})," or ",(0,c.jsx)(s.a,{href:"#method-unsubscribethen",children:(0,c.jsx)(s.code,{children:"SubscriptionHandle.unsubscribeThen"})})," and its matching rows are deleted from the client cache."]}),"\n",(0,c.jsxs)(s.p,{children:["This event is passed to ",(0,c.jsxs)(s.a,{href:"#callback-ondelete",children:["row ",(0,c.jsx)(s.code,{children:"onDelete"})," callbacks"]})," resulting from the subscription ending."]}),"\n",(0,c.jsxs)(s.h4,{id:"variant-error",children:["Variant ",(0,c.jsx)(s.code,{children:"Error"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  tag: "}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Error"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  value: Error;"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"Event when a subscription ends unexpectedly due to an error."}),"\n",(0,c.jsxs)(s.p,{children:["This event is passed to ",(0,c.jsxs)(s.a,{href:"#callback-ondelete",children:["row ",(0,c.jsx)(s.code,{children:"onDelete"})," callbacks"]})," resulting from the subscription ending."]}),"\n",(0,c.jsxs)(s.h4,{id:"variant-unknowntransaction",children:["Variant ",(0,c.jsx)(s.code,{children:"UnknownTransaction"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  tag: "}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"UnknownTransaction"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"Event when we are notified of a transaction in the remote database which we cannot associate with a known reducer. This may be an ad-hoc SQL query or a reducer for which we do not have bindings."}),"\n",(0,c.jsxs)(s.p,{children:["This event is passed to ",(0,c.jsx)(s.a,{href:"#callback-oninsert",children:"row callbacks"})," resulting from modifications by the transaction."]}),"\n",(0,c.jsxs)(s.h3,{id:"type-reducerevent",children:["Type ",(0,c.jsx)(s.code,{children:"ReducerEvent"})]}),"\n",(0,c.jsxs)(s.p,{children:["A ",(0,c.jsx)(s.code,{children:"ReducerEvent"})," contains metadata about a reducer run."]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"type"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ReducerEvent"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"  /**"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   * The time when the reducer started running."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   */"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  timestamp"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Timestamp"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"  /**"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   * Whether the reducer committed, was aborted due to insufficient energy, or failed with an error message."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   */"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  status"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" UpdateStatus"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"  /**"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   * The identity of the caller."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   * TODO: Revise these to reflect the forthcoming Identity proposal."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   */"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  callerIdentity"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Identity"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"  /**"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   * The connection ID of the caller."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   *"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   * May be `null`, e.g. for scheduled reducers."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   */"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  callerConnectionId"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"?:"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ConnectionId"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"  /**"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   * The amount of energy consumed by the reducer run, in eV."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   * (Not literal eV, but our SpacetimeDB energy unit eV.)"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   * May be present or undefined at the implementor's discretion;"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   * future work may determine an interface for module developers"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   * to request this value be published or hidden."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   */"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  energyConsumed"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"?:"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" bigint"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"  /**"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   * The `Reducer` enum defined by the `moduleBindings`, which encodes which reducer ran and its arguments."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"   */"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  reducer"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"};"})})]})})}),"\n",(0,c.jsxs)(s.h3,{id:"type-updatestatus",children:["Type ",(0,c.jsx)(s.code,{children:"UpdateStatus"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"type"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" UpdateStatus"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  |"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { tag"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Committed"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"; value"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" __DatabaseUpdate"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" }"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  |"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { tag"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Failed"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"; value"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" }"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  |"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { tag"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"OutOfEnergy"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" };"})]})]})})}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#variant-committed",children:[(0,c.jsx)(s.code,{children:"Committed"})," variant"]})}),(0,c.jsx)(s.td,{children:"The reducer ran successfully."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#variant-failed",children:[(0,c.jsx)(s.code,{children:"Failed"})," variant"]})}),(0,c.jsx)(s.td,{children:"The reducer errored."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#variant-outofenergy",children:[(0,c.jsx)(s.code,{children:"OutOfEnergy"})," variant"]})}),(0,c.jsx)(s.td,{children:"The reducer was aborted due to insufficient energy."})]})]})]}),"\n",(0,c.jsxs)(s.h4,{id:"variant-committed",children:["Variant ",(0,c.jsx)(s.code,{children:"Committed"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  tag: "}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Committed"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The reducer returned successfully and its changes were committed into the database state. An ",(0,c.jsxs)(s.a,{href:"#variant-reducer",children:[(0,c.jsx)(s.code,{children:"Event"})," with ",(0,c.jsx)(s.code,{children:"tag: 'Reducer'"})]})," passed to a row callback must have this status in its ",(0,c.jsx)(s.a,{href:"#type-reducerevent",children:(0,c.jsx)(s.code,{children:"ReducerEvent"})}),"."]}),"\n",(0,c.jsxs)(s.h4,{id:"variant-failed",children:["Variant ",(0,c.jsx)(s.code,{children:"Failed"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  tag: "}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Failed"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  value: string;"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The reducer returned an error, panicked, or threw an exception. The ",(0,c.jsx)(s.code,{children:"value"})," is the stringified error message. Formatting of the error message is unstable and subject to change, so clients should use it only as a human-readable diagnostic, and in particular should not attempt to parse the message."]}),"\n",(0,c.jsxs)(s.h4,{id:"variant-outofenergy",children:["Variant ",(0,c.jsx)(s.code,{children:"OutOfEnergy"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  tag: "}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"OutOfEnergy"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"The reducer was aborted due to insufficient energy balance of the module owner."}),"\n",(0,c.jsxs)(s.h3,{id:"type-reducer",children:["Type ",(0,c.jsx)(s.code,{children:"Reducer"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"type"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Reducer"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  |"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { name"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" 'ReducerA'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"; args"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ReducerA"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" }"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  |"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { name"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" 'ReducerB'"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"; args"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ReducerB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" }"})]})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The module bindings contains a type ",(0,c.jsx)(s.code,{children:"Reducer"})," with a variant for each reducer defined by the module. Each variant has a field ",(0,c.jsx)(s.code,{children:"args"})," containing the arguments to the reducer."]}),"\n",(0,c.jsxs)(s.h2,{id:"type-reducereventcontext",children:["Type ",(0,c.jsx)(s.code,{children:"ReducerEventContext"})]}),"\n",(0,c.jsxs)(s.p,{children:["A ",(0,c.jsx)(s.code,{children:"ReducerEventContext"})," is a ",(0,c.jsx)(s.a,{href:"#interface-dbcontext",children:(0,c.jsx)(s.code,{children:"DbContext"})})," augmented with a field ",(0,c.jsx)(s.a,{href:"#type-reducerevent",children:(0,c.jsx)(s.code,{children:"event: ReducerEvent"})}),". ",(0,c.jsx)(s.code,{children:"ReducerEventContext"}),"s are passed as the first argument to ",(0,c.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"reducer callbacks"}),"."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#field-event",children:[(0,c.jsx)(s.code,{children:"event"})," field"]})}),(0,c.jsxs)(s.td,{children:[(0,c.jsx)(s.a,{href:"#type-reducerevent",children:(0,c.jsx)(s.code,{children:"ReducerEvent"})})," containing reducer metadata."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#field-db",children:[(0,c.jsx)(s.code,{children:"db"})," field"]})}),(0,c.jsx)(s.td,{children:"Provides access to the client cache."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#field-reducers",children:[(0,c.jsx)(s.code,{children:"reducers"})," field"]})}),(0,c.jsx)(s.td,{children:"Allows requesting reducers run on the remote database."})]})]})]}),"\n",(0,c.jsxs)(s.h3,{id:"field-event-1",children:["Field ",(0,c.jsx)(s.code,{children:"event"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ReducerEventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" event"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ReducerEvent"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.a,{href:"#type-reducerevent",children:(0,c.jsx)(s.code,{children:"ReducerEvent"})})," contained in the ",(0,c.jsx)(s.code,{children:"ReducerEventContext"})," has metadata about the reducer which ran."]}),"\n",(0,c.jsxs)(s.h3,{id:"field-db-3",children:["Field ",(0,c.jsx)(s.code,{children:"db"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ReducerEventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" db"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteTables"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"db"})," field of the context provides access to the subscribed view of the remote database's tables. See ",(0,c.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"}),"."]}),"\n",(0,c.jsxs)(s.h3,{id:"field-reducers-3",children:["Field ",(0,c.jsx)(s.code,{children:"reducers"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ReducerEventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" reducers"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteReducers"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"reducers"})," field of the context provides access to reducers exposed by the remote module. See ",(0,c.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"Observe and invoke reducers"}),"."]}),"\n",(0,c.jsxs)(s.h2,{id:"type-subscriptioneventcontext",children:["Type ",(0,c.jsx)(s.code,{children:"SubscriptionEventContext"})]}),"\n",(0,c.jsxs)(s.p,{children:["A ",(0,c.jsx)(s.code,{children:"SubscriptionEventContext"})," is a ",(0,c.jsx)(s.a,{href:"#interface-dbcontext",children:(0,c.jsx)(s.code,{children:"DbContext"})}),". Unlike the other context types, ",(0,c.jsx)(s.code,{children:"SubscriptionEventContext"})," doesn't have an ",(0,c.jsx)(s.code,{children:"event"})," field. ",(0,c.jsx)(s.code,{children:"SubscriptionEventContext"}),"s are passed to subscription ",(0,c.jsx)(s.a,{href:"#callback-onapplied",children:(0,c.jsx)(s.code,{children:"onApplied"})})," and ",(0,c.jsx)(s.a,{href:"#method-unsubscribethen",children:(0,c.jsx)(s.code,{children:"unsubscribeThen"})})," callbacks."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#field-db",children:[(0,c.jsx)(s.code,{children:"db"})," field"]})}),(0,c.jsx)(s.td,{children:"Provides access to the client cache."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#field-reducers",children:[(0,c.jsx)(s.code,{children:"reducers"})," field"]})}),(0,c.jsx)(s.td,{children:"Allows requesting reducers run on the remote database."})]})]})]}),"\n",(0,c.jsxs)(s.h3,{id:"field-db-4",children:["Field ",(0,c.jsx)(s.code,{children:"db"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionEventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" db"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteTables"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"db"})," field of the context provides access to the subscribed view of the remote database's tables. See ",(0,c.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"}),"."]}),"\n",(0,c.jsxs)(s.h3,{id:"field-reducers-4",children:["Field ",(0,c.jsx)(s.code,{children:"reducers"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionEventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" reducers"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteReducers"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"reducers"})," field of the context provides access to reducers exposed by the remote module. See ",(0,c.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"Observe and invoke reducers"}),"."]}),"\n",(0,c.jsxs)(s.h2,{id:"type-errorcontext",children:["Type ",(0,c.jsx)(s.code,{children:"ErrorContext"})]}),"\n",(0,c.jsxs)(s.p,{children:["An ",(0,c.jsx)(s.code,{children:"ErrorContext"})," is a ",(0,c.jsx)(s.a,{href:"#interface-dbcontext",children:(0,c.jsx)(s.code,{children:"DbContext"})})," augmented with a field ",(0,c.jsx)(s.code,{children:"event: Error"}),". ",(0,c.jsx)(s.code,{children:"ErrorContext"}),"s are to connections' ",(0,c.jsx)(s.a,{href:"#callback-ondisconnect",children:(0,c.jsx)(s.code,{children:"onDisconnect"})})," and ",(0,c.jsx)(s.a,{href:"#callback-onconnecterror",children:(0,c.jsx)(s.code,{children:"onConnectError"})})," callbacks, and to subscriptions' ",(0,c.jsx)(s.a,{href:"#callback-onerror",children:(0,c.jsx)(s.code,{children:"onError"})})," callbacks."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#field-event",children:[(0,c.jsx)(s.code,{children:"event"})," field"]})}),(0,c.jsx)(s.td,{children:"The error which caused the current error callback."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#field-db",children:[(0,c.jsx)(s.code,{children:"db"})," field"]})}),(0,c.jsx)(s.td,{children:"Provides access to the client cache."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#field-reducers",children:[(0,c.jsx)(s.code,{children:"reducers"})," field"]})}),(0,c.jsx)(s.td,{children:"Allows requesting reducers run on the remote database."})]})]})]}),"\n",(0,c.jsxs)(s.h3,{id:"field-event-2",children:["Field ",(0,c.jsx)(s.code,{children:"event"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ErrorContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" event"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Error"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.h3,{id:"field-db-5",children:["Field ",(0,c.jsx)(s.code,{children:"db"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ErrorContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" db"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteTables"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"db"})," field of the context provides access to the subscribed view of the remote database's tables. See ",(0,c.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"}),"."]}),"\n",(0,c.jsxs)(s.h3,{id:"field-reducers-5",children:["Field ",(0,c.jsx)(s.code,{children:"reducers"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ErrorContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" reducers"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteReducers"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"reducers"})," field of the context provides access to reducers exposed by the remote module. See ",(0,c.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"Observe and invoke reducers"}),"."]}),"\n",(0,c.jsx)(s.h2,{id:"access-the-client-cache",children:"Access the client cache"}),"\n",(0,c.jsxs)(s.p,{children:["All ",(0,c.jsx)(s.a,{href:"#interface-dbcontext",children:(0,c.jsx)(s.code,{children:"DbContext"})})," implementors, including ",(0,c.jsx)(s.a,{href:"#type-dbconnection",children:(0,c.jsx)(s.code,{children:"DbConnection"})})," and ",(0,c.jsx)(s.a,{href:"#type-eventcontext",children:(0,c.jsx)(s.code,{children:"EventContext"})}),", have fields ",(0,c.jsx)(s.code,{children:".db"}),", which in turn has methods for accessing tables in the client cache."]}),"\n",(0,c.jsxs)(s.p,{children:["Each table defined by a module has an accessor method, whose name is the table name converted to ",(0,c.jsx)(s.code,{children:"camelCase"}),", on this ",(0,c.jsx)(s.code,{children:".db"})," field. The table accessor methods return table handles. Table handles have methods for ",(0,c.jsx)(s.a,{href:"#accessing-rows",children:"accessing rows"})," and ",(0,c.jsxs)(s.a,{href:"#callback-oninsert",children:["registering ",(0,c.jsx)(s.code,{children:"onInsert"})]})," and ",(0,c.jsxs)(s.a,{href:"#callback-ondelete",children:[(0,c.jsx)(s.code,{children:"onDelete"})," callbacks"]}),". Handles for tables which have a declared primary key field also expose ",(0,c.jsxs)(s.a,{href:"#callback-onupdate",children:[(0,c.jsx)(s.code,{children:"onUpdate"})," callbacks"]}),". Table handles also offer the ability to find subscribed rows by unique index."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.a,{href:"#accessing-rows",children:"Accessing rows"})}),(0,c.jsx)(s.td,{children:"Iterate over or count subscribed rows."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#callback-oninsert",children:[(0,c.jsx)(s.code,{children:"onInsert"})," callback"]})}),(0,c.jsx)(s.td,{children:"Register a function to run when a row is added to the client cache."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#callback-ondelete",children:[(0,c.jsx)(s.code,{children:"onDelete"})," callback"]})}),(0,c.jsx)(s.td,{children:"Register a function to run when a row is removed from the client cache."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#callback-onupdate",children:[(0,c.jsx)(s.code,{children:"onUpdate"})," callback"]})}),(0,c.jsx)(s.td,{children:"Register a function to run when a subscribed row is replaced with a new version."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.a,{href:"#unique-constraint-index-access",children:"Unique index access"})}),(0,c.jsx)(s.td,{children:"Seek a subscribed row by the value in its unique or primary key column."})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsx)(s.a,{href:"#btree-index-access",children:"BTree index access"})}),(0,c.jsx)(s.td,{children:"Not supported."})]})]})]}),"\n",(0,c.jsx)(s.h3,{id:"accessing-rows",children:"Accessing rows"}),"\n",(0,c.jsxs)(s.h4,{id:"method-count",children:["Method ",(0,c.jsx)(s.code,{children:"count"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" TableHandle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" count"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" number"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"Returns the number of rows of this table resident in the client cache, i.e. the total number which match any subscribed query."}),"\n",(0,c.jsxs)(s.h4,{id:"method-iter",children:["Method ",(0,c.jsx)(s.code,{children:"iter"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" TableHandle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" iter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Iterable"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"An iterator over all the subscribed rows in the client cache, i.e. those which match any subscribed query."}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"Row"})," type will be an autogenerated type which matches the row type defined by the module."]}),"\n",(0,c.jsxs)(s.h3,{id:"callback-oninsert",children:["Callback ",(0,c.jsx)(s.code,{children:"onInsert"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" TableHandle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" onInsert"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"callback"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"ctx"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" EventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"row"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" removeOnInsert"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"callback"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"ctx"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" EventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"row"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"onInsert"})," callback runs whenever a new row is inserted into the client cache, either when applying a subscription or being notified of a transaction. The passed ",(0,c.jsx)(s.a,{href:"#type-eventcontext",children:(0,c.jsx)(s.code,{children:"EventContext"})})," contains an ",(0,c.jsx)(s.a,{href:"#type-event",children:(0,c.jsx)(s.code,{children:"Event"})})," which can identify the change which caused the insertion, and also allows the callback to interact with the connection, inspect the client cache and invoke reducers."]}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"Row"})," type will be an autogenerated type which matches the row type defined by the module."]}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"removeOnInsert"})," may be used to un-register a previously-registered ",(0,c.jsx)(s.code,{children:"onInsert"})," callback."]}),"\n",(0,c.jsxs)(s.h3,{id:"callback-ondelete",children:["Callback ",(0,c.jsx)(s.code,{children:"onDelete"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" TableHandle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" onDelete"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"callback"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"ctx"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" EventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"row"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" removeOnDelete"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"callback"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"ctx"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" EventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"row"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"onDelete"})," callback runs whenever a previously-resident row is deleted from the client cache."]}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"Row"})," type will be an autogenerated type which matches the row type defined by the module."]}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"removeOnDelete"})," may be used to un-register a previously-registered ",(0,c.jsx)(s.code,{children:"onDelete"})," callback."]}),"\n",(0,c.jsxs)(s.h3,{id:"callback-onupdate",children:["Callback ",(0,c.jsx)(s.code,{children:"onUpdate"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" TableHandle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" onUpdate"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"    callback"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"ctx"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" EventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"old"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"new"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  )"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"  public"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" removeOnUpdate"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"    callback"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"ctx"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" EventContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"old"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"new"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  )"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"onUpdate"})," callback runs whenever an already-resident row in the client cache is updated, i.e. replaced with a new row that has the same primary key."]}),"\n",(0,c.jsxs)(s.p,{children:["Only tables with a declared primary key expose ",(0,c.jsx)(s.code,{children:"onUpdate"})," callbacks. Handles for tables without a declared primary key will not have ",(0,c.jsx)(s.code,{children:"onUpdate"})," or ",(0,c.jsx)(s.code,{children:"removeOnUpdate"})," methods."]}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"Row"})," type will be an autogenerated type which matches the row type defined by the module."]}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"removeOnUpdate"})," may be used to un-register a previously-registered ",(0,c.jsx)(s.code,{children:"onUpdate"})," callback."]}),"\n",(0,c.jsx)(s.h3,{id:"unique-constraint-index-access",children:"Unique constraint index access"}),"\n",(0,c.jsxs)(s.p,{children:["For each unique constraint on a table, its table handle has a field whose name is the unique column name. This field is a unique index handle. The unique index handle has a method ",(0,c.jsx)(s.code,{children:".find(desiredValue: Col) -> Row | undefined"}),", where ",(0,c.jsx)(s.code,{children:"Col"})," is the type of the column, and ",(0,c.jsx)(s.code,{children:"Row"})," the type of rows. If a row with ",(0,c.jsx)(s.code,{children:"desiredValue"})," in the unique column is resident in the client cache, ",(0,c.jsx)(s.code,{children:".find"})," returns it."]}),"\n",(0,c.jsx)(s.h3,{id:"btree-index-access",children:"BTree index access"}),"\n",(0,c.jsx)(s.p,{children:"The SpacetimeDB TypeScript client SDK does not support non-unique BTree indexes."}),"\n",(0,c.jsx)(s.h2,{id:"observe-and-invoke-reducers",children:"Observe and invoke reducers"}),"\n",(0,c.jsxs)(s.p,{children:["All ",(0,c.jsx)(s.a,{href:"#interface-dbcontext",children:(0,c.jsx)(s.code,{children:"DbContext"})})," implementors, including ",(0,c.jsx)(s.a,{href:"#type-dbconnection",children:(0,c.jsx)(s.code,{children:"DbConnection"})})," and ",(0,c.jsx)(s.a,{href:"#type-eventcontext",children:(0,c.jsx)(s.code,{children:"EventContext"})}),", have fields ",(0,c.jsx)(s.code,{children:".reducers"}),", which in turn has methods for invoking reducers defined by the module and registering callbacks on it."]}),"\n",(0,c.jsxs)(s.p,{children:["Each reducer defined by the module has three methods on the ",(0,c.jsx)(s.code,{children:".reducers"}),":"]}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["An invoke method, whose name is the reducer's name converted to camel case, like ",(0,c.jsx)(s.code,{children:"setName"}),". This requests that the module run the reducer."]}),"\n",(0,c.jsxs)(s.li,{children:["A callback registation method, whose name is prefixed with ",(0,c.jsx)(s.code,{children:"on"}),", like ",(0,c.jsx)(s.code,{children:"onSetName"}),". This registers a callback to run whenever we are notified that the reducer ran, including successfully committed runs and runs we requested which failed. This method returns a callback id, which can be passed to the callback remove method."]}),"\n",(0,c.jsxs)(s.li,{children:["A callback remove method, whose name is prefixed with ",(0,c.jsx)(s.code,{children:"removeOn"}),", like ",(0,c.jsx)(s.code,{children:"removeOnSetName"}),". This cancels a callback previously registered via the callback registration method."]}),"\n"]}),"\n",(0,c.jsx)(s.h2,{id:"identify-a-client",children:"Identify a client"}),"\n",(0,c.jsxs)(s.h3,{id:"type-identity",children:["Type ",(0,c.jsx)(s.code,{children:"Identity"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Identity"})})})})}),"\n",(0,c.jsx)(s.p,{children:"A unique public identifier for a client connected to a database."}),"\n",(0,c.jsxs)(s.h3,{id:"type-connectionid",children:["Type ",(0,c.jsx)(s.code,{children:"ConnectionId"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ConnectionId"})})})})}),"\n",(0,c.jsxs)(s.p,{children:["An opaque identifier for a client connection to a database, intended to differentiate between connections from the same ",(0,c.jsx)(s.a,{href:"#type-identity",children:(0,c.jsx)(s.code,{children:"Identity"})}),"."]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,c.jsx)(s,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},6119:(e,s,l)=>{l.d(s,{R:()=>i,x:()=>o});var n=l(3303);const c={},r=n.createContext(c);function i(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);