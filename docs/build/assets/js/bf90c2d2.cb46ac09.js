"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8261],{6119:(s,e,l)=>{l.d(e,{R:()=>o,x:()=>a});var n=l(3303);const c={},r=n.createContext(c);function o(s){const e=n.useContext(r);return n.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function a(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(c):s.components||c:o(s.components),n.createElement(r.Provider,{value:e},s.children)}},6294:(s,e,l)=>{l.r(e),l.d(e,{assets:()=>i,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"SpacetimeAuth/React-Integration","title":"React Integration","description":"SpacetimeAuth is currently in beta, some features may not be available yet or may change in the future. You might encounter bugs or issues while using the service. Please report any problems you encounter to help us improve SpacetimeAuth.","source":"@site/docs/12-SpacetimeAuth/05-React-Integration.md","sourceDirName":"12-SpacetimeAuth","slug":"/spacetimeauth/react-integration","permalink":"/spacetimeauth/react-integration","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"React Integration","slug":"/spacetimeauth/react-integration"},"sidebar":"sidebar","previous":{"title":"Testing","permalink":"/spacetimeauth/testing"},"next":{"title":"Authorization","permalink":"/http/authorization"}}');var c=l(7711),r=l(6119);const o={title:"React Integration",slug:"/spacetimeauth/react-integration"},a="React Integration",i={},t=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Configuring react-oidc-context",id:"configuring-react-oidc-context",level:2},{value:"1. Add an OIDC configuration object",id:"1-add-an-oidc-configuration-object",level:3},{value:"2. Create a debug component",id:"2-create-a-debug-component",level:3},{value:"3. Wrap Your Application with AuthProvider",id:"3-wrap-your-application-with-authprovider",level:3}];function F(s){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",...(0,r.R)(),...s.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"react-integration",children:"React Integration"})}),"\n",(0,c.jsx)(e.admonition,{type:"warning",children:(0,c.jsx)(e.p,{children:"SpacetimeAuth is currently in beta, some features may not be available yet or may change in the future. You might encounter bugs or issues while using the service. Please report any problems you encounter to help us improve SpacetimeAuth."})}),"\n",(0,c.jsxs)(e.p,{children:["This guide will walk you through integrating SpacetimeAuth into a React\napplication using the ",(0,c.jsx)(e.a,{href:"https://www.npmjs.com/package/react-oidc-context",children:"react-oidc-context"}),"\nlibrary.\nThis library provides a simple way to handle OpenID Connect (OIDC) authentication\nin React."]}),"\n",(0,c.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,c.jsxs)(e.ol,{children:["\n",(0,c.jsxs)(e.li,{children:["Create a SpacetimeAuth project and configure a client as described in the\n",(0,c.jsx)(e.a,{href:"/spacetimeauth/creating-a-project",children:"Getting Started"})," and\n",(0,c.jsx)(e.a,{href:"/spacetimeauth/configuring-a-project",children:"Configuration"})," guides."]}),"\n",(0,c.jsx)(e.li,{children:"Have a React application set up. You can use Create React App or any other\nReact framework."}),"\n",(0,c.jsxs)(e.li,{children:["Install the ",(0,c.jsx)(e.code,{children:"react-oidc-context"})," package in your React application:"]}),"\n"]}),"\n",(0,c.jsx)(e.h2,{id:"configuring-react-oidc-context",children:"Configuring react-oidc-context"}),"\n",(0,c.jsx)(e.h3,{id:"1-add-an-oidc-configuration-object",children:"1. Add an OIDC configuration object"}),"\n",(0,c.jsxs)(e.p,{children:["Create an OIDC configuration object with your SpacetimeAuth project details.\nMake sure to replace ",(0,c.jsx)(e.code,{children:"YOUR_CLIENT_ID"})," with the actual client ID from your\nSpacetimeAuth dashboard."]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(e.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(e.code,{children:[(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"const"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" oidcConfig "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"  authority"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"https://spacetimeauth.staging.spacetimedb.com/oidc"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"  client_id"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"YOUR_CLIENT_ID"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"  redirect_uri"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:" `"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"${"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"window.location.origin"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"}"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"/callback`"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"  scope"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"openid profile email"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"  response_type"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"code"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"  automaticSilentRenew"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" true"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"};"})})]})})}),"\n",(0,c.jsx)(e.h3,{id:"2-create-a-debug-component",children:"2. Create a debug component"}),"\n",(0,c.jsx)(e.p,{children:"This component will log various authentication events and state changes to\nthe console for debugging purposes."}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(e.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(e.code,{children:[(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"export"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" function"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" OidcDebug"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"() {"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"  const"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" auth "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" useAuth"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"  useEffect"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(() "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" ev "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" auth.events;"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" onUserLoaded"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"u"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" any"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"=>"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      console."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"log"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"[OIDC] userLoaded"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:", u?.profile?.sub, u);"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" onUserUnloaded"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" () "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" console."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"log"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"[OIDC] userUnloaded"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" onAccessTokenExpiring"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" () "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"=>"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      console."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"log"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"[OIDC] accessTokenExpiring"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" onAccessTokenExpired"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" () "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" console."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"log"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"[OIDC] accessTokenExpired"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" onSilentRenewError"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"e"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" any"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"=>"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      console."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"warn"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"[OIDC] silentRenewError"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:", e);"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" onUserSignedOut"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" () "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" console."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"log"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"[OIDC] userSignedOut"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    ev."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"addUserLoaded"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(onUserLoaded);"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    ev."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"addUserUnloaded"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(onUserUnloaded);"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    ev."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"addAccessTokenExpiring"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(onAccessTokenExpiring);"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    ev."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"addAccessTokenExpired"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(onAccessTokenExpired);"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    ev."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"addSilentRenewError"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(onSilentRenewError);"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    ev."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"addUserSignedOut"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(onUserSignedOut);"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    return"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" () "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      ev."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"removeUserLoaded"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(onUserLoaded);"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      ev."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"removeUserUnloaded"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(onUserUnloaded);"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      ev."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"removeAccessTokenExpiring"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(onAccessTokenExpiring);"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      ev."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"removeAccessTokenExpired"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(onAccessTokenExpired);"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      ev."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"removeSilentRenewError"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(onSilentRenewError);"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      ev."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"removeUserSignedOut"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(onUserSignedOut);"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    };"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"  }, [auth.events]);"})}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"  useEffect"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(() "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"=>"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    console."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"log"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"[OIDC] state"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:", {"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      isLoading"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" auth.isLoading,"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      isAuthenticated"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" auth.isAuthenticated,"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      error"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" auth.error?.message,"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      activeNavigator"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" auth.activeNavigator,"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"      user"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" !!"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"auth.user,"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    });"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"  }, ["})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    auth.isLoading,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    auth.isAuthenticated,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    auth.error,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    auth.activeNavigator,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    auth.user,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"  ]);"})}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"  return"}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" null"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(e.h3,{id:"3-wrap-your-application-with-authprovider",children:"3. Wrap Your Application with AuthProvider"}),"\n",(0,c.jsxs)(e.p,{children:["Wrap your React application with the ",(0,c.jsx)(e.code,{children:"AuthProvider"})," component to provide\nauthentication context."]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(e.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(e.code,{children:[(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"import"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" React "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"from"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"react"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"import"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" ReactDOM "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"from"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"react-dom/client"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"import"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" { AuthProvider, useAuth } "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"from"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"react-oidc-context"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"import"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" App "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"from"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"./App"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"import"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" { OidcDebug } "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"from"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" '"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"./OidcDebug"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:"'"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"const"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" oidcConfig "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" {"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"..."}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"};"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"function"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" onSigninCallback"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"() {"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"  window.history."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"replaceState"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"({}, document.title, window.location.pathname);"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"}"})}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"const"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" root "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" ReactDOM."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"createRoot"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(document."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"getElementById"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"root"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"as"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" HTMLElement"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"root."}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"render"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"  <"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"AuthProvider"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" {"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"..."}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"oidcConfig} "}),(0,c.jsx)(e.span,{style:{color:"#50FA7B",fontStyle:"italic"},children:"onSigninCallback"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"{onSigninCallback}>"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    <"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"OidcDebug"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" />"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    <"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"App"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" />"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"  </"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"AuthProvider"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})}),"\n",(0,c.jsx)(e.span,{className:"line"})]})})}),"\n",(0,c.jsx)(e.p,{children:"You're now set up to use SpacetimeAuth in your React application. When users\naccess your app, they will be redirected to the SpacetimeAuth login page for authentication."})]})}function d(s={}){const{wrapper:e}={...(0,r.R)(),...s.components};return e?(0,c.jsx)(e,{...s,children:(0,c.jsx)(F,{...s})}):F(s)}}}]);