"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8914],{623:(e,s,l)=>{l.d(s,{A:()=>N});var n=l(3303),r=l(3372),c=l(9607),a=l(2592),o=l(8368),i=l(1711),t=l(4541),d=l(4930),h=l(6022);function F(e){return n.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:s}=e;return!!s&&"object"==typeof s&&"value"in s}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:s,children:l}=e;return(0,n.useMemo)(()=>{const e=s??function(e){return F(e).map(({props:{value:e,label:s,attributes:l,default:n}})=>({value:e,label:s,attributes:l,default:n}))}(l);return function(e){const s=(0,d.XI)(e,(e,s)=>e.value===s.value);if(s.length>0)throw new Error(`Docusaurus error: Duplicate values "${s.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[s,l])}function x({value:e,tabValues:s}){return s.some(s=>s.value===e)}function j({queryString:e=!1,groupId:s}){const l=(0,o.W6)(),r=function({queryString:e=!1,groupId:s}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:e,groupId:s});return[(0,t.aZ)(r),(0,n.useCallback)(e=>{if(!r)return;const s=new URLSearchParams(l.location.search);s.set(r,e),l.replace({...l.location,search:s.toString()})},[r,l])]}function y(e){const{defaultValue:s,queryString:l=!1,groupId:r}=e,c=p(e),[a,o]=(0,n.useState)(()=>function({defaultValue:e,tabValues:s}){if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!x({value:e,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${s.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const l=s.find(e=>e.default)??s[0];if(!l)throw new Error("Unexpected error: 0 tabValues");return l.value}({defaultValue:s,tabValues:c})),[t,d]=j({queryString:l,groupId:r}),[F,y]=function({groupId:e}){const s=function(e){return e?`docusaurus.tab.${e}`:null}(e),[l,r]=(0,h.Dv)(s);return[l,(0,n.useCallback)(e=>{s&&r.set(e)},[s,r])]}({groupId:r}),u=(()=>{const e=t??F;return x({value:e,tabValues:c})?e:null})();(0,i.A)(()=>{u&&o(u)},[u]);return{selectedValue:a,selectValue:(0,n.useCallback)(e=>{if(!x({value:e,tabValues:c}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),y(e)},[d,y,c]),tabValues:c}}var u=l(93);const m={tabList:"tabList_MbSD",tabItem:"tabItem_Ssy3"};var b=l(7711);function C({className:e,block:s,selectedValue:l,selectValue:n,tabValues:c}){const o=[],{blockElementScrollPositionUntilNextRender:i}=(0,a.a_)(),t=e=>{const s=e.currentTarget,r=o.indexOf(s),a=c[r].value;a!==l&&(i(s),n(a))},d=e=>{let s=null;switch(e.key){case"Enter":t(e);break;case"ArrowRight":{const l=o.indexOf(e.currentTarget)+1;s=o[l]??o[0];break}case"ArrowLeft":{const l=o.indexOf(e.currentTarget)-1;s=o[l]??o[o.length-1];break}}s?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":s},e),children:c.map(({value:e,label:s,attributes:n})=>(0,b.jsx)("li",{role:"tab",tabIndex:l===e?0:-1,"aria-selected":l===e,ref:e=>{o.push(e)},onKeyDown:d,onClick:t,...n,className:(0,r.A)("tabs__item",m.tabItem,n?.className,{"tabs__item--active":l===e}),children:s??e},e))})}function E({lazy:e,children:s,selectedValue:l}){const c=(Array.isArray(s)?s:[s]).filter(Boolean);if(e){const e=c.find(e=>e.props.value===l);return e?(0,n.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:c.map((e,s)=>(0,n.cloneElement)(e,{key:s,hidden:e.props.value!==l}))})}function f(e){const s=y(e);return(0,b.jsxs)("div",{className:(0,r.A)(c.G.tabs.container,"tabs-container",m.tabList),children:[(0,b.jsx)(C,{...s,...e}),(0,b.jsx)(E,{...s,...e})]})}function N(e){const s=(0,u.A)();return(0,b.jsx)(f,{...e,children:F(e.children)},String(s))}},3393:(e,s,l)=>{l.r(s),l.d(s,{assets:()=>d,contentTitle:()=>t,default:()=>p,frontMatter:()=>i,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"SQL/SQL-Reference","title":"SQL Reference","description":"SpacetimeDB supports two subsets of SQL:","source":"@site/docs/08-SQL/01-SQL-Reference.md","sourceDirName":"08-SQL","slug":"/sql","permalink":"/sql","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"SQL Reference","slug":"/sql"},"sidebar":"sidebar","previous":{"title":"TypeScript Reference","permalink":"/sdks/typescript"},"next":{"title":"PostgreSQL Wire Protocol (PGWire)","permalink":"/docs/sql/pg-wire"}}');var r=l(7711),c=l(6119),a=l(623),o=l(8720);const i={title:"SQL Reference",slug:"/sql"},t="SQL Support",d={},h=[{value:"Subscriptions",id:"subscriptions",level:2},{value:"SELECT",id:"select",level:3},{value:"Examples",id:"examples",level:4},{value:"FROM",id:"from",level:3},{value:"Example",id:"example",level:4},{value:"WHERE",id:"where",level:3},{value:"Examples",id:"examples-1",level:4},{value:"Query and DML (Data Manipulation Language)",id:"query-and-dml-data-manipulation-language",level:2},{value:"Statements",id:"statements",level:3},{value:"SELECT",id:"select-1",level:3},{value:"SELECT Clause",id:"select-clause",level:4},{value:"Examples",id:"examples-2",level:5},{value:"Example",id:"example-1",level:5},{value:"FROM Clause",id:"from-clause",level:4},{value:"Examples",id:"examples-3",level:5},{value:"WHERE Clause",id:"where-clause",level:4},{value:"LIMIT clause",id:"limit-clause",level:4},{value:"Examples",id:"examples-4",level:5},{value:"INSERT",id:"insert",level:3},{value:"Examples",id:"examples-5",level:4},{value:"DELETE",id:"delete",level:3},{value:"Examples",id:"examples-6",level:4},{value:"UPDATE",id:"update",level:3},{value:"Examples",id:"examples-7",level:4},{value:"SET",id:"set",level:3},{value:"SHOW",id:"show",level:3},{value:"System Variables",id:"system-variables",level:2},{value:"Data types",id:"data-types",level:2},{value:"Literals",id:"literals",level:2},{value:"Booleans",id:"booleans",level:3},{value:"Integers",id:"integers",level:3},{value:"Examples",id:"examples-8",level:4},{value:"Floats",id:"floats",level:3},{value:"Examples",id:"examples-9",level:4},{value:"Strings",id:"strings",level:3},{value:"Examples",id:"examples-10",level:4},{value:"Hex",id:"hex",level:3},{value:"Examples",id:"examples-11",level:4},{value:"Identifiers",id:"identifiers",level:2},{value:"Example",id:"example-2",level:3},{value:"Best Practices for Performance and Scalability",id:"best-practices-for-performance-and-scalability",level:2},{value:"Example",id:"example-3",level:3},{value:"Appendix",id:"appendix",level:2}];function F(e){const s={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"sql-support",children:"SQL Support"})}),"\n",(0,r.jsxs)(s.p,{children:["SpacetimeDB supports two subsets of SQL:\nOne for queries issued through the ",(0,r.jsx)(s.a,{href:"/cli-reference#spacetime-sql",children:"cli"})," or ",(0,r.jsx)(s.a,{href:"/http/database#post-v1databasename_or_identitysql",children:"http"})," api.\nAnother for subscriptions issued via the ",(0,r.jsx)(s.a,{href:"/sdks/rust#subscribe-to-queries",children:"sdk"})," or WebSocket api."]}),"\n",(0,r.jsx)(s.h2,{id:"subscriptions",children:"Subscriptions"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"SELECT projection FROM relation [ WHERE predicate ]\n"})}),"\n",(0,r.jsxs)(s.p,{children:["The subscription language is strictly a query language.\nIts sole purpose is to replicate a subset of the rows in the database,\nand to ",(0,r.jsx)(s.strong,{children:"automatically"})," update them in realtime as the database changes."]}),"\n",(0,r.jsxs)(s.p,{children:["There is no context for manually updating this view.\nHence data manipulation commands like ",(0,r.jsx)(s.code,{children:"INSERT"})," and ",(0,r.jsx)(s.code,{children:"DELETE"})," are not supported."]}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"NOTE: Because subscriptions are evaluated in realtime,\nperformance is critical, and as a result,\nadditional restrictions are applied over ad hoc queries.\nThese restrictions are highlighted below."}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"select",children:"SELECT"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"SELECT ( '*' | table '.' '*' )\n"})}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"SELECT"})," clause determines the table that is being subscribed to.\nSince the subscription api is purely a replication api,\na query may only return rows from a single table,\nand it must return the entire row.\nIndividual column projections are not allowed."]}),"\n",(0,r.jsxs)(s.p,{children:["A ",(0,r.jsx)(s.code,{children:"*"})," projection is allowed when the table is unambiguous,\notherwise it must be qualified with the appropriate table name."]}),"\n",(0,r.jsx)(s.h4,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Subscribe to all rows of a table"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Qualify the `*` projection with the table"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" item."}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"*"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" from"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory item"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Subscribe to all customers who have orders totaling more than $1000"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" customer."}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"*"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Customers customer "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"JOIN"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Orders o "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"ON"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" customer"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"customer_id"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"amount"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" >"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" 1000"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- INVALID: Must return `Customers` or `Orders`, but not both"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Customers customer "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"JOIN"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Orders o "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"ON"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" customer"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"customer_id"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"amount"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" >"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" 1000"})]})]})})}),"\n",(0,r.jsx)(s.h3,{id:"from",children:"FROM"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"FROM table [ [AS] alias ] [ [INNER] JOIN table [ [AS] alias ] ON column '=' column ]\n"})}),"\n",(0,r.jsxs)(s.p,{children:["While you can only subscribe to rows from a single table,\nyou may reference two tables in the ",(0,r.jsx)(s.code,{children:"FROM"})," clause using a ",(0,r.jsx)(s.code,{children:"JOIN"}),".\nA ",(0,r.jsx)(s.code,{children:"JOIN"})," selects all combinations of rows from its input tables,\nand ",(0,r.jsx)(s.code,{children:"ON"})," determines which combinations are considered."]}),"\n",(0,r.jsx)(s.p,{children:"Subscriptions do not support joins of more than two tables."}),"\n",(0,r.jsxs)(s.p,{children:["For any column referenced in ",(0,r.jsx)(s.code,{children:"ON"})," clause of a ",(0,r.jsx)(s.code,{children:"JOIN"}),",\nit must be qualified with the appropriate table name or alias."]}),"\n",(0,r.jsxs)(s.p,{children:["In order for a ",(0,r.jsx)(s.code,{children:"JOIN"})," to be evaluated efficiently,\nsubscriptions require an index to be defined on both join columns."]}),"\n",(0,r.jsx)(s.h4,{id:"example",children:"Example"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Subscribe to all orders of products with less than 10 items in stock."})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Must have an index on the `product_id` column of the `Orders` table,"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- as well as the `id` column of the `Product` table."})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" o."}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"*"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Orders o "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"JOIN"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory product "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"ON"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"product_id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" product"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"id"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" product"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"quantity"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" <"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" 10"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Subscribe to all products that have at least one purchase"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" product."}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"*"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Orders o "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"JOIN"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory product "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"ON"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"product_id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" product"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"id"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- INVALID: Must qualify the column names referenced in `ON`"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" product."}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"*"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Orders "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"JOIN"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory product "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"ON"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" product_id "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" id"})]})]})})}),"\n",(0,r.jsx)(s.h3,{id:"where",children:"WHERE"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"predicate\n    = expr\n    | predicate AND predicate\n    | predicate OR  predicate\n    ;\n\nexpr\n    = literal\n    | column\n    | expr op expr\n    ;\n\nop\n    = '='\n    | '<'\n    | '>'\n    | '<' '='\n    | '>' '='\n    | '!' '='\n    | '<' '>'\n    ;\n\nliteral\n    = INTEGER\n    | STRING\n    | HEX\n    | TRUE\n    | FALSE\n    ;\n"})}),"\n",(0,r.jsxs)(s.p,{children:["While the ",(0,r.jsx)(s.code,{children:"SELECT"})," clause determines the table,\nthe ",(0,r.jsx)(s.code,{children:"WHERE"})," clause determines the rows in the subscription."]}),"\n",(0,r.jsx)(s.p,{children:"Arithmetic expressions are not supported."}),"\n",(0,r.jsx)(s.h4,{id:"examples-1",children:"Examples"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Find products that sell for more than $X"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" price "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:">"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {X}"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Find products that sell for more than $X and have fewer than Y items in stock"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" price "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:">"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {X} "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"AND"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" amount "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {Y}"})]})]})})}),"\n",(0,r.jsx)(s.h2,{id:"query-and-dml-data-manipulation-language",children:"Query and DML (Data Manipulation Language)"}),"\n",(0,r.jsx)(s.h3,{id:"statements",children:"Statements"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#select-1",children:"SELECT"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#insert",children:"INSERT"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#delete",children:"DELETE"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#update",children:"UPDATE"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#set",children:"SET"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"#show",children:"SHOW"})}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"select-1",children:"SELECT"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"SELECT projection FROM relation [ WHERE predicate ] [LIMIT NUM]\n"})}),"\n",(0,r.jsxs)(s.p,{children:["The query languge is a strict superset of the subscription language.\nThe main differences are seen in column projections and ",(0,r.jsx)(s.a,{href:"#from-clause",children:"joins"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["The subscription api only supports ",(0,r.jsx)(s.code,{children:"*"})," projections,\nbut the query api supports both individual column projections,\nas well as aggregations in the form of ",(0,r.jsx)(s.code,{children:"COUNT"}),"."]}),"\n",(0,r.jsx)(s.p,{children:"The subscription api limits the number of tables you can join,\nand enforces index constraints on the join columns,\nbut the query language has no such constraints or limitations."}),"\n",(0,r.jsx)(s.h4,{id:"select-clause",children:"SELECT Clause"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"projection\n    = '*'\n    | table '.' '*'\n    | projExpr { ',' projExpr }\n    | aggExpr\n    ;\n\nprojExpr\n    = column [ [ AS ] alias ]\n    ;\n\naggExpr\n    = COUNT '(' '*' ')' [AS] alias\n    ;\n"})}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"SELECT"})," clause determines the columns that are returned."]}),"\n",(0,r.jsx)(s.h5,{id:"examples-2",children:"Examples"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Select the items in my inventory"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory;"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Select the names and prices of the items in my inventory"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" item_name, price "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory"})]})]})})}),"\n",(0,r.jsxs)(s.p,{children:["It also allows for counting the number of input rows via the ",(0,r.jsx)(s.code,{children:"COUNT"})," function.\n",(0,r.jsx)(s.code,{children:"COUNT"})," always returns a single row, even if the input is empty."]}),"\n",(0,r.jsx)(s.h5,{id:"example-1",children:"Example"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Count the items in my inventory"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:" COUNT"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"*"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"AS"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" n "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory"})]})]})})}),"\n",(0,r.jsx)(s.h4,{id:"from-clause",children:"FROM Clause"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"FROM table [ [AS] alias ] { [INNER] JOIN table [ [AS] alias ] ON predicate }\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Unlike ",(0,r.jsx)(s.a,{href:"#from",children:"subscriptions"}),", the query api supports joining more than two tables."]}),"\n",(0,r.jsx)(s.h5,{id:"examples-3",children:"Examples"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Find all customers who ordered a particular product and when they ordered it"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" customer"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"first_name"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"customer"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"last_name"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"date"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Customers customer"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"JOIN"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Orders o "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"ON"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" customer"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"customer_id"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"JOIN"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory product "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"ON"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"product_id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" product"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"id"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" product"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {product_name}"})]})]})})}),"\n",(0,r.jsx)(s.h4,{id:"where-clause",children:"WHERE Clause"}),"\n",(0,r.jsxs)(s.p,{children:["See ",(0,r.jsx)(s.a,{href:"#where",children:"Subscriptions"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"limit-clause",children:"LIMIT clause"}),"\n",(0,r.jsxs)(s.p,{children:["Limits the number of rows a query returns by specifying an upper bound.\nThe ",(0,r.jsx)(s.code,{children:"LIMIT"})," may return fewer rows if the query itself returns fewer rows.\n",(0,r.jsx)(s.code,{children:"LIMIT"})," does not order or transform its input in any way."]}),"\n",(0,r.jsx)(s.h5,{id:"examples-4",children:"Examples"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Fetch an example row from my inventory"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"LIMIT"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" 1"})]})]})})}),"\n",(0,r.jsx)(s.h3,{id:"insert",children:"INSERT"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"INSERT INTO table [ '(' column { ',' column } ')' ] VALUES '(' literal { ',' literal } ')'\n"})}),"\n",(0,r.jsx)(s.h4,{id:"examples-5",children:"Examples"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Inserting one row"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"INSERT INTO"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory (item_id, item_name) "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"VALUES"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"1"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"health1"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Inserting two rows"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"INSERT INTO"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory (item_id, item_name) "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"VALUES"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"1"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"health1"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"), ("}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"2"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"health2"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]})]})})}),"\n",(0,r.jsx)(s.h3,{id:"delete",children:"DELETE"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"DELETE FROM table [ WHERE predicate ]\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Deletes all rows from a table.\nIf ",(0,r.jsx)(s.code,{children:"WHERE"})," is specified, only the matching rows are deleted."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"DELETE"})," does not support joins."]}),"\n",(0,r.jsx)(s.h4,{id:"examples-6",children:"Examples"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Delete all rows"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"DELETE"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory;"})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Delete all rows with a specific item_id"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"DELETE"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" item_id "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" 1"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]})]})})}),"\n",(0,r.jsx)(s.h3,{id:"update",children:"UPDATE"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"UPDATE table SET [ '(' assignment { ',' assignment } ')' ] [ WHERE predicate ]\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Updates column values of existing rows in a table.\nThe columns are identified by the ",(0,r.jsx)(s.code,{children:"assignment"})," defined as ",(0,r.jsx)(s.code,{children:"column '=' literal"}),".\nThe column values are updated for all rows that match the ",(0,r.jsx)(s.code,{children:"WHERE"})," condition.\nThe rows are updated after the ",(0,r.jsx)(s.code,{children:"WHERE"})," condition is evaluated for all rows."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"UPDATE"})," does not support joins."]}),"\n",(0,r.jsx)(s.h4,{id:"examples-7",children:"Examples"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Update the item_name for all rows with a specific item_id"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"UPDATE"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SET"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" item_name "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:" '"}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"new name"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:"'"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" WHERE"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" item_id "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" 1"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]})]})})}),"\n",(0,r.jsx)(s.h3,{id:"set",children:"SET"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["WARNING: The ",(0,r.jsx)(s.code,{children:"SET"})," statement is experimental.\nCompatibility with future versions of SpacetimeDB is not guaranteed."]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"SET var ( TO | '=' ) literal\n"})}),"\n",(0,r.jsx)(s.p,{children:"Updates the value of a system variable."}),"\n",(0,r.jsx)(s.h3,{id:"show",children:"SHOW"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["WARNING: The ",(0,r.jsx)(s.code,{children:"SHOW"})," statement is experimental.\nCompatibility with future versions of SpacetimeDB is not guaranteed."]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"SHOW var\n"})}),"\n",(0,r.jsx)(s.p,{children:"Returns the value of a system variable."}),"\n",(0,r.jsx)(s.h2,{id:"system-variables",children:"System Variables"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"WARNING: System variables are experimental.\nCompatibility with future versions of SpacetimeDB is not guaranteed."}),"\n"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.code,{children:"row_limit"})}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Reject queries that scan more than 10K rows"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SET"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" row_limit "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" 10000"})]})]})})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"data-types",children:"Data types"}),"\n",(0,r.jsx)(s.p,{children:"The set of data types that SpacetimeDB supports is defined by SATS,\nthe Spacetime Algebraic Type System."}),"\n",(0,r.jsx)(s.p,{children:"Spacetime SQL however does not support all of SATS,\nspecifically in the way of product and sum types.\nThe language itself does not provide a way to construct them,\nnore does it provide any scalar operators for them.\nNevertheless rows containing them can be returned to clients."}),"\n",(0,r.jsx)(s.h2,{id:"literals",children:"Literals"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"literal = INTEGER | FLOAT | STRING | HEX | TRUE | FALSE ;\n"})}),"\n",(0,r.jsx)(s.p,{children:"The following describes how to construct literal values for SATS data types in Spacetime SQL."}),"\n",(0,r.jsx)(s.h3,{id:"booleans",children:"Booleans"}),"\n",(0,r.jsxs)(s.p,{children:["Booleans are represented using the canonical atoms ",(0,r.jsx)(s.code,{children:"true"})," or ",(0,r.jsx)(s.code,{children:"false"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"integers",children:"Integers"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"INTEGER\n    = [ '+' | '-' ] NUM\n    | [ '+' | '-' ] NUM 'E' [ '+' ] NUM\n    ;\n\nNUM\n    = DIGIT { DIGIT }\n    ;\n\nDIGIT\n    = 0..9\n    ;\n"})}),"\n",(0,r.jsx)(s.p,{children:"SATS supports multiple fixed width integer types.\nThe concrete type of a literal is inferred from the context."}),"\n",(0,r.jsx)(s.h4,{id:"examples-8",children:"Examples"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- All products that sell for more than $1000"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" price "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:">"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" 1000"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" price "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:">"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" 1e3"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" price "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:">"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" 1E3"})]})]})})}),"\n",(0,r.jsx)(s.h3,{id:"floats",children:"Floats"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"FLOAT\n    = [ '+' | '-' ] [ NUM ] '.' NUM\n    | [ '+' | '-' ] [ NUM ] '.' NUM 'E' [ '+' | '-' ] NUM\n    ;\n"})}),"\n",(0,r.jsx)(s.p,{children:"SATS supports both 32 and 64 bit floating point types.\nThe concrete type of a literal is inferred from the context."}),"\n",(0,r.jsx)(s.h4,{id:"examples-9",children:"Examples"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- All measurements where the temperature is greater than 105.3"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Measurements "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" temperature "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:">"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" 105"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"3"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Measurements "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" temperature "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:">"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" 1053e"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"-"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"1"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Measurements "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" temperature "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:">"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" 1053E"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"-"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"1"})]})]})})}),"\n",(0,r.jsx)(s.h3,{id:"strings",children:"Strings"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:'STRING\n    = "\'" { "\'\'" | CHAR } "\'"\n    ;\n'})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"CHAR"})," is defined as a ",(0,r.jsx)(s.code,{children:"utf-8"})," encoded unicode character."]}),"\n",(0,r.jsx)(s.h4,{id:"examples-10",children:"Examples"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsx)(s.code,{children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Customers "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" first_name "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:" '"}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"John"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:"'"})]})})})}),"\n",(0,r.jsx)(s.h3,{id:"hex",children:"Hex"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"HEX\n    = 'X' \"'\" { HEXIT } \"'\"\n    | '0' 'x' { HEXIT }\n    ;\n\nHEXIT\n    = DIGIT | a..f | A..F\n    ;\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Hex literals can represent ",(0,r.jsx)(s.a,{href:"/#identity",children:"Identity"}),", ",(0,r.jsx)(s.a,{href:"/#connectionid",children:"ConnectionId"}),", or binary types.\nThe type is ultimately inferred from the context."]}),"\n",(0,r.jsx)(s.h4,{id:"examples-11",children:"Examples"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsx)(s.code,{children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Program "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" hash_value "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" 0xABCD1234"})]})})})}),"\n",(0,r.jsx)(s.h2,{id:"identifiers",children:"Identifiers"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"identifier\n    = LATIN { LATIN | DIGIT | '_' }\n    | '\"' { '\"\"' | CHAR } '\"'\n    ;\n\nLATIN\n    = a..z | A..Z\n    ;\n"})}),"\n",(0,r.jsx)(s.p,{children:"Identifiers are tokens that identify database objects like tables or columns.\nSpacetime SQL supports both quoted and unquoted identifiers.\nBoth types of identifiers are case sensitive.\nUse quoted identifiers to avoid conflict with reserved SQL keywords,\nor if your table or column contains non-alphanumeric characters."}),"\n",(0,r.jsxs)(s.p,{children:["Because SpacetimeDB uses a postgres compatible parser, identifiers which are\nreserved in postgres are automatically reserved in Spacetime SQL. See ",(0,r.jsx)(s.a,{href:"https://www.postgresql.org/docs/current/sql-keywords-appendix.html",children:"SQL Key Words in the PostgreSQL documentation"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"example-2",children:"Example"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- `ORDER` is a sql keyword and therefore needs to be quoted"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Order"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- A table containing `$` needs to be quoted as well"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" *"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" FROM"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Balance$"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]})]})})}),"\n",(0,r.jsx)(s.h2,{id:"best-practices-for-performance-and-scalability",children:"Best Practices for Performance and Scalability"}),"\n",(0,r.jsx)(s.p,{children:"When designing your schema or crafting your queries,\nconsider the following best practices to ensure optimal performance:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Add Primary Key and/or Unique Constraints:"}),(0,r.jsx)(s.br,{}),"\n","Constrain columns whose values are guaranteed to be distinct as either unique or primary keys.\nThe query planner can further optimize joins if it knows the join values to be unique."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Index Filtered Columns:"}),(0,r.jsx)(s.br,{}),"\n","Index columns frequently used in a ",(0,r.jsx)(s.code,{children:"WHERE"})," clause.\nIndexes reduce the number of rows scanned by the query engine."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Index Join Columns:"}),(0,r.jsx)(s.br,{}),"\n","Index columns whose values are frequently used as join keys.\nThese are columns that are used in the ",(0,r.jsx)(s.code,{children:"ON"})," condition of a ",(0,r.jsx)(s.code,{children:"JOIN"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Again, this reduces the number of rows that must be scanned to answer a query.\nIt is also critical for the performance of subscription updates --\nso much so that it is a compiler-enforced requirement,\nas mentioned in the ",(0,r.jsx)(s.a,{href:"#from",children:"subscription"})," section."]}),"\n",(0,r.jsx)(s.p,{children:"If a column that has already been constrained as unique or a primary key,\nit is not necessary to explicitly index it as well,\nsince these constraints automatically index the column in question."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Optimize Join Order:"}),(0,r.jsx)(s.br,{}),"\n","Place tables with the most selective filters first in your ",(0,r.jsx)(s.code,{children:"FROM"})," clause.\nThis minimizes intermediate result sizes and improves query efficiency."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"example-3",children:"Example"}),"\n",(0,r.jsx)(s.p,{children:"Take the following query that was used in a previous example:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Find all customers who ordered a particular product and when they ordered it"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" customer"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"first_name"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"customer"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"last_name"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"date"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Customers customer"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"JOIN"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Orders o "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"ON"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" customer"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"customer_id"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"JOIN"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory product "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"ON"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"product_id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" product"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"id"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" product"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {product_name}"})]})]})})}),"\n",(0,r.jsx)(s.p,{children:"In order to conform with the best practices for optimizing performance and scalability:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["An index should be defined on ",(0,r.jsx)(s.code,{children:"Inventory.name"})," because we are filtering on that column."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Inventory.id"})," and ",(0,r.jsx)(s.code,{children:"Customers.id"})," should be defined as primary keys."]}),"\n",(0,r.jsxs)(s.li,{children:["Additionally non-unique indexes should be defined on ",(0,r.jsx)(s.code,{children:"Orders.product_id"})," and ",(0,r.jsx)(s.code,{children:"Orders.customer_id"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Inventory"})," should appear first in the ",(0,r.jsx)(s.code,{children:"FROM"})," clause because it is the only table mentioned in the ",(0,r.jsx)(s.code,{children:"WHERE"})," clause."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Orders"})," should come next because it joins directly with ",(0,r.jsx)(s.code,{children:"Inventory"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"Customers"})," should come next because it joins directly with ",(0,r.jsx)(s.code,{children:"Orders"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(a.A,{groupId:"server-language",defaultValue:"rust",children:[(0,r.jsx)(o.A,{value:"rust",label:"Rust",children:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"#[table("})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    name "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Inventory"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    index(name "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" product_name, btree "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" [name]),"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    public"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"struct"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Inventory"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    #[primary_key]"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u64"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    name"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" String"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"    .."})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"#[table("})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    name "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Customers"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    public"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"struct"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Customers"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    #[primary_key]"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u64"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    first_name"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" String"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    last_name"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" String"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"    .."})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"#[table("})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    name "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Orders"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    public"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"struct"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Orders"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    #[primary_key]"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u64"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    #[unique]"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    product_id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u64"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    #[unique]"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    customer_id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u64"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"    .."})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})})}),(0,r.jsx)(o.A,{value:"csharp",label:"C#",children:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Inventory"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Index"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"product_name"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:", BTree "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ["}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"])]"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Inventory"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"PrimaryKey"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" long"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" id;"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" name;"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    .."})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Customers"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Customers"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"PrimaryKey"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" long"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" id;"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" first_name;"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" last_name;"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    .."})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})}),"\n",(0,r.jsx)(s.span,{className:"line"}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Orders"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Orders"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"PrimaryKey"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" long"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" id;"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Unique"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" long"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" product_id;"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Unique"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" long"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" customer_id;"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    .."})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})})})]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#6272A4"},children:"-- Find all customers who ordered a particular product and when they ordered it"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" c"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"first_name"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"c"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"last_name"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"date"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"FROM"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Inventory product"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"JOIN"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Orders o "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"ON"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" product"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"product_id"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"JOIN"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Customers c "}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"ON"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" c"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"id"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" o"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"customer_id"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"WHERE"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" product"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {product_name};"})]})]})})}),"\n",(0,r.jsx)(s.h2,{id:"appendix",children:"Appendix"}),"\n",(0,r.jsx)(s.p,{children:"Common production rules that have been used throughout this document."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-ebnf",children:"table\n    = identifier\n    ;\n\nalias\n    = identifier\n    ;\n\nvar\n    = identifier\n    ;\n\ncolumn\n    = identifier\n    | identifier '.' identifier\n    ;\n"})})]})}function p(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(F,{...e})}):F(e)}},6119:(e,s,l)=>{l.d(s,{R:()=>a,x:()=>o});var n=l(3303);const r={},c=n.createContext(r);function a(e){const s=n.useContext(c);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(c.Provider,{value:s},e.children)}},8720:(e,s,l)=>{l.d(s,{A:()=>a});l(3303);var n=l(3372);const r={tabItem:"tabItem_sydm"};var c=l(7711);function a({children:e,hidden:s,className:l}){return(0,c.jsx)("div",{role:"tabpanel",className:(0,n.A)(r.tabItem,l),hidden:s,children:e})}}}]);