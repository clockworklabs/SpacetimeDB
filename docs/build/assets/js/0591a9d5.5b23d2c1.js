"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8263],{6119:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var i=n(3303);const o={},r=i.createContext(o);function s(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:t},e.children)}},9464:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>l,frontMatter:()=>s,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"HTTP API/Authorization","title":"Authorization","description":"Generating identities and tokens","source":"@site/docs/13-HTTP API/01-Authorization.md","sourceDirName":"13-HTTP API","slug":"/http/authorization","permalink":"/http/authorization","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Authorization","slug":"/http/authorization"},"sidebar":"sidebar","previous":{"title":"React Integration","permalink":"/spacetimeauth/react-integration"},"next":{"title":"/v1/identity","permalink":"/http/identity"}}');var o=n(7711),r=n(6119);const s={title:"Authorization",slug:"/http/authorization"},a="SpacetimeDB HTTP Authorization",d={},h=[{value:"Generating identities and tokens",id:"generating-identities-and-tokens",level:3},{value:"<code>Authorization</code> headers",id:"authorization-headers",level:3},{value:"<code>GET /v1/ping</code>",id:"get-v1ping",level:2}];function c(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"spacetimedb-http-authorization",children:"SpacetimeDB HTTP Authorization"})}),"\n",(0,o.jsx)(t.h3,{id:"generating-identities-and-tokens",children:"Generating identities and tokens"}),"\n",(0,o.jsxs)(t.p,{children:["SpacetimeDB can derive an identity from the ",(0,o.jsx)(t.code,{children:"sub"})," and ",(0,o.jsx)(t.code,{children:"iss"})," claims of any ",(0,o.jsx)(t.a,{href:"https://openid.net/developers/how-connect-works/",children:"OpenID Connect"})," compliant ",(0,o.jsx)(t.a,{href:"https://jwt.io/",children:"JSON Web Token"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["Clients can request a new identity and token signed by the SpacetimeDB host via ",(0,o.jsxs)(t.a,{href:"/http/identity#post-v1identity",children:["the ",(0,o.jsx)(t.code,{children:"POST /v1/identity"})," HTTP endpoint"]}),". Such a token will not be portable to other SpacetimeDB clusters."]}),"\n",(0,o.jsxs)(t.p,{children:["Alternately, a new identity and token will be generated during an anonymous connection via the WebSocket API, and passed to the client as an ",(0,o.jsx)(t.code,{children:"IdentityToken"})," message."]}),"\n",(0,o.jsxs)(t.h3,{id:"authorization-headers",children:[(0,o.jsx)(t.code,{children:"Authorization"})," headers"]}),"\n",(0,o.jsxs)(t.p,{children:["Many SpacetimeDB HTTP endpoints either require or optionally accept a token in the ",(0,o.jsx)(t.code,{children:"Authorization"})," header. SpacetimeDB authorization headers are of the form ",(0,o.jsx)(t.code,{children:"Authorization: Bearer ${token}"}),", where ",(0,o.jsx)(t.code,{children:"token"})," is an ",(0,o.jsx)(t.a,{href:"https://openid.net/developers/how-connect-works/",children:"OpenID Connect"})," compliant ",(0,o.jsx)(t.a,{href:"https://jwt.io/",children:"JSON Web Token"}),", such as the one returned from ",(0,o.jsxs)(t.a,{href:"/http/identity#post-v1identity",children:["the ",(0,o.jsx)(t.code,{children:"POST /v1/identity"})," HTTP endpoint"]}),"."]}),"\n",(0,o.jsx)(t.h1,{id:"top-level-routes",children:"Top level routes"}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:"Route"}),(0,o.jsx)(t.th,{children:"Description"})]})}),(0,o.jsx)(t.tbody,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:(0,o.jsx)(t.a,{href:"#get-v1ping",children:(0,o.jsx)(t.code,{children:"GET /v1/ping"})})}),(0,o.jsx)(t.td,{children:"No-op. Used to determine whether a client can connect."})]})})]}),"\n",(0,o.jsx)(t.h2,{id:"get-v1ping",children:(0,o.jsx)(t.code,{children:"GET /v1/ping"})}),"\n",(0,o.jsx)(t.p,{children:"Does nothing and returns no data. Clients can send requests to this endpoint to determine whether they are able to connect to SpacetimeDB."})]})}function l(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);