"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4845],{452:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/edit-client-3851ac2973bffe6dfd5d011e50f9d23f.png"},3342:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/clients-tab-3df357c9d490d1d25b6d3934e6f1f98e.png"},6119:(e,t,i)=>{i.d(t,{R:()=>c,x:()=>a});var n=i(3303);const r={},s=n.createContext(r);function c(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(s.Provider,{value:t},e.children)}},9270:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"SpacetimeAuth/Configuring-a-project","title":"Configuring your project","description":"SpacetimeAuth is currently in beta, some features may not be available yet or may change in the future. You might encounter bugs or issues while using the service. Please report any problems you encounter to help us improve SpacetimeAuth.","source":"@site/docs/12-SpacetimeAuth/03-Configuring-a-project.md","sourceDirName":"12-SpacetimeAuth","slug":"/spacetimeauth/configuring-a-project","permalink":"/spacetimeauth/configuring-a-project","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Configuring your project","slug":"/spacetimeauth/configuring-a-project"},"sidebar":"sidebar","previous":{"title":"Creating a project","permalink":"/spacetimeauth/creating-a-project"},"next":{"title":"Testing","permalink":"/spacetimeauth/testing"}}');var r=i(7711),s=i(6119);const c={title:"Configuring your project",slug:"/spacetimeauth/configuring-a-project"},a="Configuring a SpacetimeAuth Project",o={},d=[{value:"Managing Clients",id:"managing-clients",level:2},{value:"Scopes and Claims",id:"scopes-and-claims",level:3},{value:"Redirect URIs",id:"redirect-uris",level:3},{value:"Setting Up Third-Party Identity Providers",id:"setting-up-third-party-identity-providers",level:2},{value:"Next Steps",id:"next-steps",level:2}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"configuring-a-spacetimeauth-project",children:"Configuring a SpacetimeAuth Project"})}),"\n",(0,r.jsx)(t.admonition,{type:"warning",children:(0,r.jsx)(t.p,{children:"SpacetimeAuth is currently in beta, some features may not be available yet or may change in the future. You might encounter bugs or issues while using the service. Please report any problems you encounter to help us improve SpacetimeAuth."})}),"\n",(0,r.jsx)(t.p,{children:"SpacetimeAuth projects can be configured to suit your application's needs.\nThis guide will walk you through the various configuration options available in the\nSpacetimeAuth dashboard and through various common use cases like setting up\nthird-party identity providers."}),"\n",(0,r.jsx)(t.h2,{id:"managing-clients",children:"Managing Clients"}),"\n",(0,r.jsx)(t.p,{children:"Clients represent applications that will use SpacetimeAuth for authentication.\nEach client has its own set of settings, including redirect URIs,\npost logout URIs, and name."}),"\n",(0,r.jsxs)(t.p,{children:['You can manage clients by navigating to the "Clients" tab in your\nSpacetimeAuth project dashboard.\n',(0,r.jsx)(t.img,{alt:"Clients tab",src:i(3342).A+"",width:"1455",height:"1286"}),'\nEvery project comes with a default client that you can use to get started.\nYou can also create additional clients by clicking the "Create Client" button.']}),"\n",(0,r.jsx)(t.p,{children:"The majority of projects will only need a single client to authenticate users to\ntheir SpacetimeDB module. You may want to create multiple clients if you have\nmultiple applications (e.g. a sidecar, admin panel, etc.) and want to use different\nauthentication flows or settings for each application."}),"\n",(0,r.jsx)(t.p,{children:"When creating or editing a client, you can configure the following settings:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Name"}),': The name of the client (e.g. "My Web App").']}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Redirect URIs"}),": The URIs to which SpacetimeAuth allows to redirect\nthe user after a successful login. These must match the URIs used in your application."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Post Logout Redirect URIs"}),": The URIs to which SpacetimeAuth allows to redirect\nthe user after a logout. These must match the URIs used in your application."]}),"\n"]}),"\n",(0,r.jsx)(t.admonition,{type:"danger",children:(0,r.jsxs)(t.p,{children:["Remember to keep your client secret secure, ",(0,r.jsx)(t.strong,{children:"never"})," expose it in client-side code or public repositories. You can freely share the client ID as it is not sensitive information. Client secrets are only used during the ",(0,r.jsx)(t.code,{children:"client_credentials"})," flow, allowing you to get a token with no user context (the ",(0,r.jsx)(t.code,{children:"sub"})," claim will be set to the client ID).`"]})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Edit client",src:i(452).A+"",width:"1455",height:"1286"})}),"\n",(0,r.jsx)(t.h3,{id:"scopes-and-claims",children:"Scopes and Claims"}),"\n",(0,r.jsxs)(t.p,{children:["Scopes are not yet editable and are currently limited to ",(0,r.jsx)(t.code,{children:"openid"}),", ",(0,r.jsx)(t.code,{children:"profile"}),",\nand ",(0,r.jsx)(t.code,{children:"email"}),". These scopes are sufficient for most applications, as they provide\nall the necessary information about the authenticated user.\nHere are the claims (i.e, user information available in the ID token) provided by\neach scope:"]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Scope"}),(0,r.jsx)(t.th,{children:"Claims"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"openid (required)"}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"sub"})," (unique user identifier)"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"profile"}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"name"}),", ",(0,r.jsx)(t.code,{children:"family_name"}),", ",(0,r.jsx)(t.code,{children:"given_name"}),", ",(0,r.jsx)(t.code,{children:"middle_name"}),", ",(0,r.jsx)(t.code,{children:"nickname"}),", ",(0,r.jsx)(t.code,{children:"preferred_username"}),", ",(0,r.jsx)(t.code,{children:"picture"}),", ",(0,r.jsx)(t.code,{children:"website"}),", ",(0,r.jsx)(t.code,{children:"gender"}),", ",(0,r.jsx)(t.code,{children:"birthdate"}),", ",(0,r.jsx)(t.code,{children:"zoneinfo"}),", ",(0,r.jsx)(t.code,{children:"locale"}),", ",(0,r.jsx)(t.code,{children:"updated_at"})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"email"}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"email"}),", ",(0,r.jsx)(t.code,{children:"email_verified"})]})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"You can request all or a subset of these scopes when initiating the\nauthentication flow in your application."}),"\n",(0,r.jsx)(t.h3,{id:"redirect-uris",children:"Redirect URIs"}),"\n",(0,r.jsx)(t.p,{children:"Redirect URIs are a critical part of the OAuth2 and OpenID Connect flows.\nThey ensure that after a user authenticates, they are redirected back to a\ntrusted location in your application."}),"\n",(0,r.jsxs)(t.p,{children:["When configuring redirect URIs for your client, ensure that they match the URIs\nused in your application. This includes the scheme (http or https), domain,\nport (if applicable), and path.\nFor example, if your application is hosted at ",(0,r.jsx)(t.code,{children:"https://myapp.com"})," and you\ninitiate the authentication flow from ",(0,r.jsx)(t.code,{children:"https://myapp.com/login"}),", you might\nset the redirect URI to ",(0,r.jsx)(t.code,{children:"https://myapp.com/callback"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"To find the correct redirect URIs for your application, refer to the\ndocumentation of the authentication library you are using or check out our\nintegration guides with various frameworks."}),"\n",(0,r.jsx)(t.h2,{id:"setting-up-third-party-identity-providers",children:"Setting Up Third-Party Identity Providers"}),"\n",(0,r.jsx)(t.p,{children:"SpacetimeAuth supports multiple third-party identity providers, allowing users to\nauthenticate using their existing accounts. Supported providers include:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Google"}),"\n",(0,r.jsx)(t.li,{children:"GitHub"}),"\n",(0,r.jsx)(t.li,{children:"Discord"}),"\n",(0,r.jsx)(t.li,{children:"Twitch"}),"\n",(0,r.jsx)(t.li,{children:"Kick"}),"\n",(0,r.jsx)(t.li,{children:"More providers will be added in the future"}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["User's information from third-party identity providers is mapped to the standard\nOpenID Connect claims used by SpacetimeAuth. This ensures a consistent user\nexperience regardless of the identity provider used.\nFor example the username claim is mapped to the standard ",(0,r.jsx)(t.code,{children:"preferred_username"})," claim."]}),"\n",(0,r.jsx)(t.p,{children:'You can manage identity providers by navigating to the "Identity Providers" tab\nin your SpacetimeAuth project dashboard.'}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Identity Providers tab",src:i(9549).A+"",width:"1455",height:"1286"})}),"\n",(0,r.jsx)(t.p,{children:"Since SpacetimeAuth acts as a client for the external identity provider,\nyou need to provide the client ID and client secret obtained\nfrom the provider's developer console in order to enable the provider.\nYou must also configure the redirect URI in the provider's developer console to\npoint to SpacetimeAuth (see below).\nYou can also choose to enable or disable the provider.\nAfter entering the required information, click \"Save\" and the provider will be\navailable on the login page of your application."}),"\n",(0,r.jsx)(t.p,{children:"Here are guides to help you create the required OAuth application (sometimes\ncalled an OAuth App or OAuth Client):"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://developers.google.com/identity/gsi/web/guides/get-google-api-clientid#get_your_google_api_client_id",children:"Google"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/creating-an-oauth-app",children:"GitHub"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://discord.com/developers/docs/quick-start/getting-started#step-1-creating-an-app",children:"Discord"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://dev.twitch.tv/docs/authentication/register-app/",children:"Twitch"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"https://docs.kick.com/getting-started/kick-apps-setup",children:"Kick"})}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Here are the redirect URIs you need to configure for each enabled provider:"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Provider"}),(0,r.jsx)(t.th,{children:"Redirect URI"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Google"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"https://auth.spacetimedb.com/interactions/federated/callback/google"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"GitHub"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"https://auth.spacetimedb.com/interactions/federated/callback/github"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Discord"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"https://auth.spacetimedb.com/interactions/federated/callback/discord"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Twitch"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"https://auth.spacetimedb.com/interactions/federated/callback/twitch"})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"Kick"}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"https://auth.spacetimedb.com/interactions/federated/callback/kick"})})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(t.p,{children:"Now that you have created and configured a SpacetimeAuth project, you can\nstart integrating it into your application. Before writing code, we recommend\nverifying your setup with a quick test."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/spacetimeauth/testing",children:"Test your configuration with OIDC Debugger"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/spacetimeauth/react-integration",children:"React integration guide"})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},9549:(e,t,i)=>{i.d(t,{A:()=>n});const n=i.p+"assets/images/identity-providers-9550efcf494d53c7d2069a139917c139.png"}}]);