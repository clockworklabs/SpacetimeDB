"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3745],{6119:(e,s,l)=>{l.d(s,{R:()=>o,x:()=>i});var n=l(3303);const c={},r=n.createContext(c);function o(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),n.createElement(r.Provider,{value:s},e.children)}},9998:(e,s,l)=>{l.r(s),l.d(s,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"Server Module Languages/CSharp-Reference","title":"C# Reference","description":"Module Library","source":"@site/docs/06-Server Module Languages/04-CSharp-Reference.md","sourceDirName":"06-Server Module Languages","slug":"/modules/c-sharp","permalink":"/modules/c-sharp","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"C# Reference","slug":"/modules/c-sharp","toc_max_heading_level":6},"sidebar":"sidebar","previous":{"title":"C# Quickstart","permalink":"/modules/c-sharp/quickstart"},"next":{"title":"Overview","permalink":"/sdks"}}');var c=l(7711),r=l(6119);const o={title:"C# Reference",slug:"/modules/c-sharp",toc_max_heading_level:6},i="C# Module Library",a={},t=[{value:"Overview",id:"overview",level:2},{value:"Setup",id:"setup",level:2},{value:"How it works",id:"how-it-works",level:2},{value:"In More Detail: Publishing a Module",id:"in-more-detail-publishing-a-module",level:3},{value:"Tables",id:"tables",level:2},{value:"Interface <code>ITableView</code>",id:"interface-itableview",level:3},{value:"Method <code>ITableView.Insert</code>",id:"method-itableviewinsert",level:4},{value:"Method <code>ITableView.Delete</code>",id:"method-itableviewdelete",level:4},{value:"Method <code>ITableView.Iter</code>",id:"method-itableviewiter",level:4},{value:"Property <code>ITableView.Count</code>",id:"property-itableviewcount",level:4},{value:"Public and Private Tables",id:"public-and-private-tables",level:3},{value:"Unique and Primary Key Columns",id:"unique-and-primary-key-columns",level:3},{value:"Class <code>UniqueIndex</code>",id:"class-uniqueindex",level:3},{value:"Method <code>UniqueIndex.Find</code>",id:"method-uniqueindexfind",level:4},{value:"Method <code>UniqueIndex.Update</code>",id:"method-uniqueindexupdate",level:4},{value:"Method <code>UniqueIndex.Delete</code>",id:"method-uniqueindexdelete",level:4},{value:"Auto-inc columns",id:"auto-inc-columns",level:3},{value:"Indexes",id:"indexes",level:3},{value:"Indexable Types",id:"indexable-types",level:3},{value:"Class <code>Index</code>",id:"class-index",level:3},{value:"Method <code>Index.Filter</code>",id:"method-indexfilter",level:4},{value:"Method <code>Index.Delete</code>",id:"method-indexdelete",level:4},{value:"Reducers",id:"reducers",level:2},{value:"Class <code>ReducerContext</code>",id:"class-reducercontext",level:3},{value:"Property <code>ReducerContext.Db</code>",id:"property-reducercontextdb",level:4},{value:"Property <code>ReducerContext.Sender</code>",id:"property-reducercontextsender",level:4},{value:"Property <code>ReducerContext.ConnectionId</code>",id:"property-reducercontextconnectionid",level:4},{value:"Property <code>ReducerContext.Rng</code>",id:"property-reducercontextrng",level:4},{value:"Property <code>ReducerContext.Timestamp</code>",id:"property-reducercontexttimestamp",level:4},{value:"Property <code>ReducerContext.Identity</code>",id:"property-reducercontextidentity",level:4},{value:"Lifecycle Reducers",id:"lifecycle-reducers",level:3},{value:"The <code>Init</code> reducer",id:"the-init-reducer",level:4},{value:"The <code>ClientConnected</code> reducer",id:"the-clientconnected-reducer",level:4},{value:"The <code>ClientDisconnected</code> reducer",id:"the-clientdisconnected-reducer",level:4},{value:"Scheduled Reducers",id:"scheduled-reducers",level:3},{value:"Restricting scheduled reducers",id:"restricting-scheduled-reducers",level:4},{value:"Automatic migrations",id:"automatic-migrations",level:2},{value:"Other infrastructure",id:"other-infrastructure",level:2},{value:"Class <code>Log</code>",id:"class-log",level:3},{value:"Attribute <code>[SpacetimeDB.Type]</code>",id:"attribute-spacetimedbtype",level:3},{value:"Struct <code>Identity</code>",id:"struct-identity",level:3},{value:"Struct <code>ConnectionId</code>",id:"struct-connectionid",level:3},{value:"Struct <code>Timestamp</code>",id:"struct-timestamp",level:3},{value:"Property <code>Timestamp.MicrosecondsSinceUnixEpoch</code>",id:"property-timestampmicrosecondssinceunixepoch",level:4},{value:"Conversion to/from <code>DateTimeOffset</code>",id:"conversion-tofrom-datetimeoffset",level:4},{value:"Static property <code>Timestamp.UNIX_EPOCH</code>",id:"static-property-timestampunix_epoch",level:4},{value:"Method <code>Timestamp.TimeDurationSince</code>",id:"method-timestamptimedurationsince",level:4},{value:"Operator <code>Timestamp.+</code>",id:"operator-timestamp",level:4},{value:"Method <code>Timestamp.CompareTo</code>",id:"method-timestampcompareto",level:4},{value:"Struct <code>TimeDuration</code>",id:"struct-timeduration",level:3},{value:"Property <code>TimeDuration.Microseconds</code>",id:"property-timedurationmicroseconds",level:4},{value:"Conversion to/from <code>TimeSpan</code>",id:"conversion-tofrom-timespan",level:4},{value:"Static property <code>TimeDuration.ZERO</code>",id:"static-property-timedurationzero",level:4},{value:"Record <code>TaggedEnum</code>",id:"record-taggedenum",level:3},{value:"Record <code>ScheduleAt</code>",id:"record-scheduleat",level:3}];function d(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.header,{children:(0,c.jsx)(s.h1,{id:"c-module-library",children:"C# Module Library"})}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.a,{href:"https://spacetimedb.com/",children:"SpacetimeDB"})," allows using the C# language to write server-side applications called ",(0,c.jsx)(s.strong,{children:"modules"}),". Modules, which run inside a relational database, have direct access to database tables, and expose public functions called ",(0,c.jsx)(s.strong,{children:"reducers"})," that can be invoked over the network. Clients connect directly to the database to read data."]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"    Client Application                          SpacetimeDB"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"\u2502                       \u2502                \u2502                       \u2502"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502    SQL Query   \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"\u2502  \u2502 Subscribed Data \u2502<\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502    Database     \u2502  \u2502"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502                \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"\u2502           \u2502           \u2502                \u2502           ^           \u2502"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"\u2502           \u2502           \u2502                \u2502           \u2502           \u2502"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"\u2502           v           \u2502                \u2502           v           \u2502"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"\u2502  +\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502 call_reducer() \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"\u2502  \u2502   Client Code   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500>\u2502   Module Code   \u2502  \u2502"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502                \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"\u2502                       \u2502                \u2502                       \u2502"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["C# modules are written with the the C# Module Library (this package). They are built using the ",(0,c.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/dotnet/core/tools/",children:"dotnet CLI tool"})," and deployed using the ",(0,c.jsxs)(s.a,{href:"https://spacetimedb.com/install",children:[(0,c.jsx)(s.code,{children:"spacetime"})," CLI tool"]}),". C# modules can import any ",(0,c.jsx)(s.a,{href:"https://www.nuget.org/packages",children:"NuGet package"})," that supports being compiled to WebAssembly."]}),"\n",(0,c.jsxs)(s.p,{children:["(Note: C# can also be used to write ",(0,c.jsx)(s.strong,{children:"clients"})," of SpacetimeDB databases, but this requires using a different library, the SpacetimeDB C# Client SDK. See the documentation on ",(0,c.jsx)(s.a,{href:"https://spacetimedb.com/docs/#client",children:"clients"})," for more information.)"]}),"\n",(0,c.jsxs)(s.p,{children:["This reference assumes you are familiar with the basics of C#. If you aren't, check out the ",(0,c.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/dotnet/csharp/",children:"C# language documentation"}),". For a guided introduction to C# Modules, see the ",(0,c.jsx)(s.a,{href:"https://spacetimedb.com/docs/modules/c-sharp/quickstart",children:"C# Module Quickstart"}),"."]}),"\n",(0,c.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,c.jsx)(s.p,{children:"SpacetimeDB modules have two ways to interact with the outside world: tables and reducers."}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.a,{href:"#tables",children:"Tables"})," store data and optionally make it readable by ",(0,c.jsx)(s.a,{href:"https://spacetimedb.com/docs/#client",children:"clients"}),"."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.a,{href:"#reducers",children:"Reducers"})," are functions that modify data and can be invoked by ",(0,c.jsx)(s.a,{href:"https://spacetimedb.com/docs/#client",children:"clients"})," over the network. They can read and write data in tables, and write to a private debug log."]}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(s.p,{children:["These are the only ways for a SpacetimeDB module to interact with the outside world. Calling functions from ",(0,c.jsx)(s.code,{children:"System.IO"})," or ",(0,c.jsx)(s.code,{children:"System.Net"})," inside a reducer will result in runtime errors."]}),"\n",(0,c.jsx)(s.p,{children:"Declaring tables and reducers is straightforward:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Module"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"player"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Player"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Id;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Name;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" AddPerson"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"int"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Id"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Name"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ctx.Db.player."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Insert"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Player"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { Id "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Id, Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Name });"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Note that reducers don't return data directly; they can only modify the database. Clients connect directly to the database and use SQL to query ",(0,c.jsx)(s.a,{href:"#public-and-private-tables",children:"public"})," tables. Clients can also subscribe to a set of rows using SQL queries and receive streaming updates whenever any of those rows change."]}),"\n",(0,c.jsxs)(s.p,{children:["Tables and reducers in C# modules can use any type annotated with ",(0,c.jsx)(s.a,{href:"#attribute-spacetimedbtype",children:(0,c.jsx)(s.code,{children:"[SpacetimeDB.Type]"})}),"."]}),"\n",(0,c.jsx)(s.h2,{id:"setup",children:"Setup"}),"\n",(0,c.jsxs)(s.p,{children:["To create a C# module, install the ",(0,c.jsxs)(s.a,{href:"https://spacetimedb.com/install",children:[(0,c.jsx)(s.code,{children:"spacetime"})," CLI tool"]})," in your preferred shell. Navigate to your work directory and run the following command:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"spacetime"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" init"}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" --lang"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" csharp"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" my-project-directory"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["This creates a ",(0,c.jsx)(s.code,{children:"dotnet"})," project in ",(0,c.jsx)(s.code,{children:"my-project-directory"})," with the following ",(0,c.jsx)(s.code,{children:"StdbModule.csproj"}),":"]}),"\n",(0,c.jsx)(s.pre,{children:(0,c.jsx)(s.code,{className:"language-xml",children:'<Project Sdk="Microsoft.NET.Sdk">\n\n  <PropertyGroup>\n    <TargetFramework>net8.0</TargetFramework>\n    <RuntimeIdentifier>wasi-wasm</RuntimeIdentifier>\n    <ImplicitUsings>enable</ImplicitUsings>\n    <Nullable>enable</Nullable>\n  </PropertyGroup>\n\n  <ItemGroup>\n    <PackageReference Include="SpacetimeDB.Runtime" Version="1.0.0" />\n  </ItemGroup>\n\n</Project>\n'})}),"\n",(0,c.jsx)(s.admonition,{type:"note",children:(0,c.jsxs)(s.p,{children:["It is important to not change the ",(0,c.jsx)(s.code,{children:"StdbModule.csproj"})," name because SpacetimeDB assumes that this will be the name of the file."]})}),"\n",(0,c.jsxs)(s.p,{children:["This is a standard ",(0,c.jsx)(s.code,{children:"csproj"}),", with the exception of the line ",(0,c.jsx)(s.code,{children:"<RuntimeIdentifier>wasi-wasm</RuntimeIdentifier>"}),".\nThis line is important: it allows the project to be compiled to a WebAssembly module."]}),"\n",(0,c.jsxs)(s.p,{children:["The project's ",(0,c.jsx)(s.code,{children:"Lib.cs"})," will contain the following skeleton:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Module"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Person"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"AutoInc"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"PrimaryKey"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Id;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Name;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Age;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Add"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" name"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"int"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" age"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" person "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.Person."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Insert"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Person"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" name, Age "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" age });"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        Log."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Info"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'$"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Inserted "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"{"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"person"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"Name"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"}"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" under #"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"{"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"person"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"Id"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"}"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" SayHello"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        foreach"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" person "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"in"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.Person."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Iter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"())"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            Log."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Info"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'$"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Hello, "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"{"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"person"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"Name"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"}"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"!"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        Log."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Info"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Hello, World!"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["This skeleton declares a ",(0,c.jsx)(s.a,{href:"#tables",children:"table"})," and some ",(0,c.jsx)(s.a,{href:"#reducers",children:"reducers"}),"."]}),"\n",(0,c.jsxs)(s.p,{children:["You can also add some ",(0,c.jsx)(s.a,{href:"#lifecycle-reducers",children:"lifecycle reducers"})," to the ",(0,c.jsx)(s.code,{children:"Module"})," class using the following code:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(ReducerKind.Init)]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Init"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // Run when the module is first loaded."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(ReducerKind.ClientConnected)]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" ClientConnected"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // Called when a client connects."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(ReducerKind.ClientDisconnected)]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" ClientDisconnected"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // Called when a client connects."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"To compile the project, run the following command:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"spacetime"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" build"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["SpacetimeDB requires a WebAssembly-compatible ",(0,c.jsx)(s.code,{children:"dotnet"})," toolchain. If the ",(0,c.jsx)(s.code,{children:"spacetime"})," cli finds a compatible version of ",(0,c.jsx)(s.a,{href:"https://rustup.rs/",children:(0,c.jsx)(s.code,{children:"dotnet"})})," that it can run, it will automatically install the ",(0,c.jsx)(s.code,{children:"wasi-experimental"})," workload and use it to build your application. This can also be done manually using the command:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"dotnet"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" workload"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" install"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" wasi-experimental"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["If you are managing your dotnet installation in some other way, you will need to install the ",(0,c.jsx)(s.code,{children:"wasi-experimental"})," workload yourself."]}),"\n",(0,c.jsx)(s.p,{children:"To build your application and upload it to the public SpacetimeDB network, run:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"spacetime"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" login"})]})})})}),"\n",(0,c.jsx)(s.p,{children:"And then:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"spacetime"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" publish"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" [MY_DATABASE_NAME]"})]})})})}),"\n",(0,c.jsx)(s.p,{children:"For example:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"spacetime"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" publish"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:" silly_demo_app"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["When you publish your module, a database named ",(0,c.jsx)(s.code,{children:"silly_demo_app"})," will be created with the requested tables, and the module will be installed inside it."]}),"\n",(0,c.jsxs)(s.p,{children:["The output of ",(0,c.jsx)(s.code,{children:"spacetime publish"})," will end with a line:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"Created new database with name: <name>, identity: <hex string>"})})})})}),"\n",(0,c.jsxs)(s.p,{children:["This name is the human-readable name of the created database, and the hex string is its ",(0,c.jsx)(s.a,{href:"#struct-identity",children:(0,c.jsx)(s.code,{children:"Identity"})}),". These distinguish the created database from the other databases running on the SpacetimeDB network. They are used when administering the application, for example using the ",(0,c.jsx)(s.a,{href:"#class-log",children:(0,c.jsx)(s.code,{children:"spacetime logs <DATABASE_NAME>"})})," command. You should probably write the database name down in a text file so that you can remember it."]}),"\n",(0,c.jsx)(s.p,{children:"After modifying your project, you can run:"}),"\n",(0,c.jsx)(s.p,{children:(0,c.jsx)(s.code,{children:"spacetime publish <DATABASE_NAME>"})}),"\n",(0,c.jsxs)(s.p,{children:["to update the module attached to your database. Note that SpacetimeDB tries to ",(0,c.jsx)(s.a,{href:"#automatic-migrations",children:"automatically migrate"})," your database schema whenever you run ",(0,c.jsx)(s.code,{children:"spacetime publish"}),"."]}),"\n",(0,c.jsxs)(s.p,{children:["You can also generate code for clients of your module using the ",(0,c.jsx)(s.code,{children:"spacetime generate"})," command. See the ",(0,c.jsx)(s.a,{href:"https://spacetimedb.com/docs/#client",children:"client SDK documentation"})," for more information."]}),"\n",(0,c.jsx)(s.h2,{id:"how-it-works",children:"How it works"}),"\n",(0,c.jsxs)(s.p,{children:["Under the hood, SpacetimeDB modules are WebAssembly modules that import a ",(0,c.jsx)(s.a,{href:"https://spacetimedb.com/docs/webassembly-abi",children:"specific WebAssembly ABI"})," and export a small number of special functions. This is automatically configured when you add the ",(0,c.jsx)(s.code,{children:"SpacetimeDB.Runtime"})," package as a dependency of your application."]}),"\n",(0,c.jsxs)(s.p,{children:["The SpacetimeDB host is an application that hosts SpacetimeDB databases. ",(0,c.jsx)(s.a,{href:"https://github.com/clockworklabs/SpacetimeDB",children:"Its source code is available"})," under ",(0,c.jsx)(s.a,{href:"https://github.com/clockworklabs/SpacetimeDB/blob/master/LICENSE.txt",children:"the Business Source License with an Additional Use Grant"}),". You can run your own host, or you can upload your module to the public SpacetimeDB network.  The network will create a database for you and install your module in it to serve client requests."]}),"\n",(0,c.jsx)(s.h3,{id:"in-more-detail-publishing-a-module",children:"In More Detail: Publishing a Module"}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"spacetime publish [DATABASE_IDENTITY]"})," command compiles a module and uploads it to a SpacetimeDB host. After this:"]}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["The host finds the database with the requested ",(0,c.jsx)(s.code,{children:"DATABASE_IDENTITY"}),".","\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsx)(s.li,{children:"(Or creates a fresh database and identity, if no identity was provided)."}),"\n"]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["The host loads the new module and inspects its requested database schema. If there are changes to the schema, the host tries perform an ",(0,c.jsx)(s.a,{href:"#automatic-migrations",children:"automatic migration"}),". If the migration fails, publishing fails."]}),"\n",(0,c.jsx)(s.li,{children:"The host terminates the old module attached to the database."}),"\n",(0,c.jsxs)(s.li,{children:["The host installs the new module into the database. It begins running the module's ",(0,c.jsx)(s.a,{href:"#lifecycle-reducers",children:"lifecycle reducers"})," and ",(0,c.jsx)(s.a,{href:"#scheduled-reducers",children:"scheduled reducers"}),", starting with the ",(0,c.jsx)(s.code,{children:"Init"})," reducer."]}),"\n",(0,c.jsx)(s.li,{children:"The host begins allowing clients to call the module's reducers."}),"\n"]}),"\n",(0,c.jsxs)(s.p,{children:["From the perspective of clients, this process is seamless. Open connections are maintained and subscriptions continue functioning. ",(0,c.jsx)(s.a,{href:"#automatic-migrations",children:"Automatic migrations"})," forbid most table changes except for adding new tables, so client code does not need to be recompiled.\nHowever:"]}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsx)(s.li,{children:"Clients may witness a brief interruption in the execution of scheduled reducers (for example, game loops.)"}),"\n",(0,c.jsx)(s.li,{children:"New versions of a module may remove or change reducers that were previously present. Client code calling those reducers will receive runtime errors."}),"\n"]}),"\n",(0,c.jsx)(s.h2,{id:"tables",children:"Tables"}),"\n",(0,c.jsxs)(s.p,{children:["Tables are declared using the ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Table]"})," attribute."]}),"\n",(0,c.jsxs)(s.p,{children:["This macro is applied to a C# ",(0,c.jsx)(s.code,{children:"partial class"})," or ",(0,c.jsx)(s.code,{children:"partial struct"})," with named fields. (The ",(0,c.jsx)(s.code,{children:"partial"})," modifier is required to allow code generation to add methods.) All of the fields of the table must be marked with ",(0,c.jsx)(s.a,{href:"#attribute-spacetimedbtype",children:(0,c.jsx)(s.code,{children:"[SpacetimeDB.Type]"})}),"."]}),"\n",(0,c.jsxs)(s.p,{children:["The resulting type is used to store rows of the table. It's a normal class (or struct). Row values are not special -- operations on row types do not, by themselves, modify the table. Instead, a ",(0,c.jsx)(s.a,{href:"#class-reducercontext",children:(0,c.jsx)(s.code,{children:"ReducerContext"})})," is needed to get a handle to the table."]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Module"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    /// "}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"summary"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    /// A Person is a row of the table person."})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    /// "}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"</"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"summary"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"person"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", Public)]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Person"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"PrimaryKey"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"AutoInc"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        ulong"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Id;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Index"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"BTree"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Name;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // `Person` is a normal C# struct type."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // Operations on a `Person` do not, by themselves, do anything."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // The following function does not interact with the database at all."})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" DoNothing"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"() {"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // Creating a `Person` DOES NOT modify the database."})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" person "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Person"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { Id "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 0"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Joe Average"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" };"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // Updating a `Person` DOES NOT modify the database."})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        person.Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Joanna Average"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // Deallocating a `Person` DOES NOT modify the database."})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        person "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" null"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // To interact with the database, you need a `ReducerContext`,"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // which is provided as the first parameter of any reducer."})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" DoSomething"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") {"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // The following inserts a row into the table:"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" examplePerson "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.person."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Insert"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Person"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { id "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 0"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Joe Average"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" });"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // `examplePerson` is a COPY of the row stored in the database."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // If we update it:"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        examplePerson.name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Joanna Average"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"to_string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // Our copy is now updated, but the database's copy is UNCHANGED."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // To push our change through, we can call `UniqueIndex.Update()`:"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        examplePerson "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.person.Id."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Update"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(examplePerson);"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // Now the database and our copy are in sync again."})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // We can also delete the row in the database using `UniqueIndex.Delete()`."})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ctx.Db.person.Id."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Delete"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(examplePerson.Id);"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["(See ",(0,c.jsx)(s.a,{href:"#reducers",children:"reducers"})," for more information on declaring reducers.)"]}),"\n",(0,c.jsx)(s.p,{children:"This library generates a custom API for each table, depending on the table's name and structure."}),"\n",(0,c.jsxs)(s.p,{children:["All tables support getting a handle implementing the ",(0,c.jsx)(s.a,{href:"#interface-itableview",children:(0,c.jsx)(s.code,{children:"ITableView"})})," interface from a ",(0,c.jsx)(s.a,{href:"#class-reducercontext",children:(0,c.jsx)(s.code,{children:"ReducerContext"})}),", using:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"ctx.Db.{table_name}"})})})})}),"\n",(0,c.jsx)(s.p,{children:"For example,"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"ctx.Db.person"})})})})}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.a,{href:"#unique-and-primary-key-columns",children:"Unique and primary key columns"})," and ",(0,c.jsx)(s.a,{href:"#indexes",children:"indexes"})," generate additional accessors, such as ",(0,c.jsx)(s.code,{children:"ctx.Db.person.Id"})," and ",(0,c.jsx)(s.code,{children:"ctx.Db.person.Name"}),"."]}),"\n",(0,c.jsxs)(s.h3,{id:"interface-itableview",children:["Interface ",(0,c.jsx)(s.code,{children:"ITableView"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"namespace"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Internal"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" interface"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ITableView"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"View"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    where"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"IStructuralReadWrite"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"new"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        /* ... */"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Implemented for every table handle generated by the ",(0,c.jsx)(s.a,{href:"#tables",children:(0,c.jsx)(s.code,{children:"Table"})})," attribute.\nFor a table named ",(0,c.jsx)(s.code,{children:"{name}"}),", a handle can be extracted from a ",(0,c.jsx)(s.a,{href:"#class-reducercontext",children:(0,c.jsx)(s.code,{children:"ReducerContext"})})," using ",(0,c.jsx)(s.code,{children:"ctx.Db.{name}"}),". For example, ",(0,c.jsx)(s.code,{children:"ctx.Db.person"}),"."]}),"\n",(0,c.jsx)(s.p,{children:"Contains methods that are present for every table handle, regardless of what unique constraints\nand indexes are present."}),"\n",(0,c.jsxs)(s.p,{children:["The type ",(0,c.jsx)(s.code,{children:"Row"})," is the type of rows in the table."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-itableviewinsert",children:["Method ",(0,c.jsx)(s.code,{children:"Insert"})]})}),(0,c.jsx)(s.td,{children:"Insert a row into the table"})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-itableviewdelete",children:["Method ",(0,c.jsx)(s.code,{children:"Delete"})]})}),(0,c.jsx)(s.td,{children:"Delete a row from the table"})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-itableviewiter",children:["Method ",(0,c.jsx)(s.code,{children:"Iter"})]})}),(0,c.jsx)(s.td,{children:"Iterate all rows of the table"})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#property-itableviewcount",children:["Property ",(0,c.jsx)(s.code,{children:"Count"})]})}),(0,c.jsx)(s.td,{children:"Count all rows of the table"})]})]})]}),"\n",(0,c.jsxs)(s.h4,{id:"method-itableviewinsert",children:["Method ",(0,c.jsx)(s.code,{children:"ITableView.Insert"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Insert"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["Inserts ",(0,c.jsx)(s.code,{children:"row"})," into the table."]}),"\n",(0,c.jsxs)(s.p,{children:["The return value is the inserted row, with any auto-incrementing columns replaced with computed values.\nThe ",(0,c.jsx)(s.code,{children:"insert"})," method always returns the inserted row, even when the table contains no auto-incrementing columns."]}),"\n",(0,c.jsxs)(s.p,{children:["(The returned row is a copy of the row in the database.\nModifying this copy does not directly modify the database.\nSee ",(0,c.jsx)(s.a,{href:"#method-uniqueindexupdate",children:(0,c.jsx)(s.code,{children:"UniqueIndex.Update()"})})," if you want to update the row.)"]}),"\n",(0,c.jsx)(s.p,{children:"Throws an exception if inserting the row violates any constraints."}),"\n",(0,c.jsx)(s.p,{children:"Inserting a duplicate row in a table is a no-op,\nas SpacetimeDB is a set-semantic database."}),"\n",(0,c.jsxs)(s.h4,{id:"method-itableviewdelete",children:["Method ",(0,c.jsx)(s.code,{children:"ITableView.Delete"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"bool"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Delete"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["Deletes a row equal to ",(0,c.jsx)(s.code,{children:"row"})," from the table."]}),"\n",(0,c.jsxs)(s.p,{children:["Returns ",(0,c.jsx)(s.code,{children:"true"})," if the row was present and has been deleted,\nor ",(0,c.jsx)(s.code,{children:"false"})," if the row was not present and therefore the tables have not changed."]}),"\n",(0,c.jsxs)(s.p,{children:["Unlike ",(0,c.jsx)(s.a,{href:"#method-itableviewinsert",children:(0,c.jsx)(s.code,{children:"Insert"})}),", there is no need to return the deleted row,\nas it must necessarily have been exactly equal to the ",(0,c.jsx)(s.code,{children:"row"})," argument.\nNo analogue to auto-increment placeholders exists for deletions."]}),"\n",(0,c.jsx)(s.p,{children:"Throws an exception if deleting the row would violate any constraints."}),"\n",(0,c.jsxs)(s.h4,{id:"method-itableviewiter",children:["Method ",(0,c.jsx)(s.code,{children:"ITableView.Iter"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"IEnumerable"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Iter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]})})})}),"\n",(0,c.jsx)(s.p,{children:"Iterate over all rows of the table."}),"\n",(0,c.jsxs)(s.p,{children:["(This keeps track of changes made to the table since the start of this reducer invocation. For example, if rows have been ",(0,c.jsx)(s.a,{href:"#method-itableviewdelete",children:"deleted"})," since the start of this reducer invocation, those rows will not be returned by ",(0,c.jsx)(s.code,{children:"Iter"}),". Similarly, ",(0,c.jsx)(s.a,{href:"#method-itableviewinsert",children:"inserted"})," rows WILL be returned.)"]}),"\n",(0,c.jsxs)(s.p,{children:["For large tables, this can be a slow operation! Prefer ",(0,c.jsx)(s.a,{href:"#method-indexfilter",children:"filtering"})," by an ",(0,c.jsx)(s.a,{href:"#class-index",children:(0,c.jsx)(s.code,{children:"Index"})})," or ",(0,c.jsx)(s.a,{href:"#method-uniqueindexfind",children:"finding"})," a ",(0,c.jsx)(s.a,{href:"#class-uniqueindex",children:(0,c.jsx)(s.code,{children:"UniqueIndex"})})," if possible."]}),"\n",(0,c.jsxs)(s.h4,{id:"property-itableviewcount",children:["Property ",(0,c.jsx)(s.code,{children:"ITableView.Count"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"ulong"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Count { get; }"})]})})})}),"\n",(0,c.jsx)(s.p,{children:"Returns the number of rows of this table."}),"\n",(0,c.jsx)(s.p,{children:"This takes into account modifications by the current transaction,\neven though those modifications have not yet been committed or broadcast to clients.\nThis applies generally to insertions, deletions, updates, and iteration as well."}),"\n",(0,c.jsx)(s.h3,{id:"public-and-private-tables",children:"Public and Private Tables"}),"\n",(0,c.jsxs)(s.p,{children:["By default, tables are considered ",(0,c.jsx)(s.strong,{children:"private"}),". This means that they are only readable by the database owner and by reducers. Reducers run inside the database, so clients cannot see private tables at all or even know of their existence."]}),"\n",(0,c.jsxs)(s.p,{children:["Using the ",(0,c.jsx)(s.code,{children:'[SpacetimeDB.Table(Name = "table_name", Public)]'})," flag makes a table public. ",(0,c.jsx)(s.strong,{children:"Public"})," tables are readable by all clients. They can still only be modified by reducers."]}),"\n",(0,c.jsxs)(s.p,{children:["(Note that, when run by the module owner, the ",(0,c.jsx)(s.code,{children:"spacetime sql <SQL_QUERY>"})," command can also read private tables. This is for debugging convenience. Only the module owner can see these tables. This is determined by the ",(0,c.jsx)(s.code,{children:"Identity"})," stored by the ",(0,c.jsx)(s.code,{children:"spacetime login"})," command. Run ",(0,c.jsx)(s.code,{children:"spacetime login show"})," to print your current logged-in ",(0,c.jsx)(s.code,{children:"Identity"}),".)"]}),"\n",(0,c.jsxs)(s.p,{children:["To learn how to subscribe to a public table, see the ",(0,c.jsx)(s.a,{href:"https://spacetimedb.com/docs/sdks",children:"client SDK documentation"}),"."]}),"\n",(0,c.jsx)(s.h3,{id:"unique-and-primary-key-columns",children:"Unique and Primary Key Columns"}),"\n",(0,c.jsxs)(s.p,{children:["Columns of a table (that is, fields of a ",(0,c.jsx)(s.a,{href:"#tables",children:(0,c.jsx)(s.code,{children:"[Table]"})})," struct) can be annotated with ",(0,c.jsx)(s.code,{children:"[Unique]"})," or ",(0,c.jsx)(s.code,{children:"[PrimaryKey]"}),". Multiple columns can be ",(0,c.jsx)(s.code,{children:"[Unique]"}),", but only one can be ",(0,c.jsx)(s.code,{children:"[PrimaryKey]"}),". For example:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"citizen"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Citizen"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"PrimaryKey"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    ulong"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Id;"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Unique"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Ssn;"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Unique"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Email;"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" name;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Every row in the table ",(0,c.jsx)(s.code,{children:"Person"})," must have unique entries in the ",(0,c.jsx)(s.code,{children:"id"}),", ",(0,c.jsx)(s.code,{children:"ssn"}),", and ",(0,c.jsx)(s.code,{children:"email"})," columns. Attempting to insert multiple ",(0,c.jsx)(s.code,{children:"Person"}),"s with the same ",(0,c.jsx)(s.code,{children:"id"}),", ",(0,c.jsx)(s.code,{children:"ssn"}),", or ",(0,c.jsx)(s.code,{children:"email"})," will throw an exception."]}),"\n",(0,c.jsxs)(s.p,{children:["Any ",(0,c.jsx)(s.code,{children:"[Unique]"})," or ",(0,c.jsx)(s.code,{children:"[PrimaryKey]"})," column supports getting a ",(0,c.jsx)(s.a,{href:"#class-uniqueindex",children:(0,c.jsx)(s.code,{children:"UniqueIndex"})})," from a ",(0,c.jsx)(s.a,{href:"#class-reducercontext",children:(0,c.jsx)(s.code,{children:"ReducerContext"})})," using:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"ctx.Db.{table}.{unique_column}"})})})})}),"\n",(0,c.jsx)(s.p,{children:"For example,"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"ctx.Db.citizen.Ssn"})})})})}),"\n",(0,c.jsxs)(s.p,{children:["Notice that updating a row is only possible if a row has a unique column -- there is no ",(0,c.jsx)(s.code,{children:"update"})," method in the base ",(0,c.jsx)(s.a,{href:"#interface-itableview",children:(0,c.jsx)(s.code,{children:"ITableView"})}),' interface. SpacetimeDB has no notion of rows having an "identity" aside from their unique / primary keys.']}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"[PrimaryKey]"})," annotation implies a ",(0,c.jsx)(s.code,{children:"[Unique]"})," annotation, but avails additional methods in the ",(0,c.jsx)(s.a,{href:"https://spacetimedb.com/docs/#client",children:"client"}),"-side SDKs."]}),"\n",(0,c.jsx)(s.p,{children:"It is not currently possible to mark a group of fields as collectively unique."}),"\n",(0,c.jsx)(s.p,{children:"Filtering on unique columns is only supported for a limited number of types."}),"\n",(0,c.jsxs)(s.h3,{id:"class-uniqueindex",children:["Class ",(0,c.jsx)(s.code,{children:"UniqueIndex"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"namespace"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Internal"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" abstract"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" UniqueIndex"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"Handle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"Column"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"RW"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"IndexBase"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    where"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Handle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ITableView"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Handle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    where"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"IStructuralReadWrite"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"new"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    where"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Column"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"IEquatable"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* ... */"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["A unique index on a column. Available for ",(0,c.jsx)(s.code,{children:"[Unique]"})," and ",(0,c.jsx)(s.code,{children:"[PrimaryKey]"})," columns.\n(A custom class derived from ",(0,c.jsx)(s.code,{children:"UniqueIndex"})," is generated for every such column.)"]}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"Row"})," is the type decorated with ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Table]"}),", ",(0,c.jsx)(s.code,{children:"Column"})," is the type of the column,\nand ",(0,c.jsx)(s.code,{children:"Handle"})," is the type of the generated table handle."]}),"\n",(0,c.jsxs)(s.p,{children:["For a table ",(0,c.jsx)(s.em,{children:"table"})," with a column ",(0,c.jsx)(s.em,{children:"column"}),", use ",(0,c.jsx)(s.code,{children:"ctx.Db.{table}.{column}"}),"\nto get a ",(0,c.jsx)(s.code,{children:"UniqueColumn"})," from a ",(0,c.jsx)(s.a,{href:"#class-reducercontext",children:(0,c.jsx)(s.code,{children:"ReducerContext"})}),"."]}),"\n",(0,c.jsx)(s.p,{children:"Example:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"using"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Module"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"user"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" User"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"PrimaryKey"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        uint"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Id;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Unique"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Username;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        ulong"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" DogCount;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Demo"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" idIndex "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.user.Id;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" exampleUser "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" idIndex."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Find"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:"357"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:").Value;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        exampleUser.DogCount "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"+="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 5"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        idIndex."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Update"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(exampleUser);"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" usernameIndex "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.user.Username;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        usernameIndex."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Delete"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Evil Bob"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-uniqueindexfind",children:["Method ",(0,c.jsx)(s.code,{children:"Find"})]})}),(0,c.jsx)(s.td,{children:"Find a row by the value of a unique column"})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-uniqueindexupdate",children:["Method ",(0,c.jsx)(s.code,{children:"Update"})]})}),(0,c.jsx)(s.td,{children:"Update a row with a unique column"})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#method-uniqueindexdelete",children:["Method ",(0,c.jsx)(s.code,{children:"Delete"})]})}),(0,c.jsx)(s.td,{children:"Delete a row by the value of a unique column"})]})]})]}),"\n",(0,c.jsxs)(s.h4,{id:"method-uniqueindexfind",children:["Method ",(0,c.jsx)(s.code,{children:"UniqueIndex.Find"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"? "}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Find"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" key"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["Finds and returns the row where the value in the unique column matches the supplied ",(0,c.jsx)(s.code,{children:"key"}),",\nor ",(0,c.jsx)(s.code,{children:"null"})," if no such row is present in the database state."]}),"\n",(0,c.jsxs)(s.h4,{id:"method-uniqueindexupdate",children:["Method ",(0,c.jsx)(s.code,{children:"UniqueIndex.Update"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Update"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["Deletes the row where the value in the unique column matches that in the corresponding field of ",(0,c.jsx)(s.code,{children:"row"})," and then inserts ",(0,c.jsx)(s.code,{children:"row"}),"."]}),"\n",(0,c.jsx)(s.p,{children:"Returns the new row as actually inserted, with any auto-inc placeholders substituted for computed values."}),"\n",(0,c.jsx)(s.p,{children:"Throws if no row was previously present with the matching value in the unique column,\nor if either the delete or the insertion would violate a constraint."}),"\n",(0,c.jsxs)(s.h4,{id:"method-uniqueindexdelete",children:["Method ",(0,c.jsx)(s.code,{children:"UniqueIndex.Delete"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"bool"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Delete"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" key"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["Deletes the row where the value in the unique column matches the supplied ",(0,c.jsx)(s.code,{children:"key"}),", if any such row is present in the database state."]}),"\n",(0,c.jsxs)(s.p,{children:["Returns ",(0,c.jsx)(s.code,{children:"true"})," if a row with the specified ",(0,c.jsx)(s.code,{children:"key"})," was previously present and has been deleted,\nor ",(0,c.jsx)(s.code,{children:"false"})," if no such row was present."]}),"\n",(0,c.jsx)(s.h3,{id:"auto-inc-columns",children:"Auto-inc columns"}),"\n",(0,c.jsxs)(s.p,{children:["Columns can be marked ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.AutoInc]"}),". This can only be used on integer types (",(0,c.jsx)(s.code,{children:"int"}),", ",(0,c.jsx)(s.code,{children:"ulong"}),", etc.)"]}),"\n",(0,c.jsxs)(s.p,{children:["When inserting into or updating a row in a table with an ",(0,c.jsx)(s.code,{children:"[AutoInc]"})," column, if the annotated column is set to zero (",(0,c.jsx)(s.code,{children:"0"}),"), the database will automatically overwrite that zero with an atomically increasing value."]}),"\n",(0,c.jsxs)(s.p,{children:["[",(0,c.jsx)(s.code,{children:"ITableView.Insert"}),"] and ",(0,c.jsx)(s.a,{href:"#method-uniqueindexupdate",children:(0,c.jsx)(s.code,{children:"UniqueIndex.Update()"})})," returns rows with ",(0,c.jsx)(s.code,{children:"[AutoInc]"})," columns set to the values that were actually written into the database."]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Module"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"example"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Example"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"AutoInc"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Field;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" InsertAutoIncExample"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"int"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Id"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Name"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        for"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" i "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 0"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"; i "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 10"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"; i"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"++"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") {"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"            // These will have distinct, unique values"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"            // at rest in the database, since they"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"            // are inserted with the sentinel value 0."})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"            var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" actual "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.example."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Insert"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Example"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { Field "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 0"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" });"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            Debug."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Assert"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(actual.Field "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"!="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 0"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"[AutoInc]"})," is often combined with ",(0,c.jsx)(s.code,{children:"[Unique]"})," or ",(0,c.jsx)(s.code,{children:"[PrimaryKey]"})," to automatically assign unique integer identifiers to rows."]}),"\n",(0,c.jsx)(s.h3,{id:"indexes",children:"Indexes"}),"\n",(0,c.jsxs)(s.p,{children:["SpacetimeDB supports both single- and multi-column ",(0,c.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/B-tree",children:"B-Tree"})," indexes."]}),"\n",(0,c.jsx)(s.p,{children:"Indexes are declared using the syntax:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Index"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"BTree"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"IndexName"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", Columns "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ["}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"nameof"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Column1), "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"nameof"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Column2), "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"nameof"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Column3)])]"})]})})})}),"\n",(0,c.jsx)(s.p,{children:"For example:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"paper"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Index"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"BTree"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"TitleAndDate"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", Columns "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ["}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"nameof"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Title), "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"nameof"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Date)])]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Index"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"BTree"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"UrlAndCountry"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", Columns "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ["}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"nameof"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Url), "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"nameof"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Country)])]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" AcademicPaper"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Title;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Url;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Date;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Venue;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Country;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"Multiple indexes can be declared."}),"\n",(0,c.jsx)(s.p,{children:"Single-column indexes can also be declared using an annotation on a column:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"academic_paper"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" AcademicPaper"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Title;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Url;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Index"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"BTree"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"] "}),(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:'// The index will be named "Date".'})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Date;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Index"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"BTree"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"] "}),(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:'// The index will be named "Venue".'})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Venue;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Index"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"BTree"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"ByCountry"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")] "}),(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:'// The index will be named "ByCountry".'})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Country;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Any table supports getting an ",(0,c.jsx)(s.a,{href:"#class-index",children:(0,c.jsx)(s.code,{children:"Index"})})," using ",(0,c.jsx)(s.code,{children:"ctx.Db.{table}.{index}"}),". For example, ",(0,c.jsx)(s.code,{children:"ctx.Db.academic_paper.TitleAndDate"})," or ",(0,c.jsx)(s.code,{children:"ctx.Db.academic_paper.Venue"}),"."]}),"\n",(0,c.jsx)(s.h3,{id:"indexable-types",children:"Indexable Types"}),"\n",(0,c.jsx)(s.p,{children:"SpacetimeDB supports only a restricted set of types as index keys:"}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsx)(s.li,{children:"Signed and unsigned integers of various widths."}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"bool"}),"."]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"string"}),"."]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.a,{href:"#struct-identity",children:(0,c.jsx)(s.code,{children:"Identity"})}),"."]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.a,{href:"#struct-connectionid",children:(0,c.jsx)(s.code,{children:"ConnectionId"})}),"."]}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"enum"}),"s annotated with ",(0,c.jsx)(s.a,{href:"#attribute-spacetimedbtype",children:(0,c.jsx)(s.code,{children:"SpacetimeDB.Type"})}),"."]}),"\n"]}),"\n",(0,c.jsxs)(s.h3,{id:"class-index",children:["Class ",(0,c.jsx)(s.code,{children:"Index"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" abstract"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" IndexBase"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    where"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"IStructuralReadWrite"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"new"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // ..."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Each index generates a subclass of ",(0,c.jsx)(s.code,{children:"IndexBase"}),", which is accessible via ",(0,c.jsx)(s.code,{children:"ctx.Db.{table}.{index}"}),". For example, ",(0,c.jsx)(s.code,{children:"ctx.Db.academic_paper.TitleAndDate"}),"."]}),"\n",(0,c.jsxs)(s.p,{children:["Indexes can be applied to a variable number of columns, referred to as ",(0,c.jsx)(s.code,{children:"Column1"}),", ",(0,c.jsx)(s.code,{children:"Column2"}),", ",(0,c.jsx)(s.code,{children:"Column3"}),"... in the following examples."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Method ",(0,c.jsx)(s.a,{href:"#method-indexfilter",children:(0,c.jsx)(s.code,{children:"Filter"})})]}),(0,c.jsx)(s.td,{children:"Filter rows in an index"})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Method ",(0,c.jsx)(s.a,{href:"#method-indexdelete",children:(0,c.jsx)(s.code,{children:"Delete"})})]}),(0,c.jsx)(s.td,{children:"Delete rows in an index"})]})]})]}),"\n",(0,c.jsxs)(s.h4,{id:"method-indexfilter",children:["Method ",(0,c.jsx)(s.code,{children:"Index.Filter"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IEnumerable"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Filter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column1"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IEnumerable"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Filter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IEnumerable"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Filter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column2"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IEnumerable"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Filter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column2"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">) "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IEnumerable"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Filter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column2"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column3"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IEnumerable"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Filter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column2"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column3"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">) "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"// ..."})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Returns an iterator over all rows in the database state where the indexed column(s) match the passed ",(0,c.jsx)(s.code,{children:"bound"}),". Bound is a tuple of column values, possibly terminated by a ",(0,c.jsx)(s.code,{children:"Bound<LastColumn>"}),". A ",(0,c.jsx)(s.code,{children:"Bound<LastColumn>"})," is simply a tuple ",(0,c.jsx)(s.code,{children:"(LastColumn Min, LastColumn Max)"}),". Any prefix of the indexed columns can be passed, for example:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"using"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Module"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"zoo_animal"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Index"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"BTree"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"SpeciesAgeName"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", Columns "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ["}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"nameof"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Species), "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"nameof"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Age), "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"nameof"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name)])]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ZooAnimal"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Species;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" uint"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Age;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Name;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"PrimaryKey"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" uint"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Id;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Example"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        foreach"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" baboon "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"in"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.zoo_animal.SpeciesAgeName."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Filter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"baboon"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"))"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        {"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"            // Work with the baboon."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        foreach"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" animal "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"in"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.zoo_animal.SpeciesAgeName."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Filter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"b"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"e"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")))"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        {"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"            // Work with the animal."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:'            // The name of the species starts with a character between "b" and "e".'})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        foreach"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" babyBaboon "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"in"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.zoo_animal.SpeciesAgeName."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Filter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"baboon"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:"1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")))"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        {"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"            // Work with the baby baboon."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        foreach"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" youngBaboon "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"in"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.zoo_animal.SpeciesAgeName."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Filter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"baboon"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", ("}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:"1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:"5"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"))))"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        {"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"            // Work with the young baboon."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        foreach"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" babyBaboonNamedBob "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"in"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.zoo_animal.SpeciesAgeName."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Filter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"baboon"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:"1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Bob"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")))"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        {"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:'            // Work with the baby baboon named "Bob".'})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        foreach"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" babyBaboon "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"in"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.zoo_animal.SpeciesAgeName."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Filter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"baboon"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:"1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", ("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"a"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"f"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"))))"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        {"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:'            // Work with the baby baboon, whose name starts with a letter between "a" and "f".'})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.h4,{id:"method-indexdelete",children:["Method ",(0,c.jsx)(s.code,{children:"Index.Delete"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ulong"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Delete"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column1"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ulong"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Delete"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ulong"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Delete"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column2"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ulong"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Delete"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column2"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">) "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ulong"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Delete"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column2"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column3"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ulong"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Delete"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column1"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column2"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Column3"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">) "}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"bound"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"// ..."})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Delete all rows in the database state where the indexed column(s) match the passed ",(0,c.jsx)(s.code,{children:"bound"}),". Returns the count of rows deleted. Note that there may be multiple rows deleted even if only a single column value is passed, since the index is not guaranteed to be unique."]}),"\n",(0,c.jsx)(s.h2,{id:"reducers",children:"Reducers"}),"\n",(0,c.jsxs)(s.p,{children:["Reducers are declared using the ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Reducer]"})," attribute."]}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"[SpacetimeDB.Reducer]"})," is always applied to static C# functions. The first parameter of a reducer must be a [",(0,c.jsx)(s.code,{children:"ReducerContext"}),"]. The remaining parameters must be types marked with [",(0,c.jsx)(s.code,{children:"SpacetimeDB.Type"}),"]. Reducers should return ",(0,c.jsx)(s.code,{children:"void"}),"."]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Module"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" GivePlayerItem"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"        ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" context"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        ulong"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" PlayerId"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        ulong"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ItemId"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    )"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // ..."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Every reducer runs inside a ",(0,c.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Database_transaction",children:"database transaction"}),".  This means that reducers will not observe the effects of other reducers modifying the database while they run. If a reducer fails, all of its changes to the database will automatically be rolled back. Reducers can fail by throwing an exception."]}),"\n",(0,c.jsxs)(s.h3,{id:"class-reducercontext",children:["Class ",(0,c.jsx)(s.code,{children:"ReducerContext"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" sealed"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"DbContext"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Local"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">, "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Internal"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"IReducerContext"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // ..."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Reducers have access to a special [",(0,c.jsx)(s.code,{children:"ReducerContext"}),"] parameter. This parameter allows reading and writing the database attached to a module. It also provides some additional functionality, like generating random numbers and scheduling future operations."]}),"\n",(0,c.jsxs)(s.p,{children:["[",(0,c.jsx)(s.code,{children:"ReducerContext"}),"] provides access to the database tables via ",(0,c.jsxs)(s.a,{href:"#property-reducercontextdb",children:["the ",(0,c.jsx)(s.code,{children:".Db"})," property"]}),". The ",(0,c.jsx)(s.a,{href:"#tables",children:(0,c.jsx)(s.code,{children:"[Table]"})})," attribute generated code that adds table accessors to this property."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Property ",(0,c.jsx)(s.a,{href:"#property-reducercontextdb",children:(0,c.jsx)(s.code,{children:"Db"})})]}),(0,c.jsx)(s.td,{children:"The current state of the database"})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Property ",(0,c.jsx)(s.a,{href:"#property-reducercontextsender",children:(0,c.jsx)(s.code,{children:"Sender"})})]}),(0,c.jsxs)(s.td,{children:["The ",(0,c.jsx)(s.a,{href:"#struct-identity",children:(0,c.jsx)(s.code,{children:"Identity"})})," of the caller of the reducer"]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Property ",(0,c.jsx)(s.a,{href:"#property-reducercontextconnectionid",children:(0,c.jsx)(s.code,{children:"ConnectionId"})})]}),(0,c.jsxs)(s.td,{children:["The ",(0,c.jsx)(s.a,{href:"#struct-connectionid",children:(0,c.jsx)(s.code,{children:"ConnectionId"})})," of the caller of the reducer, if any"]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Property ",(0,c.jsx)(s.a,{href:"#property-reducercontextrng",children:(0,c.jsx)(s.code,{children:"Rng"})})]}),(0,c.jsxs)(s.td,{children:["A ",(0,c.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/dotnet/api/system.random?view=net-9.0",children:(0,c.jsx)(s.code,{children:"System.Random"})})," instance."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Property ",(0,c.jsx)(s.a,{href:"#property-reducercontexttimestamp",children:(0,c.jsx)(s.code,{children:"Timestamp"})})]}),(0,c.jsxs)(s.td,{children:["The ",(0,c.jsx)(s.a,{href:"#struct-timestamp",children:(0,c.jsx)(s.code,{children:"Timestamp"})})," of the reducer invocation"]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Property ",(0,c.jsx)(s.a,{href:"#property-reducercontextidentity",children:(0,c.jsx)(s.code,{children:"Identity"})})]}),(0,c.jsxs)(s.td,{children:["The ",(0,c.jsx)(s.a,{href:"#struct-identity",children:(0,c.jsx)(s.code,{children:"Identity"})})," of the module"]})]})]})]}),"\n",(0,c.jsxs)(s.h4,{id:"property-reducercontextdb",children:["Property ",(0,c.jsx)(s.code,{children:"ReducerContext.Db"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"DbView"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Db;"})]})})})}),"\n",(0,c.jsx)(s.p,{children:"Allows accessing the local database attached to a module."}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.code,{children:"[Table]"})," attribute generates a field of this property."]}),"\n",(0,c.jsxs)(s.p,{children:["For a table named ",(0,c.jsx)(s.em,{children:"table"}),", use ",(0,c.jsx)(s.code,{children:"ctx.Db.{table}"})," to get a ",(0,c.jsx)(s.a,{href:"#interface-itableview",children:"table view"}),".\nFor example, ",(0,c.jsx)(s.code,{children:"ctx.Db.users"}),"."]}),"\n",(0,c.jsxs)(s.p,{children:["You can also use ",(0,c.jsx)(s.code,{children:"ctx.Db.{table}.{index}"})," to get an ",(0,c.jsx)(s.a,{href:"#class-index",children:"index"})," or ",(0,c.jsx)(s.a,{href:"#class-uniqueindex",children:"unique index"}),"."]}),"\n",(0,c.jsxs)(s.h4,{id:"property-reducercontextsender",children:["Property ",(0,c.jsx)(s.code,{children:"ReducerContext.Sender"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Identity"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Sender;"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.a,{href:"#struct-identity",children:(0,c.jsx)(s.code,{children:"Identity"})})," of the client that invoked the reducer."]}),"\n",(0,c.jsxs)(s.h4,{id:"property-reducercontextconnectionid",children:["Property ",(0,c.jsx)(s.code,{children:"ReducerContext.ConnectionId"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ConnectionId"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"? ConnectionId;"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.a,{href:"#struct-connectionid",children:(0,c.jsx)(s.code,{children:"ConnectionId"})})," of the client that invoked the reducer."]}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"null"})," if no ",(0,c.jsx)(s.code,{children:"ConnectionId"})," was supplied to the ",(0,c.jsx)(s.code,{children:"/database/call"})," HTTP endpoint,\nor via the CLI's ",(0,c.jsx)(s.code,{children:"spacetime call"})," subcommand."]}),"\n",(0,c.jsxs)(s.h4,{id:"property-reducercontextrng",children:["Property ",(0,c.jsx)(s.code,{children:"ReducerContext.Rng"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Random"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Rng;"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["A ",(0,c.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/dotnet/api/system.random?view=net-9.0",children:(0,c.jsx)(s.code,{children:"System.Random"})})," that can be used to generate random numbers."]}),"\n",(0,c.jsxs)(s.h4,{id:"property-reducercontexttimestamp",children:["Property ",(0,c.jsx)(s.code,{children:"ReducerContext.Timestamp"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Timestamp"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Timestamp;"})]})})})}),"\n",(0,c.jsx)(s.p,{children:"The time at which the reducer was invoked."}),"\n",(0,c.jsxs)(s.h4,{id:"property-reducercontextidentity",children:["Property ",(0,c.jsx)(s.code,{children:"ReducerContext.Identity"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Identity"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Identity;"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.a,{href:"#struct-identity",children:(0,c.jsx)(s.code,{children:"Identity"})})," of the module."]}),"\n",(0,c.jsxs)(s.p,{children:["This can be used to ",(0,c.jsx)(s.a,{href:"#restricting-scheduled-reducers",children:"check whether a scheduled reducer is being called by a user"}),"."]}),"\n",(0,c.jsxs)(s.p,{children:["Note: this is not the identity of the caller, that's ",(0,c.jsx)(s.a,{href:"#property-reducercontextsender",children:(0,c.jsx)(s.code,{children:"ReducerContext.Sender"})}),"."]}),"\n",(0,c.jsx)(s.h3,{id:"lifecycle-reducers",children:"Lifecycle Reducers"}),"\n",(0,c.jsx)(s.p,{children:"A small group of reducers are called at set points in the module lifecycle. These are used to initialize\nthe database and respond to client connections. You can have one of each per module."}),"\n",(0,c.jsxs)(s.p,{children:["These reducers cannot be called manually and may not have any parameters except for ",(0,c.jsx)(s.code,{children:"ReducerContext"}),"."]}),"\n",(0,c.jsxs)(s.h4,{id:"the-init-reducer",children:["The ",(0,c.jsx)(s.code,{children:"Init"})," reducer"]}),"\n",(0,c.jsxs)(s.p,{children:["This reducer is marked with ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Reducer(ReducerKind.Init)]"}),". It is run the first time a module is published and any time the database is cleared."]}),"\n",(0,c.jsx)(s.p,{children:"If an error occurs when initializing, the module will not be published."}),"\n",(0,c.jsxs)(s.p,{children:["This reducer can be used to configure any static data tables used by your module. It can also be used to start running ",(0,c.jsx)(s.a,{href:"#scheduled-reducers",children:"scheduled reducers"}),"."]}),"\n",(0,c.jsxs)(s.h4,{id:"the-clientconnected-reducer",children:["The ",(0,c.jsx)(s.code,{children:"ClientConnected"})," reducer"]}),"\n",(0,c.jsxs)(s.p,{children:["This reducer is marked with ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Reducer(ReducerKind.ClientConnected)]"}),". It is run when a client connects to the SpacetimeDB database. Their identity can be found in the sender value of the ",(0,c.jsx)(s.code,{children:"ReducerContext"}),"."]}),"\n",(0,c.jsx)(s.p,{children:"If an error occurs in the reducer, the client will be disconnected."}),"\n",(0,c.jsxs)(s.h4,{id:"the-clientdisconnected-reducer",children:["The ",(0,c.jsx)(s.code,{children:"ClientDisconnected"})," reducer"]}),"\n",(0,c.jsxs)(s.p,{children:["This reducer is marked with ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Reducer(ReducerKind.ClientDisconnected)]"}),". It is run when a client disconnects from the SpacetimeDB database. Their identity can be found in the sender value of the ",(0,c.jsx)(s.code,{children:"ReducerContext"}),"."]}),"\n",(0,c.jsx)(s.p,{children:"If an error occurs in the disconnect reducer, the client is still recorded as disconnected."}),"\n",(0,c.jsx)(s.h3,{id:"scheduled-reducers",children:"Scheduled Reducers"}),"\n",(0,c.jsx)(s.p,{children:"Reducers can schedule other reducers to run asynchronously. This allows calling the reducers at a particular time, or at repeating intervals. This can be used to implement timers, game loops, and maintenance tasks."}),"\n",(0,c.jsx)(s.p,{children:"The scheduling information for a reducer is stored in a table.\nThis table has two mandatory fields:"}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["An ",(0,c.jsx)(s.code,{children:"[AutoInc] [PrimaryKey] ulong"})," field that identifies scheduled reducer calls."]}),"\n",(0,c.jsxs)(s.li,{children:["A ",(0,c.jsx)(s.a,{href:"#record-scheduleat",children:(0,c.jsx)(s.code,{children:"ScheduleAt"})})," field that says when to call the reducer."]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"Managing timers with a scheduled table is as simple as inserting or deleting rows from the table.\nThis makes scheduling transactional in SpacetimeDB. If a reducer A first schedules B but then errors for some other reason, B will not be scheduled to run."}),"\n",(0,c.jsxs)(s.p,{children:["A ",(0,c.jsx)(s.a,{href:"#record-scheduleat",children:(0,c.jsx)(s.code,{children:"ScheduleAt"})})," can be created from a ",(0,c.jsx)(s.a,{href:"#struct-timestamp",children:(0,c.jsx)(s.code,{children:"Timestamp"})}),", in which case the reducer will be scheduled once, or from a ",(0,c.jsx)(s.a,{href:"#struct-timeduration",children:(0,c.jsx)(s.code,{children:"TimeDuration"})}),", in which case the reducer will be scheduled in a loop."]}),"\n",(0,c.jsx)(s.p,{children:"Example:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"using"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Module"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // First, we declare the table with scheduling information."})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"send_message_schedule"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", Scheduled "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" nameof"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(SendMessage), ScheduledAt "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" nameof"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(ScheduledAt))]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SendMessageSchedule"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // Mandatory fields:"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"PrimaryKey"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"AutoInc"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ulong"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Id;"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ScheduleAt"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ScheduledAt;"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // Custom fields:"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Message;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // Then, we declare the scheduled reducer."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // The first argument of the reducer should be, as always, a `ReducerContext`."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // The second argument should be a row of the scheduling information table."})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" SendMessage"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SendMessageSchedule"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" schedule"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        Log."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Info"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'$"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Sending message "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"{"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"schedule"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"Message"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"}"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"        // ..."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // Finally, we want to actually start scheduling reducers."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // It's convenient to do this inside the `init` reducer."})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(ReducerKind.Init)]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Init"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" currentTime "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Timestamp;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" tenSeconds "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" TimeDuration"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { Microseconds "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" +"}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:"10_000_000"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" };"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" futureTimestamp "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" currentTime "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"+"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" tenSeconds;"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ctx.Db.send_message_schedule."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Insert"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"new"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            Id "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 0"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"// Have [AutoInc] assign an Id."})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            ScheduledAt "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ScheduleAt"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Time"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(futureTimestamp),"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            Message "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"I'm a bot sending a message one time!"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        });"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ctx.Db.send_message_schedule."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Insert"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"new"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            Id "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 0"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"// Have [AutoInc] assign an Id."})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            ScheduledAt "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ScheduleAt"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Interval"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(tenSeconds),"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            Message "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"I'm a bot sending a message every ten seconds!"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        });"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"Scheduled reducers are called on a best-effort basis and may be slightly delayed in their execution\nwhen a database is under heavy load."}),"\n",(0,c.jsx)(s.h4,{id:"restricting-scheduled-reducers",children:"Restricting scheduled reducers"}),"\n",(0,c.jsxs)(s.p,{children:["Scheduled reducers are normal reducers, and may still be called by clients.\nIf a scheduled reducer should only be called by the scheduler, consider beginning it with a check that the caller ",(0,c.jsx)(s.code,{children:"Identity"})," is the module:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" SendMessage"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SendMessageSchedule"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" schedule"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    if"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" (ctx.Sender "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"!="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Identity)"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        throw"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Exception"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Reducer SendMessage may not be invoked by clients, only via scheduling."}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // ..."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.h2,{id:"automatic-migrations",children:"Automatic migrations"}),"\n",(0,c.jsxs)(s.p,{children:["When you ",(0,c.jsx)(s.code,{children:"spacetime publish"})," a module that has already been published using ",(0,c.jsx)(s.code,{children:"spacetime publish <DATABASE_NAME_OR_IDENTITY>"}),",\nSpacetimeDB attempts to automatically migrate your existing database to the new schema. (The \"schema\" is just the collection\nof tables and reducers you've declared in your code, together with the types they depend on.) This form of migration is limited and only supports a few kinds of changes.\nOn the plus side, automatic migrations usually don't break clients. The situations that may break clients are documented below."]}),"\n",(0,c.jsx)(s.p,{children:"The following changes are always allowed and never breaking:"}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["\u2705 ",(0,c.jsx)(s.strong,{children:"Adding tables"}),". Non-updated clients will not be able to see the new tables."]}),"\n",(0,c.jsxs)(s.li,{children:["\u2705 ",(0,c.jsx)(s.strong,{children:"Adding indexes"}),"."]}),"\n",(0,c.jsxs)(s.li,{children:["\u2705 ",(0,c.jsxs)(s.strong,{children:["Adding or removing ",(0,c.jsx)(s.code,{children:"[AutoInc]"})," annotations."]})]}),"\n",(0,c.jsxs)(s.li,{children:["\u2705 ",(0,c.jsx)(s.strong,{children:"Changing tables from private to public"}),"."]}),"\n",(0,c.jsxs)(s.li,{children:["\u2705 ",(0,c.jsx)(s.strong,{children:"Adding reducers"}),"."]}),"\n",(0,c.jsxs)(s.li,{children:["\u2705 ",(0,c.jsxs)(s.strong,{children:["Removing ",(0,c.jsx)(s.code,{children:"[Unique]"})," annotations."]})]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"The following changes are allowed, but may break clients:"}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:["\u26a0\ufe0f ",(0,c.jsx)(s.strong,{children:"Changing or removing reducers"}),". Clients that attempt to call the old version of a changed reducer will receive runtime errors."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:["\u26a0\ufe0f ",(0,c.jsx)(s.strong,{children:"Changing tables from public to private"}),". Clients that are subscribed to a newly-private table will receive runtime errors."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:["\u26a0\ufe0f ",(0,c.jsxs)(s.strong,{children:["Removing ",(0,c.jsx)(s.code,{children:"[PrimaryKey]"})," annotations"]}),". Non-updated clients will still use the old ",(0,c.jsx)(s.code,{children:"[PrimaryKey]"})," as a unique key in their local cache, which can result in non-deterministic behavior when updates are received."]}),"\n"]}),"\n",(0,c.jsxs)(s.li,{children:["\n",(0,c.jsxs)(s.p,{children:["\u26a0\ufe0f ",(0,c.jsx)(s.strong,{children:"Removing indexes"}),". This is only breaking in some situtations.\nThe specific problem is subscription queries  involving semijoins, such as:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"SELECT"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Employee."}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"*"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"FROM"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Employee "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"JOIN"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Dept"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"ON"}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" Employee"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:"DeptName"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" Dept"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:"DeptName"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["For performance reasons, SpacetimeDB will only allow this kind of subscription query if there are indexes on ",(0,c.jsx)(s.code,{children:"Employee.DeptName"})," and ",(0,c.jsx)(s.code,{children:"Dept.DeptName"}),". Removing either of these indexes will invalidate this subscription query, resulting in client-side runtime errors."]}),"\n"]}),"\n"]}),"\n",(0,c.jsx)(s.p,{children:"The following changes are forbidden without a manual migration:"}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsxs)(s.li,{children:["\u274c ",(0,c.jsx)(s.strong,{children:"Removing tables"}),"."]}),"\n",(0,c.jsxs)(s.li,{children:["\u274c ",(0,c.jsx)(s.strong,{children:"Changing the columns of a table"}),". This includes changing the order of columns of a table."]}),"\n",(0,c.jsxs)(s.li,{children:["\u274c ",(0,c.jsxs)(s.strong,{children:["Changing whether a table is used for ",(0,c.jsx)(s.a,{href:"#scheduled-reducers",children:"scheduling"}),"."]})," "]}),"\n",(0,c.jsxs)(s.li,{children:["\u274c ",(0,c.jsxs)(s.strong,{children:["Adding ",(0,c.jsx)(s.code,{children:"[Unique]"})," or ",(0,c.jsx)(s.code,{children:"[PrimaryKey]"})," constraints."]})," This could result in existing tables being in an invalid state."]}),"\n"]}),"\n",(0,c.jsxs)(s.p,{children:["Currently, manual migration support is limited. The ",(0,c.jsx)(s.code,{children:"spacetime publish --clear-database <DATABASE_IDENTITY>"})," command can be used to ",(0,c.jsx)(s.strong,{children:"COMPLETELY DELETE"})," and reinitialize your database, but naturally it should be used with EXTREME CAUTION."]}),"\n",(0,c.jsx)(s.h2,{id:"other-infrastructure",children:"Other infrastructure"}),"\n",(0,c.jsxs)(s.h3,{id:"class-log",children:["Class ",(0,c.jsx)(s.code,{children:"Log"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"namespace"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Log"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Debug"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" message"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Error"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" message"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Exception"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" message"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Exception"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Exception"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" exception"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Info"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" message"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Trace"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" message"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Warn"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" message"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"Methods for writing to a private debug log. Log messages will include file and line numbers."}),"\n",(0,c.jsxs)(s.p,{children:["Log outputs of a running database can be inspected using the ",(0,c.jsx)(s.code,{children:"spacetime logs"})," command:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{children:"spacetime logs <DATABASE_IDENTITY>"})})})})}),"\n",(0,c.jsx)(s.p,{children:"These are only visible to the database owner, not to clients or other developers."}),"\n",(0,c.jsxs)(s.p,{children:["Note that ",(0,c.jsx)(s.code,{children:"Log.Error"})," and ",(0,c.jsx)(s.code,{children:"Log.Exception"})," only write to the log, they do not throw exceptions themselves."]}),"\n",(0,c.jsx)(s.p,{children:"Example:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"using"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Module"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"user"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" User"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"PrimaryKey"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        uint"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Id;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Unique"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Username;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        ulong"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" DogCount;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" LogDogs"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        Log."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Info"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Examining users."}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" totalDogCount "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 0"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        foreach"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" user "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"in"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ctx.Db.user."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Iter"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"()) {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            Log."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Info"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'$"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"    User: Id = "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"{"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"user"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"Id"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"}"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:", Username = "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"{"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"user"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"Username"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"}"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:", DogCount = "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"{"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"user"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"DogCount"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"}"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            totalDogCount "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"+="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" user.DogCount;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        if"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" (totalDogCount "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 300"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            Log."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Warn"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Insufficient dogs."}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        if"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" (totalDogCount "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 100"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            Log."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Error"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Dog population is critically low!"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.h3,{id:"attribute-spacetimedbtype",children:["Attribute ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Type]"})]}),"\n",(0,c.jsxs)(s.p,{children:["This attribute makes types self-describing, allowing them to automatically register their structure\nwith SpacetimeDB. Any C# type annotated with ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Type]"})," can be used as a table column or reducer argument."]}),"\n",(0,c.jsxs)(s.p,{children:["Types marked ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Table]"})," are automatically marked ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Type]"}),"."]}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"[SpacetimeDB.Type]"})," can be combined with [",(0,c.jsx)(s.code,{children:"SpacetimeDB.TaggedEnum"}),"] to use tagged enums in tables or reducers."]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"using"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Module"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Type"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Coord"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" X;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Y;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Type"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" TankData"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Ammo;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" LeftTreadHealth;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" RightTreadHealth;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Type"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" TransportData"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" TroopCount;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // A type that could be either the data for a Tank or the data for a Transport."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // See SpacetimeDB.TaggedEnum docs."})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Type"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" VehicleData"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"TaggedEnum"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"TankData"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Tank, "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"TransportData"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Transport)> {}"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"vehicle"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Vehicle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"PrimaryKey"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"AutoInc"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" uint"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Id;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Coord"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Coord;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"        public"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" VehicleData"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Data;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" InsertVehicle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerContext"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" ctx"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Coord"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Coord"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"VehicleData"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Data"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ctx.Db.vehicle."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Insert"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Vehicle"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { Id "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 0"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", Coord "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Coord, Data "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Data });"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["The fields of the struct/enum must also be marked with ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Type]"}),"."]}),"\n",(0,c.jsxs)(s.p,{children:["Some types from the standard library are also considered to be marked with ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Type]"}),", including:"]}),"\n",(0,c.jsxs)(s.ul,{children:["\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"byte"})}),"\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"sbyte"})}),"\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"ushort"})}),"\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"short"})}),"\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"uint"})}),"\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"int"})}),"\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"ulong"})}),"\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"long"})}),"\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"SpacetimeDB.U128"})}),"\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"SpacetimeDB.I128"})}),"\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"SpacetimeDB.U256"})}),"\n",(0,c.jsx)(s.li,{children:(0,c.jsx)(s.code,{children:"SpacetimeDB.I256"})}),"\n",(0,c.jsxs)(s.li,{children:[(0,c.jsx)(s.code,{children:"List<T>"})," where ",(0,c.jsx)(s.code,{children:"T"})," is a ",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Type]"})]}),"\n"]}),"\n",(0,c.jsxs)(s.h3,{id:"struct-identity",children:["Struct ",(0,c.jsx)(s.code,{children:"Identity"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"namespace"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" readonly"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Identity"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Identity"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" FromHexString"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" hex"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" ToString"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["An ",(0,c.jsx)(s.code,{children:"Identity"})," for something interacting with the database."]}),"\n",(0,c.jsxs)(s.p,{children:["This is a record struct, so it can be printed, compared with ",(0,c.jsx)(s.code,{children:"=="}),", and used as a ",(0,c.jsx)(s.code,{children:"Dictionary"})," key."]}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"ToString()"})," returns a hex encoding of the Identity, suitable for printing."]}),"\n",(0,c.jsxs)(s.h3,{id:"struct-connectionid",children:["Struct ",(0,c.jsx)(s.code,{children:"ConnectionId"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"namespace"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" readonly"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ConnectionId"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ConnectionId"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"? "}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"FromHexString"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" hex"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" string"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" ToString"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(s.p,{children:"A unique identifier for a client connection to a SpacetimeDB database."}),"\n",(0,c.jsxs)(s.p,{children:["This is a record struct, so it can be printed, compared with ",(0,c.jsx)(s.code,{children:"=="}),", and used as a ",(0,c.jsx)(s.code,{children:"Dictionary"})," key."]}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"ToString()"})," returns a hex encoding of the ",(0,c.jsx)(s.code,{children:"ConnectionId"}),", suitable for printing."]}),"\n",(0,c.jsxs)(s.h3,{id:"struct-timestamp",children:["Struct ",(0,c.jsx)(s.code,{children:"Timestamp"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"namespace"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Timestamp"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"long"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" MicrosecondsSinceUnixEpoch"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"IStructuralReadWrite"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"        IComparable"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Timestamp"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // ..."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["A point in time, measured in microseconds since the Unix epoch.\nThis can be converted to/from a standard library ",(0,c.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/dotnet/api/system.datetimeoffset?view=net-9.0",children:(0,c.jsx)(s.code,{children:"DateTimeOffset"})}),". It is provided for consistency of behavior between SpacetimeDB's supported module and SDK languages."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Property ",(0,c.jsx)(s.code,{children:"MicrosecondsSinceUnixEpoch"})]}),(0,c.jsxs)(s.td,{children:["Microseconds since the ",(0,c.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Unix_time",children:"unix epoch"}),"."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Conversion to/from ",(0,c.jsx)(s.code,{children:"DateTimeOffset"})]}),(0,c.jsxs)(s.td,{children:["Convert to/from a standard library ",(0,c.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/dotnet/api/system.datetimeoffset?view=net-9.0",children:(0,c.jsx)(s.code,{children:"DateTimeOffset"})})]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Static property ",(0,c.jsx)(s.code,{children:"UNIX_EPOCH"})]}),(0,c.jsxs)(s.td,{children:["The ",(0,c.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Unix_time",children:"unix epoch"})," as a ",(0,c.jsx)(s.code,{children:"Timestamp"})]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Method ",(0,c.jsx)(s.code,{children:"TimeDurationSince"})]}),(0,c.jsxs)(s.td,{children:["Measure the time elapsed since another ",(0,c.jsx)(s.code,{children:"Timestamp"})]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Operator ",(0,c.jsx)(s.code,{children:"+"})]}),(0,c.jsxs)(s.td,{children:["Add a [",(0,c.jsx)(s.code,{children:"TimeDuration"}),"] to a ",(0,c.jsx)(s.code,{children:"Timestamp"})]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Method ",(0,c.jsx)(s.code,{children:"CompareTo"})]}),(0,c.jsxs)(s.td,{children:["Compare to another ",(0,c.jsx)(s.code,{children:"Timestamp"})]})]})]})]}),"\n",(0,c.jsxs)(s.h4,{id:"property-timestampmicrosecondssinceunixepoch",children:["Property ",(0,c.jsx)(s.code,{children:"Timestamp.MicrosecondsSinceUnixEpoch"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"long"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" MicrosecondsSinceUnixEpoch;"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["The number of microseconds since the ",(0,c.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Unix_time",children:"unix epoch"}),"."]}),"\n",(0,c.jsx)(s.p,{children:"A positive value means a time after the Unix epoch, and a negative value means a time before."}),"\n",(0,c.jsxs)(s.h4,{id:"conversion-tofrom-datetimeoffset",children:["Conversion to/from ",(0,c.jsx)(s.code,{children:"DateTimeOffset"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" implicit "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"operator"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" DateTimeOffset"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Timestamp"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" t"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" implicit "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"operator"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Timestamp"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"DateTimeOffset"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" offset"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]})]})})}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"Timestamp"})," may be converted to/from a ",(0,c.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/dotnet/api/system.datetimeoffset?view=net-9.0",children:(0,c.jsx)(s.code,{children:"DateTimeOffset"})}),", but the conversion can lose precision.\nThis type has less precision than DateTimeOffset (units of microseconds rather than units of 100ns)."]}),"\n",(0,c.jsxs)(s.h4,{id:"static-property-timestampunix_epoch",children:["Static property ",(0,c.jsx)(s.code,{children:"Timestamp.UNIX_EPOCH"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" readonly"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Timestamp"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" UNIX_EPOCH "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Timestamp"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { MicrosecondsSinceUnixEpoch "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 0"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" };"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["The ",(0,c.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Unix_time",children:"unix epoch"})," as a ",(0,c.jsx)(s.code,{children:"Timestamp"}),"."]}),"\n",(0,c.jsxs)(s.h4,{id:"method-timestamptimedurationsince",children:["Method ",(0,c.jsx)(s.code,{children:"Timestamp.TimeDurationSince"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" readonly"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" TimeDuration"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" TimeDurationSince"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Timestamp"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" earlier"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["Create a new [",(0,c.jsx)(s.code,{children:"TimeDuration"}),"] that is the difference between two ",(0,c.jsx)(s.code,{children:"Timestamps"}),"."]}),"\n",(0,c.jsxs)(s.h4,{id:"operator-timestamp",children:["Operator ",(0,c.jsx)(s.code,{children:"Timestamp.+"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Timestamp operator "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"+"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Timestamp point, TimeDuration interval);"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["Create a new ",(0,c.jsx)(s.code,{children:"Timestamp"})," that occurs ",(0,c.jsx)(s.code,{children:"interval"})," after ",(0,c.jsx)(s.code,{children:"point"}),"."]}),"\n",(0,c.jsxs)(s.h4,{id:"method-timestampcompareto",children:["Method ",(0,c.jsx)(s.code,{children:"Timestamp.CompareTo"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" CompareTo"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Timestamp"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" that"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["Compare two ",(0,c.jsx)(s.code,{children:"Timestamp"}),"s."]}),"\n",(0,c.jsxs)(s.h3,{id:"struct-timeduration",children:["Struct ",(0,c.jsx)(s.code,{children:"TimeDuration"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"namespace"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" TimeDuration"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"long"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Microseconds"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"IStructuralReadWrite"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#6272A4"},children:"    // ..."})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["A duration that represents an interval between two [",(0,c.jsx)(s.code,{children:"Timestamp"}),"]s."]}),"\n",(0,c.jsxs)(s.p,{children:["This type may be converted to/from a ",(0,c.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/dotnet/api/system.timespan?view=net-9.0",children:(0,c.jsx)(s.code,{children:"TimeSpan"})}),". It is provided for consistency of behavior between SpacetimeDB's supported module and SDK languages."]}),"\n",(0,c.jsxs)(s.table,{children:[(0,c.jsx)(s.thead,{children:(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.th,{children:"Name"}),(0,c.jsx)(s.th,{children:"Description"})]})}),(0,c.jsxs)(s.tbody,{children:[(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Property ",(0,c.jsx)(s.a,{href:"#property-timedurationmicroseconds",children:(0,c.jsx)(s.code,{children:"Microseconds"})})]}),(0,c.jsxs)(s.td,{children:["Microseconds between the [",(0,c.jsx)(s.code,{children:"Timestamp"}),"]s."]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsx)(s.td,{children:(0,c.jsxs)(s.a,{href:"#conversion-tofrom-timespan",children:["Conversion to/from ",(0,c.jsx)(s.code,{children:"TimeSpan"})]})}),(0,c.jsxs)(s.td,{children:["Convert to/from a standard library ",(0,c.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/dotnet/api/system.timespan?view=net-9.0",children:(0,c.jsx)(s.code,{children:"TimeSpan"})})]})]}),(0,c.jsxs)(s.tr,{children:[(0,c.jsxs)(s.td,{children:["Static property ",(0,c.jsx)(s.a,{href:"#static-property-timedurationzero",children:(0,c.jsx)(s.code,{children:"ZERO"})})]}),(0,c.jsxs)(s.td,{children:["The duration between any [",(0,c.jsx)(s.code,{children:"Timestamp"}),"] and itself"]})]})]})]}),"\n",(0,c.jsxs)(s.h4,{id:"property-timedurationmicroseconds",children:["Property ",(0,c.jsx)(s.code,{children:"TimeDuration.Microseconds"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"long"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Microseconds;"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["The number of microseconds between two [",(0,c.jsx)(s.code,{children:"Timestamp"}),"]s."]}),"\n",(0,c.jsxs)(s.h4,{id:"conversion-tofrom-timespan",children:["Conversion to/from ",(0,c.jsx)(s.code,{children:"TimeSpan"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" implicit "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"operator"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" TimeSpan"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"TimeDuration"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" d"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    new"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(d.Microseconds "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"*"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Util.TicksPerMicrosecond);"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" implicit "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"operator"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" TimeDuration"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"TimeSpan"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" timeSpan"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    new"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(timeSpan.Ticks "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"/"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Util.TicksPerMicrosecond);"})]})]})})}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"TimeDuration"})," may be converted to/from a ",(0,c.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/dotnet/api/system.timespan?view=net-9.0",children:(0,c.jsx)(s.code,{children:"TimeSpan"})}),", but the conversion can lose precision.\nThis type has less precision than ",(0,c.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/dotnet/api/system.timespan?view=net-9.0",children:(0,c.jsx)(s.code,{children:"TimeSpan"})})," (units of microseconds rather than units of 100ns)."]}),"\n",(0,c.jsxs)(s.h4,{id:"static-property-timedurationzero",children:["Static property ",(0,c.jsx)(s.code,{children:"TimeDuration.ZERO"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsx)(s.code,{children:(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" readonly"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" TimeDuration"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ZERO "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" TimeDuration"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" { Microseconds "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:" 0"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" };"})]})})})}),"\n",(0,c.jsxs)(s.p,{children:["The duration between any ",(0,c.jsx)(s.code,{children:"Timestamp"})," and itself."]}),"\n",(0,c.jsxs)(s.h3,{id:"record-taggedenum",children:["Record ",(0,c.jsx)(s.code,{children:"TaggedEnum"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"namespace"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" abstract"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" TaggedEnum"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"Variants"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"IEquatable"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"TaggedEnum"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Variants"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">> "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"where"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Variants"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"struct"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ITuple"})]})]})})}),"\n",(0,c.jsxs)(s.p,{children:["A ",(0,c.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Tagged_union",children:"tagged enum"})," is a type that can hold a value from any one of several types. ",(0,c.jsx)(s.code,{children:"TaggedEnum"})," uses code generation to accomplish this."]}),"\n",(0,c.jsxs)(s.p,{children:["For example, to declare a type that can be either a ",(0,c.jsx)(s.code,{children:"string"})," or an ",(0,c.jsx)(s.code,{children:"int"}),", write:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Type"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ProductId"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"TaggedEnum"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Text, "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"uint"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Number)> { }"})]})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Here there are two ",(0,c.jsx)(s.strong,{children:"variants"}),": one is named ",(0,c.jsx)(s.code,{children:"Text"})," and holds a ",(0,c.jsx)(s.code,{children:"string"}),", the other is named ",(0,c.jsx)(s.code,{children:"Number"})," and holds a ",(0,c.jsx)(s.code,{children:"uint"}),"."]}),"\n",(0,c.jsxs)(s.p,{children:["To create a value of this type, use ",(0,c.jsx)(s.code,{children:"new {Type}.{Variant}({data})"}),". For example:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ProductId"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" a "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ProductId"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Text"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"apple"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ProductId"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" b "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ProductId"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Number"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:"57"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ProductId"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" c "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" new"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ProductId"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Number"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#BD93F9"},children:"59"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]})]})})}),"\n",(0,c.jsxs)(s.p,{children:["To use a value of this type, you need to check which variant it stores.\nThis is done with ",(0,c.jsx)(s.a,{href:"https://learn.microsoft.com/en-us/dotnet/csharp/fundamentals/functional/pattern-matching",children:"C# pattern matching syntax"}),". For example:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:" Print"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ProductId"}),(0,c.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" id"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    if"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" (id "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"is"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ProductId"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Text"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" s))"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        Log."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Info"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'$"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Textual product ID: '"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"{"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"s"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"}"}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"'"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    else"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" if"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" (id "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"is"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ProductId"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Number"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" i))"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        Log."}),(0,c.jsx)(s.span,{style:{color:"#50FA7B"},children:"Info"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'$"'}),(0,c.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Numeric Product ID: "}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"{"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"i"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"}"}),(0,c.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["A ",(0,c.jsx)(s.code,{children:"TaggedEnum"})," can have up to 255 variants, and the variants can be any type marked with [",(0,c.jsx)(s.code,{children:"[SpacetimeDB.Type]"}),"]."]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Type"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ManyChoices"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"TaggedEnum"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<("})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    string"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" String,"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Int,"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"    List"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> IntList,"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"    Banana"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Banana,"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"    List"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"List"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Banana"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:">> BananaMatrix"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:")> { }"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Type"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Banana"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Sweetness;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Rot;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:[(0,c.jsx)(s.code,{children:"TaggedEnums"})," are an excellent alternative to nullable fields when groups of fields are always set together. Consider a data type like:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Type"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ShapeData"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"? CircleRadius;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"? RectWidth;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"? RectHeight;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Often this is supposed to be a circle XOR a rectangle -- that is, not both at the same time. If this is the case, then we don't want to set ",(0,c.jsx)(s.code,{children:"circleRadius"})," at the same time as ",(0,c.jsx)(s.code,{children:"rectWidth"})," or ",(0,c.jsx)(s.code,{children:"rectHeight"}),". Also, if ",(0,c.jsx)(s.code,{children:"rectWidth"})," is set, we expect ",(0,c.jsx)(s.code,{children:"rectHeight"})," to be set.\nHowever, C# doesn't know about this, so code using this type will be littered with extra null checks."]}),"\n",(0,c.jsx)(s.p,{children:"If we instead write:"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Type"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" CircleData"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Radius;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Type"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" struct"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RectData"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Width;"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Height;"})]}),"\n",(0,c.jsx)(s.span,{className:"line",children:(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Type"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ShapeData"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"TaggedEnum"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"CircleData"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Circle, "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"RectData"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Rect)> { }"})]})]})})}),"\n",(0,c.jsxs)(s.p,{children:["Then code using a ",(0,c.jsx)(s.code,{children:"ShapeData"})," will only have to do one check -- do I have a circle or a rectangle?\nAnd in each case, the data will be guaranteed to have exactly the fields needed."]}),"\n",(0,c.jsxs)(s.h3,{id:"record-scheduleat",children:["Record ",(0,c.jsx)(s.code,{children:"ScheduleAt"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(s.code,{children:[(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"namespace"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SpacetimeDB"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(s.span,{className:"line"}),"\n",(0,c.jsxs)(s.span,{className:"line",children:[(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,c.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ScheduleAt"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"TaggedEnum"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<("}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"TimeDuration"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Interval, "}),(0,c.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Timestamp"}),(0,c.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Time)>"})]})]})})}),"\n",(0,c.jsxs)(s.p,{children:["When a ",(0,c.jsx)(s.a,{href:"#scheduled-reducers",children:"scheduled reducer"})," should execute, either at a specific point in time, or at regular intervals for repeating schedules."]}),"\n",(0,c.jsx)(s.p,{children:"Stored in reducer-scheduling tables as a column."})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,c.jsx)(s,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}}}]);