"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2914],{1553:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/oidcdebugger-config-7852ff7e3927ee11ae070ca59ec4269d.png"},2135:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/jwtio-781a5e18df5bcd2c5dca9e145d2ad3e5.png"},2425:(e,s,n)=>{n.d(s,{A:()=>r});const r=n.p+"assets/images/oidcdebugger-results-dcc474cd73d8e6e26c2efedf19821d30.png"},3410:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"SpacetimeAuth/Testing","title":"Testing","description":"SpacetimeAuth is currently in beta, some features may not be available yet or may change in the future. You might encounter bugs or issues while using the service. Please report any problems you encounter to help us improve SpacetimeAuth.","source":"@site/docs/12-SpacetimeAuth/04-Testing.md","sourceDirName":"12-SpacetimeAuth","slug":"/spacetimeauth/testing","permalink":"/spacetimeauth/testing","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Testing","slug":"/spacetimeauth/testing"},"sidebar":"sidebar","previous":{"title":"Configuring your project","permalink":"/spacetimeauth/configuring-a-project"},"next":{"title":"React Integration","permalink":"/spacetimeauth/react-integration"}}');var t=n(7711),l=n(6119);const i={title:"Testing",slug:"/spacetimeauth/testing"},c="Testing Your SpacetimeAuth Setup with OIDC Debugger",o={},d=[{value:"Why Use OIDC Debugger?",id:"why-use-oidc-debugger",level:2},{value:"Step 1: Gather Your Configuration",id:"step-1-gather-your-configuration",level:2},{value:"Step 2: Open OIDC Debugger",id:"step-2-open-oidc-debugger",level:2},{value:"Step 3: Run the Flow",id:"step-3-run-the-flow",level:2},{value:"Step 4: Inspect your tokens",id:"step-4-inspect-your-tokens",level:2}];function a(e){const s={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"testing-your-spacetimeauth-setup-with-oidc-debugger",children:"Testing Your SpacetimeAuth Setup with OIDC Debugger"})}),"\n",(0,t.jsx)(s.admonition,{type:"warning",children:(0,t.jsx)(s.p,{children:"SpacetimeAuth is currently in beta, some features may not be available yet or may change in the future. You might encounter bugs or issues while using the service. Please report any problems you encounter to help us improve SpacetimeAuth."})}),"\n",(0,t.jsxs)(s.p,{children:["Before integrating SpacetimeAuth into your application code, it\u2019s a good idea\nto verify that your client and redirect URIs are working correctly. One of the\neasiest ways to do this is with ",(0,t.jsx)(s.a,{href:"https://oidcdebugger.com",children:"OIDC Debugger"}),"."]}),"\n",(0,t.jsx)(s.h2,{id:"why-use-oidc-debugger",children:"Why Use OIDC Debugger?"}),"\n",(0,t.jsx)(s.p,{children:"OIDC Debugger simulates the OAuth2 / OIDC Authorization Code flow in your browser.\nIt allows you to:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Confirm that your ",(0,t.jsx)(s.strong,{children:"redirect URIs"})," are configured properly."]}),"\n",(0,t.jsxs)(s.li,{children:["Verify that your ",(0,t.jsx)(s.strong,{children:"client ID"})," works."]}),"\n",(0,t.jsxs)(s.li,{children:["Inspect the ",(0,t.jsx)(s.strong,{children:"ID Token"})," and claims (",(0,t.jsx)(s.code,{children:"email"}),", ",(0,t.jsx)(s.code,{children:"sub"}),", ",(0,t.jsx)(s.code,{children:"preferred_username"}),", etc.)."]}),"\n",(0,t.jsx)(s.li,{children:"Catch configuration issues before writing code."}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"step-1-gather-your-configuration",children:"Step 1: Gather Your Configuration"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Authorization Endpoint"}),":",(0,t.jsx)(s.br,{}),"\n",(0,t.jsx)(s.code,{children:"https://auth.spacetimedb.com/oidc/auth"})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Token Endpoint"}),":",(0,t.jsx)(s.br,{}),"\n",(0,t.jsx)(s.code,{children:"https://auth.spacetimedb.com/oidc/token"})]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Client ID"}),": From your SpacetimeAuth dashboard, you can use any available client."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Redirect URI"}),": ",(0,t.jsx)(s.a,{href:"https://oidcdebugger.com/debug",children:"https://oidcdebugger.com/debug"})," must be added to your\nclient\u2019s allowed redirect URIs in the SpacetimeAuth dashboard."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"step-2-open-oidc-debugger",children:"Step 2: Open OIDC Debugger"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:["Go to ",(0,t.jsx)(s.a,{href:"https://oidcdebugger.com",children:"https://oidcdebugger.com"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Fill out the fields as follows, leave all other fields at their defaults\n(e.g., response type = code, state, nonce)."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Field"}),(0,t.jsx)(s.th,{children:"Value"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Authorize URI"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"https://auth.spacetimedb.com/oidc/auth"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Client ID"}),(0,t.jsx)(s.td,{children:"Your SpacetimeAuth client ID"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Scope"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"openid profile email"})," (or a subset)"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Use PKCE?"}),(0,t.jsx)(s.td,{children:"Checked"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"Token URI"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"https://auth.spacetimedb.com/oidc/token"})})]})]})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.admonition,{type:"warning",children:(0,t.jsx)(s.p,{children:"You do not need to enter the client secret here since the tool runs in the browser."})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"OIDC Debugger Setup",src:n(1553).A+"",width:"1455",height:"1286"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"step-3-run-the-flow",children:"Step 3: Run the Flow"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["Click ",(0,t.jsx)(s.strong,{children:"Send Request"}),"."]}),"\n",(0,t.jsx)(s.li,{children:"Log in via SpacetimeAuth using any configured providers."}),"\n",(0,t.jsx)(s.li,{children:"You\u2019ll be redirected back to OIDC Debugger with an authorization code."}),"\n",(0,t.jsxs)(s.li,{children:["OIDC Debugger will automatically exchange the code for tokens and display the\nresults.\n",(0,t.jsx)(s.img,{alt:"OIDC Debugger results",src:n(2425).A+"",width:"1455",height:"1286"})]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"step-4-inspect-your-tokens",children:"Step 4: Inspect your tokens"}),"\n",(0,t.jsxs)(s.p,{children:["Depending on the scopes you requested, you should receive an ID token like this:\n",(0,t.jsx)(s.img,{alt:"OIDC Debugger Result",src:n(2135).A+"",width:"1385",height:"1028"})]}),"\n",(0,t.jsxs)(s.p,{children:["You can decode the ID token using any JWT decoder (e.g. ",(0,t.jsx)(s.a,{href:"https://jwt.io/",children:"jwt.io"}),")\nto see the claims included. For example:"]}),"\n",(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,t.jsxs)(s.code,{children:[(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,t.jsx)(s.span,{style:{color:"#8BE9FD"},children:"sub"}),(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,t.jsx)(s.span,{style:{color:"#F1FA8C"},children:"user_ergqg1q5eg15fdd54"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,t.jsx)(s.span,{style:{color:"#8BE9FD"},children:"project_id"}),(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,t.jsx)(s.span,{style:{color:"#F1FA8C"},children:"project_xyz123"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,t.jsx)(s.span,{style:{color:"#8BE9FD"},children:"email"}),(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,t.jsx)(s.span,{style:{color:"#F1FA8C"},children:"user@example.com"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,t.jsx)(s.span,{style:{color:"#8BE9FD"},children:"email_verified"}),(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,t.jsx)(s.span,{style:{color:"#BD93F9"},children:" true"}),(0,t.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,t.jsx)(s.span,{style:{color:"#8BE9FD"},children:"preferred_username"}),(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,t.jsx)(s.span,{style:{color:"#F1FA8C"},children:"exampleuser"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,t.jsx)(s.span,{style:{color:"#8BE9FD"},children:"first_name"}),(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,t.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Example"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,t.jsx)(s.span,{style:{color:"#8BE9FD"},children:"last_name"}),(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,t.jsx)(s.span,{style:{color:"#F1FA8C"},children:"User"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,t.jsxs)(s.span,{className:"line",children:[(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,t.jsx)(s.span,{style:{color:"#8BE9FD"},children:"name"}),(0,t.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,t.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,t.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Example User"}),(0,t.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,t.jsx)(s.span,{className:"line",children:(0,t.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},6119:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>c});var r=n(3303);const t={},l=r.createContext(t);function i(e){const s=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(l.Provider,{value:s},e.children)}}}]);