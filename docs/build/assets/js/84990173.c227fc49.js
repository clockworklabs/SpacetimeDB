"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2918],{1731:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>d});const c=JSON.parse('{"id":"Client SDK Languages/CSharp-Reference","title":"C# Reference","description":"client SDK","source":"@site/docs/07-Client SDK Languages/03-CSharp-Reference.md","sourceDirName":"07-Client SDK Languages","slug":"/sdks/c-sharp","permalink":"/sdks/c-sharp","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"C# Reference","toc_max_heading_level":6,"slug":"/sdks/c-sharp"},"sidebar":"sidebar","previous":{"title":"C# Quickstart","permalink":"/sdks/c-sharp/quickstart"},"next":{"title":"Rust Quickstart","permalink":"/sdks/rust/quickstart"}}');var l=n(7711),r=n(6119);const i={title:"C# Reference",toc_max_heading_level:6,slug:"/sdks/c-sharp"},o="The SpacetimeDB C# client SDK",t={},d=[{value:"Project setup",id:"project-setup",level:2},{value:"Using the <code>dotnet</code> CLI tool",id:"using-the-dotnet-cli-tool",level:3},{value:"Using Unity",id:"using-unity",level:3},{value:"Generate module bindings",id:"generate-module-bindings",level:2},{value:"Type <code>DbConnection</code>",id:"type-dbconnection",level:2},{value:"Connect to a database",id:"connect-to-a-database",level:3},{value:"Method <code>WithUri</code>",id:"method-withuri",level:4},{value:"Method <code>WithModuleName</code>",id:"method-withmodulename",level:4},{value:"Callback <code>OnConnect</code>",id:"callback-onconnect",level:4},{value:"Callback <code>OnConnectError</code>",id:"callback-onconnecterror",level:4},{value:"Callback <code>OnDisconnect</code>",id:"callback-ondisconnect",level:4},{value:"Method <code>WithToken</code>",id:"method-withtoken",level:4},{value:"Method <code>Build</code>",id:"method-build",level:4},{value:"Advance the connection and process messages",id:"advance-the-connection-and-process-messages",level:3},{value:"Method <code>FrameTick</code>",id:"method-frametick",level:4},{value:"Access tables and reducers",id:"access-tables-and-reducers",level:3},{value:"Property <code>Db</code>",id:"property-db",level:4},{value:"Property <code>Reducers</code>",id:"property-reducers",level:4},{value:"Interface <code>IDbContext</code>",id:"interface-idbcontext",level:3},{value:"Interface <code>IRemoteDbContext</code>",id:"interface-iremotedbcontext",level:3},{value:"Method <code>Db</code>",id:"method-db",level:4},{value:"Example",id:"example",level:5},{value:"Method <code>Reducers</code>",id:"method-reducers",level:4},{value:"Example",id:"example-1",level:5},{value:"Method <code>Disconnect</code>",id:"method-disconnect",level:4},{value:"Subscribe to queries",id:"subscribe-to-queries",level:3},{value:"Type <code>SubscriptionBuilder</code>",id:"type-subscriptionbuilder",level:4},{value:"Constructor <code>ctx.SubscriptionBuilder()</code>",id:"constructor-ctxsubscriptionbuilder",level:5},{value:"Callback <code>OnApplied</code>",id:"callback-onapplied",level:5},{value:"Callback <code>OnError</code>",id:"callback-onerror",level:5},{value:"Method <code>Subscribe</code>",id:"method-subscribe",level:5},{value:"Method <code>SubscribeToAllTables</code>",id:"method-subscribetoalltables",level:5},{value:"Type <code>SubscriptionHandle</code>",id:"type-subscriptionhandle",level:4},{value:"Property <code>IsEnded</code>",id:"property-isended",level:5},{value:"Property <code>IsActive</code>",id:"property-isactive",level:5},{value:"Method <code>Unsubscribe</code>",id:"method-unsubscribe",level:5},{value:"Method <code>UnsubscribeThen</code>",id:"method-unsubscribethen",level:5},{value:"Read connection metadata",id:"read-connection-metadata",level:3},{value:"Property <code>Identity</code>",id:"property-identity",level:4},{value:"Property <code>ConnectionId</code>",id:"property-connectionid",level:4},{value:"Property <code>IsActive</code>",id:"property-isactive-1",level:4},{value:"Type <code>EventContext</code>",id:"type-eventcontext",level:2},{value:"Property <code>Event</code>",id:"property-event",level:3},{value:"Property <code>Db</code>",id:"property-db-1",level:3},{value:"Field <code>Reducers</code>",id:"field-reducers",level:3},{value:"Record <code>Event</code>",id:"record-event",level:3},{value:"Variant <code>Reducer</code>",id:"variant-reducer",level:4},{value:"Variant <code>SubscribeApplied</code>",id:"variant-subscribeapplied",level:4},{value:"Variant <code>UnsubscribeApplied</code>",id:"variant-unsubscribeapplied",level:4},{value:"Variant <code>SubscribeError</code>",id:"variant-subscribeerror",level:4},{value:"Variant <code>UnknownTransaction</code>",id:"variant-unknowntransaction",level:4},{value:"Record <code>ReducerEvent</code>",id:"record-reducerevent",level:3},{value:"Record <code>Status</code>",id:"record-status",level:3},{value:"Variant <code>Committed</code>",id:"variant-committed",level:4},{value:"Variant <code>Failed</code>",id:"variant-failed",level:4},{value:"Variant <code>OutOfEnergy</code>",id:"variant-outofenergy",level:4},{value:"Record <code>Reducer</code>",id:"record-reducer",level:3},{value:"Type <code>ReducerEventContext</code>",id:"type-reducereventcontext",level:2},{value:"Property <code>Event</code>",id:"property-event-1",level:3},{value:"Property <code>Db</code>",id:"property-db-2",level:3},{value:"Property <code>Reducers</code>",id:"property-reducers-1",level:3},{value:"Type <code>SubscriptionEventContext</code>",id:"type-subscriptioneventcontext",level:2},{value:"Property <code>Db</code>",id:"property-db-3",level:3},{value:"Property <code>Reducers</code>",id:"property-reducers-2",level:3},{value:"Type <code>ErrorContext</code>",id:"type-errorcontext",level:2},{value:"Property <code>Event</code>",id:"property-event-2",level:3},{value:"Property <code>Db</code>",id:"property-db-4",level:3},{value:"Property <code>Reducers</code>",id:"property-reducers-3",level:3},{value:"Access the client cache",id:"access-the-client-cache",level:2},{value:"Type <code>RemoteTableHandle</code>",id:"type-remotetablehandle",level:3},{value:"Type <code>Row</code>",id:"type-row",level:4},{value:"Property <code>Count</code>",id:"property-count",level:4},{value:"Method <code>Iter</code>",id:"method-iter",level:4},{value:"Callback <code>OnInsert</code>",id:"callback-oninsert",level:4},{value:"Callback <code>OnDelete</code>",id:"callback-ondelete",level:4},{value:"Callback <code>OnUpdate</code>",id:"callback-onupdate",level:4},{value:"Unique constraint index access",id:"unique-constraint-index-access",level:3},{value:"Example",id:"example-2",level:4},{value:"BTree index access",id:"btree-index-access",level:3},{value:"Example",id:"example-3",level:4},{value:"Observe and invoke reducers",id:"observe-and-invoke-reducers",level:2},{value:"Identify a client",id:"identify-a-client",level:2},{value:"Type <code>Identity</code>",id:"type-identity",level:3},{value:"Type <code>ConnectionId</code>",id:"type-connectionid",level:3},{value:"Type <code>Timestamp</code>",id:"type-timestamp",level:3},{value:"Type <code>TaggedEnum</code>",id:"type-taggedenum",level:3}];function a(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",span:"span",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.header,{children:(0,l.jsx)(s.h1,{id:"the-spacetimedb-c-client-sdk",children:"The SpacetimeDB C# client SDK"})}),"\n",(0,l.jsx)(s.p,{children:"The SpacetimeDB client for C# contains all the tools you need to build native clients for SpacetimeDB modules using C#."}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#project-setup",children:"Project setup"})}),(0,l.jsx)(s.td,{children:"Configure a C# project to use the SpacetimeDB C# client SDK."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#generate-module-bindings",children:"Generate module bindings"})}),(0,l.jsx)(s.td,{children:"Use the SpacetimeDB CLI to generate module-specific types and interfaces."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#type-dbconnection",children:[(0,l.jsx)(s.code,{children:"DbConnection"})," type"]})}),(0,l.jsx)(s.td,{children:"A connection to a remote database."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#interface-idbcontext",children:[(0,l.jsx)(s.code,{children:"IDbContext"})," interface"]})}),(0,l.jsx)(s.td,{children:"Methods for interacting with the remote database."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#type-eventcontext",children:[(0,l.jsx)(s.code,{children:"EventContext"})," type"]})}),(0,l.jsxs)(s.td,{children:["Implements ",(0,l.jsx)(s.a,{href:"#interface-idbcontext",children:(0,l.jsx)(s.code,{children:"IDbContext"})})," for ",(0,l.jsx)(s.a,{href:"#callback-oninsert",children:"row callbacks"}),"."]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#type-reducereventcontext",children:[(0,l.jsx)(s.code,{children:"ReducerEventContext"})," type"]})}),(0,l.jsxs)(s.td,{children:["Implements ",(0,l.jsx)(s.a,{href:"#interface-idbcontext",children:(0,l.jsx)(s.code,{children:"IDbContext"})})," for ",(0,l.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"reducer callbacks"}),"."]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#type-subscriptioneventcontext",children:[(0,l.jsx)(s.code,{children:"SubscriptionEventContext"})," type"]})}),(0,l.jsxs)(s.td,{children:["Implements ",(0,l.jsx)(s.a,{href:"#interface-idbcontext",children:(0,l.jsx)(s.code,{children:"IDbContext"})})," for ",(0,l.jsx)(s.a,{href:"#subscribe-to-queries",children:"subscription callbacks"}),"."]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#type-errorcontext",children:[(0,l.jsx)(s.code,{children:"ErrorContext"})," type"]})}),(0,l.jsxs)(s.td,{children:["Implements ",(0,l.jsx)(s.a,{href:"#interface-idbcontext",children:(0,l.jsx)(s.code,{children:"IDbContext"})})," for error-related callbacks."]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"})}),(0,l.jsx)(s.td,{children:"Access to your local view of the database."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"Observe and invoke reducers"})}),(0,l.jsx)(s.td,{children:"Send requests to the database to run reducers, and register callbacks to run when notified of reducers."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#identify-a-client",children:"Identify a client"})}),(0,l.jsx)(s.td,{children:"Types for identifying users and client connections."})]})]})]}),"\n",(0,l.jsx)(s.h2,{id:"project-setup",children:"Project setup"}),"\n",(0,l.jsxs)(s.h3,{id:"using-the-dotnet-cli-tool",children:["Using the ",(0,l.jsx)(s.code,{children:"dotnet"})," CLI tool"]}),"\n",(0,l.jsxs)(s.p,{children:["If you would like to create a console application using .NET, you can create a new project using ",(0,l.jsx)(s.code,{children:"dotnet new console"})," and add the SpacetimeDB SDK to your dependencies:"]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsx)(s.code,{children:(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"dotnet"}),(0,l.jsx)(s.span,{style:{color:"#F1FA8C"},children:" add"}),(0,l.jsx)(s.span,{style:{color:"#F1FA8C"},children:" package"}),(0,l.jsx)(s.span,{style:{color:"#F1FA8C"},children:" SpacetimeDB.ClientSDK"})]})})})}),"\n",(0,l.jsxs)(s.p,{children:["(See also the ",(0,l.jsx)(s.a,{href:"/modules/c-sharp/quickstart",children:"CSharp Quickstart"})," for an in-depth example of such a console application.)"]}),"\n",(0,l.jsx)(s.h3,{id:"using-unity",children:"Using Unity"}),"\n",(0,l.jsx)(s.p,{children:'Add the SpacetimeDB Unity Package using the Package Manager. Open the Package Manager window by clicking on Window -> Package Manager. Click on the + button in the top left corner of the window and select "Add package from git URL". Enter the following URL and click Add.'}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsx)(s.code,{children:(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"https://github.com/clockworklabs/com.clockworklabs.spacetimedbsdk.git"})})})})}),"\n",(0,l.jsxs)(s.p,{children:["(See also the ",(0,l.jsx)(s.a,{href:"/unity/part-1",children:"Unity Tutorial"}),")"]}),"\n",(0,l.jsx)(s.h2,{id:"generate-module-bindings",children:"Generate module bindings"}),"\n",(0,l.jsxs)(s.p,{children:["Each SpacetimeDB client depends on some bindings specific to your module. Create a ",(0,l.jsx)(s.code,{children:"module_bindings"})," directory in your project's directory and generate the C# interface files using the Spacetime CLI. From your project directory, run:"]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"mkdir"}),(0,l.jsx)(s.span,{style:{color:"#BD93F9"},children:" -p"}),(0,l.jsx)(s.span,{style:{color:"#F1FA8C"},children:" module_bindings"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"spacetime"}),(0,l.jsx)(s.span,{style:{color:"#F1FA8C"},children:" generate"}),(0,l.jsx)(s.span,{style:{color:"#BD93F9"},children:" --lang"}),(0,l.jsx)(s.span,{style:{color:"#F1FA8C"},children:" cs"}),(0,l.jsx)(s.span,{style:{color:"#BD93F9"},children:" --out-dir"}),(0,l.jsx)(s.span,{style:{color:"#F1FA8C"},children:" module_bindings"}),(0,l.jsx)(s.span,{style:{color:"#BD93F9"},children:" --project-path"}),(0,l.jsx)(s.span,{style:{color:"#F1FA8C"},children:" PATH-TO-MODULE-DIRECTORY"})]})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Replace ",(0,l.jsx)(s.code,{children:"PATH-TO-MODULE-DIRECTORY"})," with the path to your SpacetimeDB module."]}),"\n",(0,l.jsxs)(s.h2,{id:"type-dbconnection",children:["Type ",(0,l.jsx)(s.code,{children:"DbConnection"})]}),"\n",(0,l.jsxs)(s.p,{children:["A connection to a remote database is represented by the ",(0,l.jsx)(s.code,{children:"DbConnection"})," class. This class is generated per module and contains information about the types, tables, and reducers defined by your module."]}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#connect-to-a-database",children:"Connect to a database"})}),(0,l.jsxs)(s.td,{children:["Construct a ",(0,l.jsx)(s.code,{children:"DbConnection"})," instance."]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#advance-the-connection-and-process-messages",children:"Advance the connection"})}),(0,l.jsxs)(s.td,{children:["Poll the ",(0,l.jsx)(s.code,{children:"DbConnection"})," or run it in the background."]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#access-tables-and-reducers",children:"Access tables and reducers"})}),(0,l.jsx)(s.td,{children:"Access the client cache, request reducer invocations, and register callbacks."})]})]})]}),"\n",(0,l.jsx)(s.h3,{id:"connect-to-a-database",children:"Connect to a database"}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnection"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" static"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"Builder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Construct a ",(0,l.jsx)(s.code,{children:"DbConnection"})," by calling ",(0,l.jsx)(s.code,{children:"DbConnection.Builder()"}),", chaining configuration methods, and finally calling ",(0,l.jsx)(s.code,{children:".Build()"}),". At a minimum, you must specify ",(0,l.jsx)(s.code,{children:"WithUri"})," to provide the URI of the SpacetimeDB instance, and ",(0,l.jsx)(s.code,{children:"WithModuleName"})," to specify the database's name or identity."]}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#method-withuri",children:"WithUri method"})}),(0,l.jsx)(s.td,{children:"Set the URI of the SpacetimeDB instance hosting the remote database."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#method-withmodulename",children:"WithModuleName method"})}),(0,l.jsx)(s.td,{children:"Set the name or identity of the remote database."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#callback-onconnect",children:"OnConnect callback"})}),(0,l.jsx)(s.td,{children:"Register a callback to run when the connection is successfully established."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#callback-onconnecterror",children:"OnConnectError callback"})}),(0,l.jsx)(s.td,{children:"Register a callback to run if the connection is rejected or the host is unreachable."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#callback-ondisconnect",children:"OnDisconnect callback"})}),(0,l.jsx)(s.td,{children:"Register a callback to run when the connection ends."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#method-withtoken",children:"WithToken method"})}),(0,l.jsx)(s.td,{children:"Supply a token to authenticate with the remote database."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#method-build",children:"Build method"})}),(0,l.jsx)(s.td,{children:"Finalize configuration and open the connection."})]})]})]}),"\n",(0,l.jsxs)(s.h4,{id:"method-withuri",children:["Method ",(0,l.jsx)(s.code,{children:"WithUri"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"WithUri"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Uri"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" uri"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsx)(s.p,{children:"Configure the URI of the SpacetimeDB instance or cluster which hosts the remote module and database."}),"\n",(0,l.jsxs)(s.h4,{id:"method-withmodulename",children:["Method ",(0,l.jsx)(s.code,{children:"WithModuleName"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"WithModuleName"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" nameOrIdentity"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Configure the SpacetimeDB domain name or ",(0,l.jsx)(s.code,{children:"Identity"})," of the remote database which identifies it within the SpacetimeDB instance or cluster."]}),"\n",(0,l.jsxs)(s.h4,{id:"callback-onconnect",children:["Callback ",(0,l.jsx)(s.code,{children:"OnConnect"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"OnConnect"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Action"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Identity"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"callback"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Chain a call to ",(0,l.jsx)(s.code,{children:".OnConnect(callback)"})," to your builder to register a callback to run when your new ",(0,l.jsx)(s.code,{children:"DbConnection"})," successfully initiates its connection to the remote database. The callback accepts three arguments: a reference to the ",(0,l.jsx)(s.code,{children:"DbConnection"}),", the ",(0,l.jsx)(s.code,{children:"Identity"})," by which SpacetimeDB identifies this connection, and a private access token which can be saved and later passed to ",(0,l.jsx)(s.a,{href:"#method-withtoken",children:(0,l.jsx)(s.code,{children:"WithToken"})})," to authenticate the same user in future connections."]}),"\n",(0,l.jsxs)(s.h4,{id:"callback-onconnecterror",children:["Callback ",(0,l.jsx)(s.code,{children:"OnConnectError"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"OnConnectError"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Action"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ErrorContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDbException"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"callback"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Chain a call to ",(0,l.jsx)(s.code,{children:".OnConnectError(callback)"})," to your builder to register a callback to run when your connection fails."]}),"\n",(0,l.jsxs)(s.p,{children:["A known bug in the SpacetimeDB Rust client SDK currently causes this callback never to be invoked. ",(0,l.jsx)(s.a,{href:"#callback-ondisconnect",children:(0,l.jsx)(s.code,{children:"OnDisconnect"})})," callbacks are invoked instead."]}),"\n",(0,l.jsxs)(s.h4,{id:"callback-ondisconnect",children:["Callback ",(0,l.jsx)(s.code,{children:"OnDisconnect"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"OnDisconnect"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Action"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ErrorContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SpacetimeDbException"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"callback"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Chain a call to ",(0,l.jsx)(s.code,{children:".OnDisconnect(callback)"})," to your builder to register a callback to run when your ",(0,l.jsx)(s.code,{children:"DbConnection"})," disconnects from the remote database, either as a result of a call to ",(0,l.jsx)(s.a,{href:"#method-disconnect",children:(0,l.jsx)(s.code,{children:"Disconnect"})})," or due to an error."]}),"\n",(0,l.jsxs)(s.h4,{id:"method-withtoken",children:["Method ",(0,l.jsx)(s.code,{children:"WithToken"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnectionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"WithToken"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" token"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" ="}),(0,l.jsx)(s.span,{style:{color:"#BD93F9"},children:" null"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Chain a call to ",(0,l.jsx)(s.code,{children:".WithToken(token)"})," to your builder to provide an OpenID Connect compliant JSON Web Token to authenticate with, or to explicitly select an anonymous connection. If this method is not called or ",(0,l.jsx)(s.code,{children:"None"})," is passed, SpacetimeDB will generate a new ",(0,l.jsx)(s.code,{children:"Identity"})," and sign a new private access token for the connection."]}),"\n",(0,l.jsxs)(s.h4,{id:"method-build",children:["Method ",(0,l.jsx)(s.code,{children:"Build"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnectionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:" Build"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsx)(s.p,{children:"After configuring the connection and registering callbacks, attempt to open the connection."}),"\n",(0,l.jsx)(s.h3,{id:"advance-the-connection-and-process-messages",children:"Advance the connection and process messages"}),"\n",(0,l.jsxs)(s.p,{children:["In the interest of supporting a wide variety of client applications with different execution strategies, the SpacetimeDB SDK allows you to choose when the ",(0,l.jsx)(s.code,{children:"DbConnection"})," spends compute time and processes messages. If you do not arrange for the connection to advance by calling one of these methods, the ",(0,l.jsx)(s.code,{children:"DbConnection"})," will never advance, and no callbacks will ever be invoked."]}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsx)(s.tbody,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#method-frametick",children:[(0,l.jsx)(s.code,{children:"FrameTick"})," method"]})}),(0,l.jsx)(s.td,{children:"Process messages on the main thread without blocking."})]})})]}),"\n",(0,l.jsxs)(s.h4,{id:"method-frametick",children:["Method ",(0,l.jsx)(s.code,{children:"FrameTick"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnection"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:" FrameTick"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"FrameTick"})," will advance the connection until no work remains or until it is disconnected, then return rather than blocking. Games might arrange for this message to be called every frame."]}),"\n",(0,l.jsxs)(s.p,{children:["It is not advised to run ",(0,l.jsx)(s.code,{children:"FrameTick"})," on a background thread, since it modifies ",(0,l.jsx)(s.a,{href:"#property-db",children:(0,l.jsx)(s.code,{children:"dbConnection.Db"})}),". If main thread code is also accessing the ",(0,l.jsx)(s.code,{children:"Db"}),", it may observe data races when ",(0,l.jsx)(s.code,{children:"FrameTick"})," runs on another thread."]}),"\n",(0,l.jsxs)(s.p,{children:["(Note that the SDK already does most of the work for parsing messages on a background thread. ",(0,l.jsx)(s.code,{children:"FrameTick()"})," does the minimal amount of work needed to apply updates to the ",(0,l.jsx)(s.code,{children:"Db"}),".)"]}),"\n",(0,l.jsx)(s.h3,{id:"access-tables-and-reducers",children:"Access tables and reducers"}),"\n",(0,l.jsxs)(s.h4,{id:"property-db",children:["Property ",(0,l.jsx)(s.code,{children:"Db"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnection"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteTables"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Db;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* other members */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"Db"})," property of the ",(0,l.jsx)(s.code,{children:"DbConnection"})," provides access to the subscribed view of the remote database's tables. See ",(0,l.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"}),"."]}),"\n",(0,l.jsxs)(s.h4,{id:"property-reducers",children:["Property ",(0,l.jsx)(s.code,{children:"Reducers"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" DbConnection"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteReducers"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Reducers;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* other members */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"Reducers"})," field of the ",(0,l.jsx)(s.code,{children:"DbConnection"})," provides access to reducers exposed by the module of the remote database. See ",(0,l.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"Observe and invoke reducers"}),"."]}),"\n",(0,l.jsxs)(s.h3,{id:"interface-idbcontext",children:["Interface ",(0,l.jsx)(s.code,{children:"IDbContext"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IDbContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"DbView"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"RemoteReducers"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", ..>"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* methods */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.a,{href:"#type-dbconnection",children:(0,l.jsx)(s.code,{children:"DbConnection"})}),", ",(0,l.jsx)(s.a,{href:"#type-eventcontext",children:(0,l.jsx)(s.code,{children:"EventContext"})}),", ",(0,l.jsx)(s.a,{href:"#type-reducereventcontext",children:(0,l.jsx)(s.code,{children:"ReducerEventContext"})}),", ",(0,l.jsx)(s.a,{href:"#type-subscriptioneventcontext",children:(0,l.jsx)(s.code,{children:"SubscriptionEventContext"})})," and ",(0,l.jsx)(s.a,{href:"#type-errorcontext",children:(0,l.jsx)(s.code,{children:"ErrorContext"})})," all implement ",(0,l.jsx)(s.code,{children:"IDbContext"}),". ",(0,l.jsx)(s.code,{children:"IDbContext"})," has methods for inspecting and configuring your connection to the remote database."]}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"IDbContext"})," interface is implemented by connections and contexts to ",(0,l.jsx)(s.em,{children:"every"})," module - hence why it takes ",(0,l.jsx)(s.a,{href:"#method-db",children:(0,l.jsx)(s.code,{children:"DbView"})})," and ",(0,l.jsx)(s.a,{href:"#method-reducers",children:(0,l.jsx)(s.code,{children:"RemoteReducers"})})," as type parameters."]}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#interface-iremotedbcontext",children:[(0,l.jsx)(s.code,{children:"IRemoteDbContext"})," interface"]})}),(0,l.jsxs)(s.td,{children:["Module-specific ",(0,l.jsx)(s.code,{children:"IDbContext"}),"."]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#method-db",children:[(0,l.jsx)(s.code,{children:"Db"})," method"]})}),(0,l.jsx)(s.td,{children:"Provides access to the subscribed view of the remote database's tables."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#method-reducers",children:[(0,l.jsx)(s.code,{children:"Reducers"})," method"]})}),(0,l.jsx)(s.td,{children:"Provides access to reducers exposed by the remote module."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#method-disconnect",children:[(0,l.jsx)(s.code,{children:"Disconnect"})," method"]})}),(0,l.jsx)(s.td,{children:"End the connection."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#subscribe-to-queries",children:"Subscribe to queries"})}),(0,l.jsx)(s.td,{children:"Register SQL queries to receive updates about matching rows."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#read-connection-metadata",children:"Read connection metadata"})}),(0,l.jsxs)(s.td,{children:["Access the connection's ",(0,l.jsx)(s.code,{children:"Identity"})," and ",(0,l.jsx)(s.code,{children:"ConnectionId"})]})]})]})]}),"\n",(0,l.jsxs)(s.h3,{id:"interface-iremotedbcontext",children:["Interface ",(0,l.jsx)(s.code,{children:"IRemoteDbContext"})]}),"\n",(0,l.jsxs)(s.p,{children:["Each module's ",(0,l.jsx)(s.code,{children:"module_bindings"})," exports an interface ",(0,l.jsx)(s.code,{children:"IRemoteDbContext"})," which inherits from ",(0,l.jsx)(s.code,{children:"IDbContext"}),", with the type parameters ",(0,l.jsx)(s.code,{children:"DbView"})," and ",(0,l.jsx)(s.code,{children:"RemoteReducers"})," bound to the types defined for that module. This can be more convenient when creating functions that can be called from any callback for a specific module, but which access the database or invoke reducers, and so must know the type of the ",(0,l.jsx)(s.code,{children:"DbView"})," or ",(0,l.jsx)(s.code,{children:"Reducers"}),"."]}),"\n",(0,l.jsxs)(s.h4,{id:"method-db",children:["Method ",(0,l.jsx)(s.code,{children:"Db"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IRemoteDbContext"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" DbView"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Db { "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"get"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"; }"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"Db"})," will have methods to access each table defined by the module."]}),"\n",(0,l.jsx)(s.h5,{id:"example",children:"Example"}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" conn "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:" ConnectToDB"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,l.jsx)(s.span,{className:"line"}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"// Get a handle to the User table"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" tableHandle "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" conn.Db.User;"})]})]})})}),"\n",(0,l.jsxs)(s.h4,{id:"method-reducers",children:["Method ",(0,l.jsx)(s.code,{children:"Reducers"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IRemoteDbContext"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteReducers"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Reducers { "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"get"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"; }"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"Reducers"})," will have methods to invoke each reducer defined by the module,\nplus methods for adding and removing callbacks on each of those reducers."]}),"\n",(0,l.jsx)(s.h5,{id:"example-1",children:"Example"}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"var"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" conn "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:" ConnectToDB"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,l.jsx)(s.span,{className:"line"}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"// Register a callback to be run every time the SendMessage reducer is invoked"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"conn.Reducers.OnSendMessage "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"+="}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Reducer_OnSendMessageEvent;"})]})]})})}),"\n",(0,l.jsxs)(s.h4,{id:"method-disconnect",children:["Method ",(0,l.jsx)(s.code,{children:"Disconnect"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IRemoteDbContext"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:" Disconnect"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Gracefully close the ",(0,l.jsx)(s.code,{children:"DbConnection"}),". Throws an error if the connection is already closed."]}),"\n",(0,l.jsx)(s.h3,{id:"subscribe-to-queries",children:"Subscribe to queries"}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#type-subscriptionbuilder",children:[(0,l.jsx)(s.code,{children:"SubscriptionBuilder"})," type"]})}),(0,l.jsx)(s.td,{children:"Builder-pattern constructor to register subscribed queries."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#type-subscriptionhandle",children:[(0,l.jsx)(s.code,{children:"SubscriptionHandle"})," type"]})}),(0,l.jsx)(s.td,{children:"Manage an active subscripion."})]})]})]}),"\n",(0,l.jsxs)(s.h4,{id:"type-subscriptionbuilder",children:["Type ",(0,l.jsx)(s.code,{children:"SubscriptionBuilder"})]}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#constructor-ctxsubscriptionbuilder",children:[(0,l.jsx)(s.code,{children:"ctx.SubscriptionBuilder()"})," constructor"]})}),(0,l.jsx)(s.td,{children:"Begin configuring a new subscription."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#callback-onapplied",children:[(0,l.jsx)(s.code,{children:"OnApplied"})," callback"]})}),(0,l.jsx)(s.td,{children:"Register a callback to run when matching rows become available."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#callback-onerror",children:[(0,l.jsx)(s.code,{children:"OnError"})," callback"]})}),(0,l.jsx)(s.td,{children:"Register a callback to run if the subscription fails."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#method-subscribe",children:[(0,l.jsx)(s.code,{children:"Subscribe"})," method"]})}),(0,l.jsx)(s.td,{children:"Finish configuration and subscribe to one or more SQL queries."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#method-subscribetoalltables",children:[(0,l.jsx)(s.code,{children:"SubscribeToAllTables"})," method"]})}),(0,l.jsx)(s.td,{children:"Convenience method to subscribe to the entire database."})]})]})]}),"\n",(0,l.jsxs)(s.h5,{id:"constructor-ctxsubscriptionbuilder",children:["Constructor ",(0,l.jsx)(s.code,{children:"ctx.SubscriptionBuilder()"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IRemoteDbContext"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SubscriptionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:" SubscriptionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Subscribe to queries by calling ",(0,l.jsx)(s.code,{children:"ctx.SubscriptionBuilder()"})," and chaining configuration methods, then calling ",(0,l.jsx)(s.code,{children:".Subscribe(queries)"}),"."]}),"\n",(0,l.jsxs)(s.h5,{id:"callback-onapplied",children:["Callback ",(0,l.jsx)(s.code,{children:"OnApplied"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionBuilder"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SubscriptionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:" OnApplied"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Action"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SubscriptionEventContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"callback"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsx)(s.p,{children:"Register a callback to run when the subscription is applied and the matching rows are inserted into the client cache."}),"\n",(0,l.jsxs)(s.h5,{id:"callback-onerror",children:["Callback ",(0,l.jsx)(s.code,{children:"OnError"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionBuilder"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SubscriptionBuilder"}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:" OnError"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Action"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ErrorContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Exception"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"callback"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Register a callback to run if the subscription is rejected or unexpectedly terminated by the server. This is most frequently caused by passing an invalid query to ",(0,l.jsx)(s.a,{href:"#method-subscribe",children:(0,l.jsx)(s.code,{children:"Subscribe"})}),"."]}),"\n",(0,l.jsxs)(s.h5,{id:"method-subscribe",children:["Method ",(0,l.jsx)(s.code,{children:"Subscribe"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionBuilder"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" SubscriptionHandle"}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:" Subscribe"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"string"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"[] "}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"querySqls"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Subscribe to a set of queries. ",(0,l.jsx)(s.code,{children:"queries"})," should be an array of SQL query strings."]}),"\n",(0,l.jsxs)(s.p,{children:["See ",(0,l.jsx)(s.a,{href:"/sql#subscriptions",children:"the SpacetimeDB SQL Reference"})," for information on the queries SpacetimeDB supports as subscriptions."]}),"\n",(0,l.jsxs)(s.h5,{id:"method-subscribetoalltables",children:["Method ",(0,l.jsx)(s.code,{children:"SubscribeToAllTables"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionBuilder"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:" SubscribeToAllTables"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Subscribe to all rows from all public tables. This method is provided as a convenience for simple clients. The subscription initiated by ",(0,l.jsx)(s.code,{children:"SubscribeToAllTables"})," cannot be canceled after it is initiated. You should ",(0,l.jsxs)(s.a,{href:"#method-subscribe",children:[(0,l.jsx)(s.code,{children:"subscribe"})," to specific queries"]})," if you need fine-grained control over the lifecycle of your subscriptions."]}),"\n",(0,l.jsxs)(s.h4,{id:"type-subscriptionhandle",children:["Type ",(0,l.jsx)(s.code,{children:"SubscriptionHandle"})]}),"\n",(0,l.jsxs)(s.p,{children:["A ",(0,l.jsx)(s.code,{children:"SubscriptionHandle"})," represents a subscribed query or a group of subscribed queries."]}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"SubscriptionHandle"})," does not contain or provide access to the subscribed rows. Subscribed rows of all subscriptions by a connection are contained within that connection's ",(0,l.jsx)(s.a,{href:"#property-db",children:(0,l.jsx)(s.code,{children:"ctx.Db"})}),". See ",(0,l.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"}),"."]}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-isended",children:[(0,l.jsx)(s.code,{children:"IsEnded"})," property"]})}),(0,l.jsx)(s.td,{children:"Determine whether the subscription has ended."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-isactive",children:[(0,l.jsx)(s.code,{children:"IsActive"})," property"]})}),(0,l.jsx)(s.td,{children:"Determine whether the subscription is active and its matching rows are present in the client cache."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#method-unsubscribe",children:[(0,l.jsx)(s.code,{children:"Unsubscribe"})," method"]})}),(0,l.jsx)(s.td,{children:"Discard a subscription."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#method-unsubscribethen",children:[(0,l.jsx)(s.code,{children:"UnsubscribeThen"})," method"]})}),(0,l.jsx)(s.td,{children:"Discard a subscription, and register a callback to run when its matching rows are removed from the client cache."})]})]})]}),"\n",(0,l.jsxs)(s.h5,{id:"property-isended",children:["Property ",(0,l.jsx)(s.code,{children:"IsEnded"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionHandle"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" bool"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" IsEnded;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsx)(s.p,{children:"True if this subscription has been terminated due to an unsubscribe call or an error."}),"\n",(0,l.jsxs)(s.h5,{id:"property-isactive",children:["Property ",(0,l.jsx)(s.code,{children:"IsActive"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionHandle"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" bool"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" IsActive;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsx)(s.p,{children:"True if this subscription has been applied and has not yet been unsubscribed."}),"\n",(0,l.jsxs)(s.h5,{id:"method-unsubscribe",children:["Method ",(0,l.jsx)(s.code,{children:"Unsubscribe"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionHandle"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:" Unsubscribe"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Terminate this subscription, causing matching rows to be removed from the client cache. Any rows removed from the client cache this way will have ",(0,l.jsxs)(s.a,{href:"#callback-ondelete",children:[(0,l.jsx)(s.code,{children:"OnDelete"})," callbacks"]})," run for them."]}),"\n",(0,l.jsxs)(s.p,{children:["Unsubscribing is an asynchronous operation. Matching rows are not removed from the client cache immediately. Use ",(0,l.jsx)(s.a,{href:"#method-unsubscribethen",children:(0,l.jsx)(s.code,{children:"UnsubscribeThen"})})," to run a callback once the unsubscribe operation is completed."]}),"\n",(0,l.jsxs)(s.p,{children:["Returns an error if the subscription has already ended, either due to a previous call to ",(0,l.jsx)(s.code,{children:"Unsubscribe"})," or ",(0,l.jsx)(s.a,{href:"#method-unsubscribethen",children:(0,l.jsx)(s.code,{children:"UnsubscribeThen"})}),", or due to an error."]}),"\n",(0,l.jsxs)(s.h5,{id:"method-unsubscribethen",children:["Method ",(0,l.jsx)(s.code,{children:"UnsubscribeThen"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionHandle"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:" UnsubscribeThen"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Action"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"SubscriptionEventContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">? "}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"onEnded"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Terminate this subscription, and run the ",(0,l.jsx)(s.code,{children:"onEnded"})," callback when the subscription is ended and its matching rows are removed from the client cache. Any rows removed from the client cache this way will have ",(0,l.jsxs)(s.a,{href:"#callback-ondelete",children:[(0,l.jsx)(s.code,{children:"OnDelete"})," callbacks"]})," run for them."]}),"\n",(0,l.jsxs)(s.p,{children:["Returns an error if the subscription has already ended, either due to a previous call to ",(0,l.jsx)(s.a,{href:"#method-unsubscribe",children:(0,l.jsx)(s.code,{children:"Unsubscribe"})})," or ",(0,l.jsx)(s.code,{children:"UnsubscribeThen"}),", or due to an error."]}),"\n",(0,l.jsx)(s.h3,{id:"read-connection-metadata",children:"Read connection metadata"}),"\n",(0,l.jsxs)(s.h4,{id:"property-identity",children:["Property ",(0,l.jsx)(s.code,{children:"Identity"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IDbContext"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Identity"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"? Identity { "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"get"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"; }"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Get the ",(0,l.jsx)(s.code,{children:"Identity"})," with which SpacetimeDB identifies the connection. This method returns null if the connection was initiated anonymously and the newly-generated ",(0,l.jsx)(s.code,{children:"Identity"})," has not yet been received, i.e. if called before the ",(0,l.jsxs)(s.a,{href:"#callback-onconnect",children:[(0,l.jsx)(s.code,{children:"OnConnect"})," callback"]})," is invoked."]}),"\n",(0,l.jsxs)(s.h4,{id:"property-connectionid",children:["Property ",(0,l.jsx)(s.code,{children:"ConnectionId"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IDbContext"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ConnectionId"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ConnectionId { "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"get"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"; }"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Get the ",(0,l.jsx)(s.a,{href:"#type-connectionid",children:(0,l.jsx)(s.code,{children:"ConnectionId"})})," with which SpacetimeDB identifies the connection."]}),"\n",(0,l.jsxs)(s.h4,{id:"property-isactive-1",children:["Property ",(0,l.jsx)(s.code,{children:"IsActive"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"interface"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IDbContext"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" bool"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" IsActive { "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"get"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"; }"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"true"})," if the connection has not yet disconnected. Note that a connection ",(0,l.jsx)(s.code,{children:"IsActive"})," when it is constructed, before its ",(0,l.jsxs)(s.a,{href:"#callback-onconnect",children:[(0,l.jsx)(s.code,{children:"OnConnect"})," callback"]})," is invoked."]}),"\n",(0,l.jsxs)(s.h2,{id:"type-eventcontext",children:["Type ",(0,l.jsx)(s.code,{children:"EventContext"})]}),"\n",(0,l.jsxs)(s.p,{children:["An ",(0,l.jsx)(s.code,{children:"EventContext"})," is an ",(0,l.jsx)(s.a,{href:"#interface-idbcontext",children:(0,l.jsx)(s.code,{children:"IDbContext"})})," augmented with an ",(0,l.jsx)(s.a,{href:"#record-event",children:(0,l.jsx)(s.code,{children:"Event"})})," property. ",(0,l.jsx)(s.code,{children:"EventContext"}),"s are passed as the first argument to row callbacks ",(0,l.jsx)(s.a,{href:"#callback-oninsert",children:(0,l.jsx)(s.code,{children:"OnInsert"})}),", ",(0,l.jsx)(s.a,{href:"#callback-ondelete",children:(0,l.jsx)(s.code,{children:"OnDelete"})})," and ",(0,l.jsx)(s.a,{href:"#callback-onupdate",children:(0,l.jsx)(s.code,{children:"OnUpdate"})}),"."]}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-event",children:[(0,l.jsx)(s.code,{children:"Event"})," property"]})}),(0,l.jsx)(s.td,{children:"Enum describing the cause of the current row callback."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-db",children:[(0,l.jsx)(s.code,{children:"Db"})," property"]})}),(0,l.jsx)(s.td,{children:"Provides access to the client cache."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-reducers",children:[(0,l.jsx)(s.code,{children:"Reducers"})," property"]})}),(0,l.jsx)(s.td,{children:"Allows requesting reducers run on the remote database."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#record-event",children:[(0,l.jsx)(s.code,{children:"Event"})," record"]})}),(0,l.jsx)(s.td,{children:"Possible events which can cause a row callback to be invoked."})]})]})]}),"\n",(0,l.jsxs)(s.h3,{id:"property-event",children:["Property ",(0,l.jsx)(s.code,{children:"Event"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" EventContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" readonly"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Event"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> Event;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* other fields */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.a,{href:"#record-event",children:(0,l.jsx)(s.code,{children:"Event"})})," contained in the ",(0,l.jsx)(s.code,{children:"EventContext"})," describes what happened to cause the current row callback to be invoked."]}),"\n",(0,l.jsxs)(s.h3,{id:"property-db-1",children:["Property ",(0,l.jsx)(s.code,{children:"Db"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" EventContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteTables"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Db;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* other fields */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"Db"})," property of the context provides access to the subscribed view of the remote database's tables. See ",(0,l.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"}),"."]}),"\n",(0,l.jsxs)(s.h3,{id:"field-reducers",children:["Field ",(0,l.jsx)(s.code,{children:"Reducers"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" EventContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteReducers"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Reducers;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* other fields */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"Reducers"})," property of the context provides access to reducers exposed by the remote module. See ",(0,l.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"Observe and invoke reducers"}),"."]}),"\n",(0,l.jsxs)(s.h3,{id:"record-event",children:["Record ",(0,l.jsx)(s.code,{children:"Event"})]}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#variant-reducer",children:[(0,l.jsx)(s.code,{children:"Reducer"})," variant"]})}),(0,l.jsx)(s.td,{children:"A reducer ran in the remote database."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#variant-subscribeapplied",children:[(0,l.jsx)(s.code,{children:"SubscribeApplied"})," variant"]})}),(0,l.jsx)(s.td,{children:"A new subscription was applied to the client cache."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#variant-unsubscribeapplied",children:[(0,l.jsx)(s.code,{children:"UnsubscribeApplied"})," variant"]})}),(0,l.jsxs)(s.td,{children:["A previous subscription was removed from the client cache after a call to ",(0,l.jsx)(s.a,{href:"#method-unsubscribe",children:(0,l.jsx)(s.code,{children:"Unsubscribe"})}),"."]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#variant-subscribeerror",children:[(0,l.jsx)(s.code,{children:"SubscribeError"})," variant"]})}),(0,l.jsx)(s.td,{children:"A previous subscription was removed from the client cache due to an error."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#variant-unknowntransaction",children:[(0,l.jsx)(s.code,{children:"UnknownTransaction"})," variant"]})}),(0,l.jsx)(s.td,{children:"A transaction ran in the remote database, but was not attributed to a known reducer."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#record-reducerevent",children:[(0,l.jsx)(s.code,{children:"ReducerEvent"})," record"]})}),(0,l.jsxs)(s.td,{children:["Metadata about a reducer run. Contained in a ",(0,l.jsxs)(s.a,{href:"#variant-reducer",children:[(0,l.jsx)(s.code,{children:"Reducer"})," event"]})," and ",(0,l.jsx)(s.a,{href:"#type-reducereventcontext",children:(0,l.jsx)(s.code,{children:"ReducerEventContext"})}),"."]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#record-status",children:[(0,l.jsx)(s.code,{children:"Status"})," record"]})}),(0,l.jsx)(s.td,{children:"Completion status of a reducer run."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#record-reducer",children:[(0,l.jsx)(s.code,{children:"Reducer"})," record"]})}),(0,l.jsx)(s.td,{children:"Module-specific generated record with a variant for each reducer defined by the module."})]})]})]}),"\n",(0,l.jsxs)(s.h4,{id:"variant-reducer",children:["Variant ",(0,l.jsx)(s.code,{children:"Reducer"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"record"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Event"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"R"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Reducer"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"ReducerEvent"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"R"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"ReducerEvent"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:") : "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Event"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"R"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Event when we are notified that a reducer ran in the remote database. The ",(0,l.jsx)(s.a,{href:"#record-reducerevent",children:(0,l.jsx)(s.code,{children:"ReducerEvent"})})," contains metadata about the reducer run, including its arguments and termination ",(0,l.jsx)(s.a,{href:"#record-status",children:(0,l.jsx)(s.code,{children:"Status"})}),"."]}),"\n",(0,l.jsx)(s.p,{children:"This event is passed to row callbacks resulting from modifications by the reducer."}),"\n",(0,l.jsxs)(s.h4,{id:"variant-subscribeapplied",children:["Variant ",(0,l.jsx)(s.code,{children:"SubscribeApplied"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"record"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Event"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"R"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscribeApplied"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Event"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"R"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsx)(s.p,{children:"Event when our subscription is applied and its rows are inserted into the client cache."}),"\n",(0,l.jsxs)(s.p,{children:["This event is passed to ",(0,l.jsxs)(s.a,{href:"#callback-oninsert",children:["row ",(0,l.jsx)(s.code,{children:"OnInsert"})," callbacks"]})," resulting from the new subscription."]}),"\n",(0,l.jsxs)(s.h4,{id:"variant-unsubscribeapplied",children:["Variant ",(0,l.jsx)(s.code,{children:"UnsubscribeApplied"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"record"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Event"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"R"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" UnsubscribeApplied"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Event"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"R"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["Event when our subscription is removed after a call to ",(0,l.jsx)(s.a,{href:"#method-unsubscribe",children:(0,l.jsx)(s.code,{children:"SubscriptionHandle.Unsubscribe"})})," or ",(0,l.jsx)(s.a,{href:"#method-unsubscribethen",children:(0,l.jsx)(s.code,{children:"SubscriptionHandle.UnsubscribeTthen"})})," and its matching rows are deleted from the client cache."]}),"\n",(0,l.jsxs)(s.p,{children:["This event is passed to ",(0,l.jsxs)(s.a,{href:"#callback-ondelete",children:["row ",(0,l.jsx)(s.code,{children:"OnDelete"})," callbacks"]})," resulting from the subscription ending."]}),"\n",(0,l.jsxs)(s.h4,{id:"variant-subscribeerror",children:["Variant ",(0,l.jsx)(s.code,{children:"SubscribeError"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"record"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Event"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"R"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscribeError"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Exception"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Exception"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:") : "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Event"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"R"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsx)(s.p,{children:"Event when a subscription ends unexpectedly due to an error."}),"\n",(0,l.jsxs)(s.p,{children:["This event is passed to ",(0,l.jsxs)(s.a,{href:"#callback-ondelete",children:["row ",(0,l.jsx)(s.code,{children:"OnDelete"})," callbacks"]})," resulting from the subscription ending."]}),"\n",(0,l.jsxs)(s.h4,{id:"variant-unknowntransaction",children:["Variant ",(0,l.jsx)(s.code,{children:"UnknownTransaction"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"record"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Event"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"R"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" record"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" UnknownTransaction"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Event"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"R"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsx)(s.p,{children:"Event when we are notified of a transaction in the remote database which we cannot associate with a known reducer. This may be an ad-hoc SQL query or a reducer for which we do not have bindings."}),"\n",(0,l.jsxs)(s.p,{children:["This event is passed to ",(0,l.jsx)(s.a,{href:"#callback-oninsert",children:"row callbacks"})," resulting from modifications by the transaction."]}),"\n",(0,l.jsxs)(s.h3,{id:"record-reducerevent",children:["Record ",(0,l.jsx)(s.code,{children:"ReducerEvent"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"record"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ReducerEvent"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"R"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">("})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"    Timestamp"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Timestamp"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"    Status"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Status"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"    Identity"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" CallerIdentity"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"    ConnectionId"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"? "}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"CallerConnectionId"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"    U128"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"? "}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"EnergyConsumed"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"    R"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" Reducer"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:")"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["A ",(0,l.jsx)(s.code,{children:"ReducerEvent"})," contains metadata about a reducer run."]}),"\n",(0,l.jsxs)(s.h3,{id:"record-status",children:["Record ",(0,l.jsx)(s.code,{children:"Status"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"record"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Status"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" : "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"TaggedEnum"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<("})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"    Unit"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Committed,"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    string"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Failed,"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"    Unit"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" OutOfEnergy"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:")>;"})})]})})}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#variant-committed",children:[(0,l.jsx)(s.code,{children:"Committed"})," variant"]})}),(0,l.jsx)(s.td,{children:"The reducer ran successfully."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#variant-failed",children:[(0,l.jsx)(s.code,{children:"Failed"})," variant"]})}),(0,l.jsx)(s.td,{children:"The reducer errored."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#variant-outofenergy",children:[(0,l.jsx)(s.code,{children:"OutOfEnergy"})," variant"]})}),(0,l.jsx)(s.td,{children:"The reducer was aborted due to insufficient energy."})]})]})]}),"\n",(0,l.jsxs)(s.h4,{id:"variant-committed",children:["Variant ",(0,l.jsx)(s.code,{children:"Committed"})]}),"\n",(0,l.jsxs)(s.p,{children:["The reducer returned successfully and its changes were committed into the database state. An ",(0,l.jsx)(s.a,{href:"#variant-reducer",children:(0,l.jsx)(s.code,{children:"Event.Reducer"})})," passed to a row callback must have this status in its ",(0,l.jsx)(s.a,{href:"#record-reducerevent",children:(0,l.jsx)(s.code,{children:"ReducerEvent"})}),"."]}),"\n",(0,l.jsxs)(s.h4,{id:"variant-failed",children:["Variant ",(0,l.jsx)(s.code,{children:"Failed"})]}),"\n",(0,l.jsx)(s.p,{children:"The reducer returned an error, panicked, or threw an exception. The record payload is the stringified error message. Formatting of the error message is unstable and subject to change, so clients should use it only as a human-readable diagnostic, and in particular should not attempt to parse the message."}),"\n",(0,l.jsxs)(s.h4,{id:"variant-outofenergy",children:["Variant ",(0,l.jsx)(s.code,{children:"OutOfEnergy"})]}),"\n",(0,l.jsx)(s.p,{children:"The reducer was aborted due to insufficient energy balance of the module owner."}),"\n",(0,l.jsxs)(s.h3,{id:"record-reducer",children:["Record ",(0,l.jsx)(s.code,{children:"Reducer"})]}),"\n",(0,l.jsxs)(s.p,{children:["The module bindings contains an record ",(0,l.jsx)(s.code,{children:"Reducer"})," with a variant for each reducer defined by the module. Each variant has a payload containing the arguments to the reducer."]}),"\n",(0,l.jsxs)(s.h2,{id:"type-reducereventcontext",children:["Type ",(0,l.jsx)(s.code,{children:"ReducerEventContext"})]}),"\n",(0,l.jsxs)(s.p,{children:["A ",(0,l.jsx)(s.code,{children:"ReducerEventContext"})," is an ",(0,l.jsx)(s.a,{href:"#interface-idbcontext",children:(0,l.jsx)(s.code,{children:"IDbContext"})})," augmented with an ",(0,l.jsx)(s.a,{href:"#record-reducerevent",children:(0,l.jsx)(s.code,{children:"Event"})})," property. ",(0,l.jsx)(s.code,{children:"ReducerEventContext"}),"s are passed as the first argument to ",(0,l.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"reducer callbacks"}),"."]}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-event",children:[(0,l.jsx)(s.code,{children:"Event"})," property"]})}),(0,l.jsxs)(s.td,{children:[(0,l.jsx)(s.a,{href:"#record-reducerevent",children:(0,l.jsx)(s.code,{children:"ReducerEvent"})})," containing reducer metadata."]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-db",children:[(0,l.jsx)(s.code,{children:"Db"})," property"]})}),(0,l.jsx)(s.td,{children:"Provides access to the client cache."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-reducers",children:[(0,l.jsx)(s.code,{children:"Reducers"})," property"]})}),(0,l.jsx)(s.td,{children:"Allows requesting reducers run on the remote database."})]})]})]}),"\n",(0,l.jsxs)(s.h3,{id:"property-event-1",children:["Property ",(0,l.jsx)(s.code,{children:"Event"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ReducerEventContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" readonly"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ReducerEvent"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Reducer"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> Event;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* other fields */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.a,{href:"#record-reducerevent",children:(0,l.jsx)(s.code,{children:"ReducerEvent"})})," contained in the ",(0,l.jsx)(s.code,{children:"ReducerEventContext"})," has metadata about the reducer which ran."]}),"\n",(0,l.jsxs)(s.h3,{id:"property-db-2",children:["Property ",(0,l.jsx)(s.code,{children:"Db"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ReducerEventContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteTables"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Db;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* other fields */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"Db"})," property of the context provides access to the subscribed view of the remote database's tables. See ",(0,l.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"}),"."]}),"\n",(0,l.jsxs)(s.h3,{id:"property-reducers-1",children:["Property ",(0,l.jsx)(s.code,{children:"Reducers"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ReducerEventContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteReducers"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Reducers;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* other fields */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"Reducers"})," property of the context provides access to reducers exposed by the remote module. See ",(0,l.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"Observe and invoke reducers"}),"."]}),"\n",(0,l.jsxs)(s.h2,{id:"type-subscriptioneventcontext",children:["Type ",(0,l.jsx)(s.code,{children:"SubscriptionEventContext"})]}),"\n",(0,l.jsxs)(s.p,{children:["A ",(0,l.jsx)(s.code,{children:"SubscriptionEventContext"})," is an ",(0,l.jsx)(s.a,{href:"#interface-idbcontext",children:(0,l.jsx)(s.code,{children:"IDbContext"})}),". Unlike the other context types, ",(0,l.jsx)(s.code,{children:"SubscriptionEventContext"})," doesn't have an ",(0,l.jsx)(s.code,{children:"Event"})," property. ",(0,l.jsx)(s.code,{children:"SubscriptionEventContext"}),"s are passed to subscription ",(0,l.jsx)(s.a,{href:"#callback-onapplied",children:(0,l.jsx)(s.code,{children:"OnApplied"})})," and ",(0,l.jsx)(s.a,{href:"#method-unsubscribethen",children:(0,l.jsx)(s.code,{children:"UnsubscribeThen"})})," callbacks."]}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-db",children:[(0,l.jsx)(s.code,{children:"Db"})," property"]})}),(0,l.jsx)(s.td,{children:"Provides access to the client cache."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-reducers",children:[(0,l.jsx)(s.code,{children:"Reducers"})," property"]})}),(0,l.jsx)(s.td,{children:"Allows requesting reducers run on the remote database."})]})]})]}),"\n",(0,l.jsxs)(s.h3,{id:"property-db-3",children:["Property ",(0,l.jsx)(s.code,{children:"Db"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionEventContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteTables"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Db;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* other fields */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"Db"})," property of the context provides access to the subscribed view of the remote database's tables. See ",(0,l.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"}),"."]}),"\n",(0,l.jsxs)(s.h3,{id:"property-reducers-2",children:["Property ",(0,l.jsx)(s.code,{children:"Reducers"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionEventContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteReducers"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Reducers;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* other fields */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"Reducers"})," property of the context provides access to reducers exposed by the remote module. See ",(0,l.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"Observe and invoke reducers"}),"."]}),"\n",(0,l.jsxs)(s.h2,{id:"type-errorcontext",children:["Type ",(0,l.jsx)(s.code,{children:"ErrorContext"})]}),"\n",(0,l.jsxs)(s.p,{children:["An ",(0,l.jsx)(s.code,{children:"ErrorContext"})," is an ",(0,l.jsx)(s.a,{href:"#interface-idbcontext",children:(0,l.jsx)(s.code,{children:"IDbContext"})})," augmented with an ",(0,l.jsx)(s.code,{children:"Event"})," property. ",(0,l.jsx)(s.code,{children:"ErrorContext"}),"s are to connections' ",(0,l.jsx)(s.a,{href:"#callback-ondisconnect",children:(0,l.jsx)(s.code,{children:"OnDisconnect"})})," and ",(0,l.jsx)(s.a,{href:"#callback-onconnecterror",children:(0,l.jsx)(s.code,{children:"OnConnectError"})})," callbacks, and to subscriptions' ",(0,l.jsx)(s.a,{href:"#callback-onerror",children:(0,l.jsx)(s.code,{children:"OnError"})})," callbacks."]}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-event",children:[(0,l.jsx)(s.code,{children:"Event"})," property"]})}),(0,l.jsx)(s.td,{children:"The error which caused the current error callback."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-db",children:[(0,l.jsx)(s.code,{children:"Db"})," property"]})}),(0,l.jsx)(s.td,{children:"Provides access to the client cache."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-reducers",children:[(0,l.jsx)(s.code,{children:"Reducers"})," property"]})}),(0,l.jsx)(s.td,{children:"Allows requesting reducers run on the remote database."})]})]})]}),"\n",(0,l.jsxs)(s.h3,{id:"property-event-2",children:["Property ",(0,l.jsx)(s.code,{children:"Event"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" SubscriptionEventContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" readonly"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Exception"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Event;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* other fields */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.h3,{id:"property-db-4",children:["Property ",(0,l.jsx)(s.code,{children:"Db"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ErrorContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteTables"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Db;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* other fields */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"Db"})," property of the context provides access to the subscribed view of the remote database's tables. See ",(0,l.jsx)(s.a,{href:"#access-the-client-cache",children:"Access the client cache"}),"."]}),"\n",(0,l.jsxs)(s.h3,{id:"property-reducers-3",children:["Property ",(0,l.jsx)(s.code,{children:"Reducers"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" ErrorContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RemoteReducers"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Reducers;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* other fields */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"Reducers"})," property of the context provides access to reducers exposed by the remote database. See ",(0,l.jsx)(s.a,{href:"#observe-and-invoke-reducers",children:"Observe and invoke reducers"}),"."]}),"\n",(0,l.jsx)(s.h2,{id:"access-the-client-cache",children:"Access the client cache"}),"\n",(0,l.jsxs)(s.p,{children:["All ",(0,l.jsx)(s.a,{href:"#interface-idbcontext",children:(0,l.jsx)(s.code,{children:"IDbContext"})})," implementors, including ",(0,l.jsx)(s.a,{href:"#type-dbconnection",children:(0,l.jsx)(s.code,{children:"DbConnection"})})," and ",(0,l.jsx)(s.a,{href:"#type-eventcontext",children:(0,l.jsx)(s.code,{children:"EventContext"})}),", have ",(0,l.jsx)(s.code,{children:".Db"})," properties, which in turn have methods for accessing tables in the client cache."]}),"\n",(0,l.jsxs)(s.p,{children:["Each table defined by a module has an accessor method, whose name is the table name converted to ",(0,l.jsx)(s.code,{children:"snake_case"}),", on this ",(0,l.jsx)(s.code,{children:".Db"})," property. The table accessor methods return table handles which inherit from ",(0,l.jsx)(s.a,{href:"#type-remotetablehandle",children:(0,l.jsx)(s.code,{children:"RemoteTableHandle"})})," and have methods for searching by index."]}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#type-remotetablehandle",children:(0,l.jsx)(s.code,{children:"RemoteTableHandle"})})}),(0,l.jsx)(s.td,{children:"Provides access to subscribed rows of a specific table within the client cache."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#unique-constraint-index-access",children:"Unique constraint index access"})}),(0,l.jsx)(s.td,{children:"Seek a subscribed row by the value in its unique or primary key column."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsx)(s.a,{href:"#btree-index-access",children:"BTree index access"})}),(0,l.jsx)(s.td,{children:"Seek subscribed rows by the value in its indexed column."})]})]})]}),"\n",(0,l.jsxs)(s.h3,{id:"type-remotetablehandle",children:["Type ",(0,l.jsx)(s.code,{children:"RemoteTableHandle"})]}),"\n",(0,l.jsx)(s.p,{children:"Implemented by all table handles."}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"Name"}),(0,l.jsx)(s.th,{children:"Description"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#type-row",children:[(0,l.jsx)(s.code,{children:"Row"})," type parameter"]})}),(0,l.jsx)(s.td,{children:"The type of rows in the table."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#property-count",children:[(0,l.jsx)(s.code,{children:"Count"})," property"]})}),(0,l.jsx)(s.td,{children:"The number of subscribed rows in the table."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#method-iter",children:[(0,l.jsx)(s.code,{children:"Iter"})," method"]})}),(0,l.jsx)(s.td,{children:"Iterate over all subscribed rows in the table."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#callback-oninsert",children:[(0,l.jsx)(s.code,{children:"OnInsert"})," callback"]})}),(0,l.jsx)(s.td,{children:"Register a callback to run whenever a row is inserted into the client cache."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#callback-ondelete",children:[(0,l.jsx)(s.code,{children:"OnDelete"})," callback"]})}),(0,l.jsx)(s.td,{children:"Register a callback to run whenever a row is deleted from the client cache."})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:(0,l.jsxs)(s.a,{href:"#callback-onupdate",children:[(0,l.jsx)(s.code,{children:"OnUpdate"})," callback"]})}),(0,l.jsx)(s.td,{children:"Register a callback to run whenever a subscribed row is replaced with a new version."})]})]})]}),"\n",(0,l.jsxs)(s.h4,{id:"type-row",children:["Type ",(0,l.jsx)(s.code,{children:"Row"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" RemoteTableHandle"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"EventContext"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"Row"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"    /* members */"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsx)(s.p,{children:"The type of rows in the table."}),"\n",(0,l.jsxs)(s.h4,{id:"property-count",children:["Property ",(0,l.jsx)(s.code,{children:"Count"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" RemoteTableHandle"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" int"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Count;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsx)(s.p,{children:"The number of rows of this table resident in the client cache, i.e. the total number which match any subscribed query."}),"\n",(0,l.jsxs)(s.h4,{id:"method-iter",children:["Method ",(0,l.jsx)(s.code,{children:"Iter"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" RemoteTableHandle"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" IEnumerable"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"<"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"> "}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"Iter"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsx)(s.p,{children:"An iterator over all the subscribed rows in the client cache, i.e. those which match any subscribed query."}),"\n",(0,l.jsxs)(s.h4,{id:"callback-oninsert",children:["Callback ",(0,l.jsx)(s.code,{children:"OnInsert"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" RemoteTableHandle"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" delegate"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RowEventHandler"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"EventContext"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" context"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" row"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" event"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RowEventHandler"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"? OnInsert;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"OnInsert"})," callback runs whenever a new row is inserted into the client cache, either when applying a subscription or being notified of a transaction. The passed ",(0,l.jsx)(s.a,{href:"#type-eventcontext",children:(0,l.jsx)(s.code,{children:"EventContext"})})," contains an ",(0,l.jsx)(s.a,{href:"#record-event",children:(0,l.jsx)(s.code,{children:"Event"})})," which can identify the change which caused the insertion, and also allows the callback to interact with the connection, inspect the client cache and invoke reducers. Newly registered or canceled callbacks do not take effect until the following event."]}),"\n",(0,l.jsxs)(s.p,{children:["See ",(0,l.jsx)(s.a,{href:"/sdks/c-sharp/quickstart#register-callbacks",children:"the quickstart"})," for examples of regstering and unregistering row callbacks."]}),"\n",(0,l.jsxs)(s.h4,{id:"callback-ondelete",children:["Callback ",(0,l.jsx)(s.code,{children:"OnDelete"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" RemoteTableHandle"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" delegate"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RowEventHandler"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"EventContext"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" context"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" row"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" event"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RowEventHandler"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"? OnDelete;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"OnDelete"})," callback runs whenever a previously-resident row is deleted from the client cache. Newly registered or canceled callbacks do not take effect until the following event."]}),"\n",(0,l.jsxs)(s.p,{children:["See ",(0,l.jsx)(s.a,{href:"/sdks/c-sharp/quickstart#register-callbacks",children:"the quickstart"})," for examples of regstering and unregistering row callbacks."]}),"\n",(0,l.jsxs)(s.h4,{id:"callback-onupdate",children:["Callback ",(0,l.jsx)(s.code,{children:"OnUpdate"})]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" RemoteTableHandle"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" delegate"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" void"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RowEventHandler"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"EventContext"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" context"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Row"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" row"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" event"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" RowEventHandler"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"? OnUpdate;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["The ",(0,l.jsx)(s.code,{children:"OnUpdate"})," callback runs whenever an already-resident row in the client cache is updated, i.e. replaced with a new row that has the same primary key. The table must have a primary key for callbacks to be triggered. Newly registered or canceled callbacks do not take effect until the following event."]}),"\n",(0,l.jsxs)(s.p,{children:["See ",(0,l.jsx)(s.a,{href:"/sdks/c-sharp/quickstart#register-callbacks",children:"the quickstart"})," for examples of regstering and unregistering row callbacks."]}),"\n",(0,l.jsx)(s.h3,{id:"unique-constraint-index-access",children:"Unique constraint index access"}),"\n",(0,l.jsxs)(s.p,{children:["For each unique constraint on a table, its table handle has a property which is a unique index handle and whose name is the unique column name. This unique index handle has a method ",(0,l.jsx)(s.code,{children:".Find(Column value)"}),". If a ",(0,l.jsx)(s.code,{children:"Row"})," with ",(0,l.jsx)(s.code,{children:"value"})," in the unique column is resident in the client cache, ",(0,l.jsx)(s.code,{children:".Find"})," returns it. Otherwise it returns null."]}),"\n",(0,l.jsx)(s.h4,{id:"example-2",children:"Example"}),"\n",(0,l.jsxs)(s.p,{children:["Given the following module-side ",(0,l.jsx)(s.code,{children:"User"})," definition:"]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,l.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,l.jsx)(s.span,{style:{color:"#F1FA8C"},children:"User"}),(0,l.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", Public "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,l.jsx)(s.span,{style:{color:"#BD93F9"},children:" true"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" User"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Unique"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"] "}),(0,l.jsx)(s.span,{style:{color:"#6272A4"},children:"// Or [PrimaryKey]"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Identity"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" Identity;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    .."})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsx)(s.p,{children:"a client would lookup a user as follows:"}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsx)(s.code,{children:(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"User"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"? "}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"FindUser"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"RemoteTables"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" tables"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Identity"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" id"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" tables.User.Identity."}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"Find"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(id);"})]})})})}),"\n",(0,l.jsx)(s.h3,{id:"btree-index-access",children:"BTree index access"}),"\n",(0,l.jsxs)(s.p,{children:["For each btree index defined on a remote table, its corresponding table handle has a property which is a btree index handle and whose name is the name of the index. This index handle has a method ",(0,l.jsx)(s.code,{children:"IEnumerable<Row> Filter(Column value)"})," which will return ",(0,l.jsx)(s.code,{children:"Row"}),"s with ",(0,l.jsx)(s.code,{children:"value"})," in the indexed ",(0,l.jsx)(s.code,{children:"Column"}),", if there are any in the cache."]}),"\n",(0,l.jsx)(s.h4,{id:"example-3",children:"Example"}),"\n",(0,l.jsxs)(s.p,{children:["Given the following module-side ",(0,l.jsx)(s.code,{children:"Player"})," definition:"]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"["}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Table"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,l.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,l.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Player"}),(0,l.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", Public "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,l.jsx)(s.span,{style:{color:"#BD93F9"},children:" true"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" partial"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" class"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD"},children:" Player"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"PrimaryKey"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"]"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Identity"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" id;"})]}),"\n",(0,l.jsx)(s.span,{className:"line"}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ["}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Index"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"."}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"BTree"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(Name "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"="}),(0,l.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,l.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Level"}),(0,l.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:")]"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"    public"}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:" uint"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" level;"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    .."})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,l.jsxs)(s.p,{children:["a client would count the number of ",(0,l.jsx)(s.code,{children:"Player"}),"s at a certain level as follows:"]}),"\n",(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,l.jsx)(s.code,{children:(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"int"}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:" CountPlayersAtLevel"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"RemoteTables"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" tables"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:", "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"uint"}),(0,l.jsx)(s.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" level"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:") "}),(0,l.jsx)(s.span,{style:{color:"#FF79C6"},children:"=>"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:" tables.Player.Level."}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"Filter"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"(level)."}),(0,l.jsx)(s.span,{style:{color:"#50FA7B"},children:"Count"}),(0,l.jsx)(s.span,{style:{color:"#F8F8F2"},children:"();"})]})})})}),"\n",(0,l.jsx)(s.h2,{id:"observe-and-invoke-reducers",children:"Observe and invoke reducers"}),"\n",(0,l.jsxs)(s.p,{children:["All ",(0,l.jsx)(s.a,{href:"#interface-idbcontext",children:(0,l.jsx)(s.code,{children:"IDbContext"})})," implementors, including ",(0,l.jsx)(s.a,{href:"#type-dbconnection",children:(0,l.jsx)(s.code,{children:"DbConnection"})})," and ",(0,l.jsx)(s.a,{href:"#type-eventcontext",children:(0,l.jsx)(s.code,{children:"EventContext"})}),", have a ",(0,l.jsx)(s.code,{children:".Reducers"})," property, which in turn has methods for invoking reducers defined by the module and registering callbacks on it."]}),"\n",(0,l.jsxs)(s.p,{children:["Each reducer defined by the module has three methods on the ",(0,l.jsx)(s.code,{children:".Reducers"}),":"]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["An invoke method, whose name is the reducer's name converted to snake case, like ",(0,l.jsx)(s.code,{children:"set_name"}),". This requests that the module run the reducer."]}),"\n",(0,l.jsxs)(s.li,{children:["A callback registation method, whose name is prefixed with ",(0,l.jsx)(s.code,{children:"on_"}),", like ",(0,l.jsx)(s.code,{children:"on_set_name"}),". This registers a callback to run whenever we are notified that the reducer ran, including successfully committed runs and runs we requested which failed. This method returns a callback id, which can be passed to the callback remove method."]}),"\n",(0,l.jsxs)(s.li,{children:["A callback remove method, whose name is prefixed with ",(0,l.jsx)(s.code,{children:"remove_on_"}),", like ",(0,l.jsx)(s.code,{children:"remove_on_set_name"}),". This cancels a callback previously registered via the callback registration method."]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"identify-a-client",children:"Identify a client"}),"\n",(0,l.jsxs)(s.h3,{id:"type-identity",children:["Type ",(0,l.jsx)(s.code,{children:"Identity"})]}),"\n",(0,l.jsxs)(s.p,{children:["A unique public identifier for a client connected to a database.\nSee the ",(0,l.jsx)(s.a,{href:"/modules/c-sharp#struct-identity",children:"module docs"})," for more details."]}),"\n",(0,l.jsxs)(s.h3,{id:"type-connectionid",children:["Type ",(0,l.jsx)(s.code,{children:"ConnectionId"})]}),"\n",(0,l.jsxs)(s.p,{children:["An opaque identifier for a client connection to a database, intended to differentiate between connections from the same ",(0,l.jsx)(s.a,{href:"#type-identity",children:(0,l.jsx)(s.code,{children:"Identity"})}),".\nSee the ",(0,l.jsx)(s.a,{href:"/modules/c-sharp#struct-connectionid",children:"module docs"})," for more details."]}),"\n",(0,l.jsxs)(s.h3,{id:"type-timestamp",children:["Type ",(0,l.jsx)(s.code,{children:"Timestamp"})]}),"\n",(0,l.jsxs)(s.p,{children:["A point in time, measured in microseconds since the Unix epoch.\nSee the ",(0,l.jsx)(s.a,{href:"/modules/c-sharp#struct-timestamp",children:"module docs"})," for more details."]}),"\n",(0,l.jsxs)(s.h3,{id:"type-taggedenum",children:["Type ",(0,l.jsx)(s.code,{children:"TaggedEnum"})]}),"\n",(0,l.jsxs)(s.p,{children:["A ",(0,l.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Tagged_union",children:"tagged union"})," type.\nSee the ",(0,l.jsx)(s.a,{href:"/modules/c-sharp#record-taggedenum",children:"module docs"})," for more details."]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},6119:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>o});var c=n(3303);const l={},r=c.createContext(l);function i(e){const s=c.useContext(r);return c.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),c.createElement(r.Provider,{value:s},e.children)}}}]);