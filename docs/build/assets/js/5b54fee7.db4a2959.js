"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4018],{6119:(e,s,l)=>{l.d(s,{R:()=>c,x:()=>i});var n=l(3303);const r={},a=n.createContext(r);function c(e){const s=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(a.Provider,{value:s},e.children)}},7499:(e,s,l)=>{l.r(s),l.d(s,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"HTTP API/database","title":"/v1/database","description":"The HTTP endpoints in /v1/database allow clients to interact with Spacetime databases in a variety of ways, including retrieving information, creating and deleting databases, invoking reducers and evaluating SQL queries.","source":"@site/docs/13-HTTP API/03-database.md","sourceDirName":"13-HTTP API","slug":"/http/database","permalink":"/http/database","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"slug":"/http/database"},"sidebar":"sidebar","previous":{"title":"/v1/identity","permalink":"/http/identity"},"next":{"title":"Module ABI Reference","permalink":"/webassembly-abi"}}');var r=l(7711),a=l(6119);const c={slug:"/http/database"},i="/v1/database",d={},t=[{value:"At a glance",id:"at-a-glance",level:2},{value:"<code>POST /v1/database</code>",id:"post-v1database",level:2},{value:"Required Headers",id:"required-headers",level:4},{value:"Data",id:"data",level:4},{value:"Returns",id:"returns",level:4},{value:"<code>POST /v1/database/:name_or_identity</code>",id:"post-v1databasename_or_identity",level:2},{value:"Query Parameters",id:"query-parameters",level:4},{value:"Required Headers",id:"required-headers-1",level:4},{value:"Data",id:"data-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"<code>GET /v1/database/:name_or_identity</code>",id:"get-v1databasename_or_identity",level:2},{value:"Returns",id:"returns-2",level:4},{value:"<code>DELETE /v1/database/:name_or_identity</code>",id:"delete-v1databasename_or_identity",level:2},{value:"Required Headers",id:"required-headers-2",level:4},{value:"<code>GET /v1/database/:name_or_identity/names</code>",id:"get-v1databasename_or_identitynames",level:2},{value:"Returns",id:"returns-3",level:4},{value:"<code>POST /v1/database/:name_or_identity/names</code>",id:"post-v1databasename_or_identitynames",level:2},{value:"Required Headers",id:"required-headers-3",level:4},{value:"Data",id:"data-2",level:4},{value:"Returns",id:"returns-4",level:4},{value:"<code>PUT /v1/database/:name_or_identity/names</code>",id:"put-v1databasename_or_identitynames",level:2},{value:"Required Headers",id:"required-headers-4",level:4},{value:"Data",id:"data-3",level:4},{value:"Returns",id:"returns-5",level:4},{value:"<code>GET /v1/database/:name_or_identity/identity</code>",id:"get-v1databasename_or_identityidentity",level:2},{value:"Returns",id:"returns-6",level:4},{value:"<code>GET /v1/database/:name_or_identity/subscribe</code>",id:"get-v1databasename_or_identitysubscribe",level:2},{value:"Required Headers",id:"required-headers-5",level:4},{value:"Optional Headers",id:"optional-headers",level:4},{value:"<code>POST /v1/database/:name_or_identity/call/:reducer</code>",id:"post-v1databasename_or_identitycallreducer",level:2},{value:"Path parameters",id:"path-parameters",level:4},{value:"Required Headers",id:"required-headers-6",level:4},{value:"Data",id:"data-4",level:4},{value:"<code>GET /v1/database/:name_or_identity/schema</code>",id:"get-v1databasename_or_identityschema",level:2},{value:"Query Parameters",id:"query-parameters-1",level:4},{value:"Returns",id:"returns-7",level:4},{value:"<code>GET /v1/database/:name_or_identity/logs</code>",id:"get-v1databasename_or_identitylogs",level:2},{value:"Query Parameters",id:"query-parameters-2",level:4},{value:"Required Headers",id:"required-headers-7",level:4},{value:"Returns",id:"returns-8",level:4},{value:"<code>POST /v1/database/:name_or_identity/sql</code>",id:"post-v1databasename_or_identitysql",level:2},{value:"Required Headers",id:"required-headers-8",level:4},{value:"Data",id:"data-5",level:4},{value:"Returns",id:"returns-9",level:4}];function o(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",p:"p",pre:"pre",span:"span",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components},{Details:l}=s;return l||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"v1database",children:(0,r.jsx)(s.code,{children:"/v1/database"})})}),"\n",(0,r.jsxs)(s.p,{children:["The HTTP endpoints in ",(0,r.jsx)(s.code,{children:"/v1/database"})," allow clients to interact with Spacetime databases in a variety of ways, including retrieving information, creating and deleting databases, invoking reducers and evaluating SQL queries."]}),"\n",(0,r.jsx)(s.h2,{id:"at-a-glance",children:"At a glance"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Route"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#post-v1database",children:(0,r.jsx)(s.code,{children:"POST /v1/database"})})}),(0,r.jsx)(s.td,{children:"Publish a new database given its module code."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#post-v1databasename_or_identity",children:(0,r.jsx)(s.code,{children:"POST /v1/database/:name_or_identity"})})}),(0,r.jsx)(s.td,{children:"Publish to a database given its module code."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#get-v1databasename_or_identity",children:(0,r.jsx)(s.code,{children:"GET /v1/database/:name_or_identity"})})}),(0,r.jsx)(s.td,{children:"Get a JSON description of a database."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#post-v1databasename_or_identity",children:(0,r.jsx)(s.code,{children:"DELETE /v1/database/:name_or_identity"})})}),(0,r.jsx)(s.td,{children:"Delete a database."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#get-v1databasename_or_identitynames",children:(0,r.jsx)(s.code,{children:"GET /v1/database/:name_or_identity/names"})})}),(0,r.jsx)(s.td,{children:"Get the names this database can be identified by."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#post-v1databasename_or_identitynames",children:(0,r.jsx)(s.code,{children:"POST /v1/database/:name_or_identity/names"})})}),(0,r.jsx)(s.td,{children:"Add a new name for this database."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#put-v1databasename_or_identitynames",children:(0,r.jsx)(s.code,{children:"PUT /v1/database/:name_or_identity/names"})})}),(0,r.jsx)(s.td,{children:"Set the list of names for this database."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#get-v1databasename_or_identityidentity",children:(0,r.jsx)(s.code,{children:"GET /v1/database/:name_or_identity/identity"})})}),(0,r.jsx)(s.td,{children:"Get the identity of a database."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#get-v1databasename_or_identitysubscribe",children:(0,r.jsx)(s.code,{children:"GET /v1/database/:name_or_identity/subscribe"})})}),(0,r.jsx)(s.td,{children:"Begin a WebSocket connection."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#post-v1databasename_or_identitycallreducer",children:(0,r.jsx)(s.code,{children:"POST /v1/database/:name_or_identity/call/:reducer"})})}),(0,r.jsx)(s.td,{children:"Invoke a reducer in a database."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#get-v1databasename_or_identityschema",children:(0,r.jsx)(s.code,{children:"GET /v1/database/:name_or_identity/schema"})})}),(0,r.jsx)(s.td,{children:"Get the schema for a database."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#get-v1databasename_or_identitylogs",children:(0,r.jsx)(s.code,{children:"GET /v1/database/:name_or_identity/logs"})})}),(0,r.jsx)(s.td,{children:"Retrieve logs from a database."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#post-v1databasename_or_identitysql",children:(0,r.jsx)(s.code,{children:"POST /v1/database/:name_or_identity/sql"})})}),(0,r.jsx)(s.td,{children:"Run a SQL query against a database."})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"post-v1database",children:(0,r.jsx)(s.code,{children:"POST /v1/database"})}),"\n",(0,r.jsx)(s.p,{children:"Publish a new database with no name."}),"\n",(0,r.jsxs)(s.p,{children:["Accessible through the CLI as ",(0,r.jsx)(s.code,{children:"spacetime publish"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"required-headers",children:"Required Headers"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Authorization"})}),(0,r.jsxs)(s.td,{children:["A Spacetime token ",(0,r.jsx)(s.a,{href:"/http/authorization#authorization-headers",children:"as Bearer auth"}),"."]})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"data",children:"Data"}),"\n",(0,r.jsxs)(s.p,{children:["A WebAssembly module in the ",(0,r.jsx)(s.a,{href:"https://webassembly.github.io/spec/core/binary/index.html",children:"binary format"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"returns",children:"Returns"}),"\n",(0,r.jsx)(s.p,{children:"If the database was successfully published, returns JSON in the form:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{ "}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Success"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"database_identity"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" string,"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"op"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"created"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" |"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"updated"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"} }"})})]})})}),"\n",(0,r.jsx)(s.h2,{id:"post-v1databasename_or_identity",children:(0,r.jsx)(s.code,{children:"POST /v1/database/:name_or_identity"})}),"\n",(0,r.jsx)(s.p,{children:"Publish to a database with the specified name or identity. If the name doesn't exist, creates a new database."}),"\n",(0,r.jsxs)(s.p,{children:["Accessible through the CLI as ",(0,r.jsx)(s.code,{children:"spacetime publish"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"clear"})}),(0,r.jsx)(s.td,{children:"A boolean; whether to clear any existing data when updating an existing database."})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"required-headers-1",children:"Required Headers"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Authorization"})}),(0,r.jsxs)(s.td,{children:["A Spacetime token ",(0,r.jsx)(s.a,{href:"/http/authorization#authorization-headers",children:"as Bearer auth"}),"."]})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"data-1",children:"Data"}),"\n",(0,r.jsxs)(s.p,{children:["A WebAssembly module in the ",(0,r.jsx)(s.a,{href:"https://webassembly.github.io/spec/core/binary/index.html",children:"binary format"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"returns-1",children:"Returns"}),"\n",(0,r.jsx)(s.p,{children:"If the database was successfully published, returns JSON in the form:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{ "}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Success"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"domain"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" null"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" |"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" string,"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"database_identity"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" string,"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"op"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"created"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:" |"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"updated"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"} }"})})]})})}),"\n",(0,r.jsxs)(s.p,{children:["If a database with the given name exists, but the identity provided in the ",(0,r.jsx)(s.code,{children:"Authorization"})," header does not have permission to edit it, returns ",(0,r.jsx)(s.code,{children:"401 UNAUTHORIZED"})," along with JSON in the form:"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{ "}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"PermissionDenied"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" string"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"} }"})})]})})}),"\n",(0,r.jsx)(s.h2,{id:"get-v1databasename_or_identity",children:(0,r.jsx)(s.code,{children:"GET /v1/database/:name_or_identity"})}),"\n",(0,r.jsx)(s.p,{children:"Get a database's identity, owner identity, host type, number of replicas and a hash of its WASM module."}),"\n",(0,r.jsx)(s.h4,{id:"returns-2",children:"Returns"}),"\n",(0,r.jsx)(s.p,{children:"Returns JSON in the form:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"database_identity"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": string,"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"owner_identity"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": string,"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"host_type"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": "}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"wasm"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"initial_program"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": string"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Field"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{children:"Meaning"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:'"database_identity"'})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{children:"The Spacetime identity of the database."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:'"owner_identity"'})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{children:"The Spacetime identity of the database's owner."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:'"host_type"'})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsxs)(s.td,{children:["The module host type; currently always ",(0,r.jsx)(s.code,{children:'"wasm"'}),"."]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:'"initial_program"'})}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{children:"Hash of the WASM module with which the database was initialized."})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"delete-v1databasename_or_identity",children:(0,r.jsx)(s.code,{children:"DELETE /v1/database/:name_or_identity"})}),"\n",(0,r.jsx)(s.p,{children:"Delete a database."}),"\n",(0,r.jsxs)(s.p,{children:["Accessible through the CLI as ",(0,r.jsx)(s.code,{children:"spacetime delete <identity>"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"required-headers-2",children:"Required Headers"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Authorization"})}),(0,r.jsxs)(s.td,{children:["A Spacetime token ",(0,r.jsx)(s.a,{href:"/http/authorization#authorization-headers",children:"as Bearer auth"}),"."]})]})})]}),"\n",(0,r.jsx)(s.h2,{id:"get-v1databasename_or_identitynames",children:(0,r.jsx)(s.code,{children:"GET /v1/database/:name_or_identity/names"})}),"\n",(0,r.jsx)(s.p,{children:"Get the names this database can be identified by."}),"\n",(0,r.jsx)(s.h4,{id:"returns-3",children:"Returns"}),"\n",(0,r.jsx)(s.p,{children:"Returns JSON in the form:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsx)(s.code,{children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{ "}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"names"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": array"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:"<"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"string"}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:">"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" }"})]})})})}),"\n",(0,r.jsxs)(s.p,{children:["where ",(0,r.jsx)(s.code,{children:"<names>"})," is a JSON array of strings, each of which is a name which refers to the database."]}),"\n",(0,r.jsx)(s.h2,{id:"post-v1databasename_or_identitynames",children:(0,r.jsx)(s.code,{children:"POST /v1/database/:name_or_identity/names"})}),"\n",(0,r.jsx)(s.p,{children:"Add a new name for this database."}),"\n",(0,r.jsx)(s.h4,{id:"required-headers-3",children:"Required Headers"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Authorization"})}),(0,r.jsxs)(s.td,{children:["A Spacetime token ",(0,r.jsx)(s.a,{href:"/http/authorization#authorization-headers",children:"as Bearer auth"}),"."]})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"data-2",children:"Data"}),"\n",(0,r.jsx)(s.p,{children:"Takes as the request body a string containing the new name of the database."}),"\n",(0,r.jsx)(s.h4,{id:"returns-4",children:"Returns"}),"\n",(0,r.jsx)(s.p,{children:"If the name was successfully set, returns JSON in the form:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{ "}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Success"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"domain"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" string,"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"database_result"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" string"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"} }"})})]})})}),"\n",(0,r.jsxs)(s.p,{children:["If the new name already exists but the identity provided in the ",(0,r.jsx)(s.code,{children:"Authorization"})," header does not have permission to edit it, returns JSON in the form:"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{ "}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"PermissionDenied"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"domain"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" string"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"} }"})})]})})}),"\n",(0,r.jsx)(s.h2,{id:"put-v1databasename_or_identitynames",children:(0,r.jsx)(s.code,{children:"PUT /v1/database/:name_or_identity/names"})}),"\n",(0,r.jsx)(s.p,{children:"Set the list of names for this database."}),"\n",(0,r.jsx)(s.h4,{id:"required-headers-4",children:"Required Headers"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Authorization"})}),(0,r.jsxs)(s.td,{children:["A Spacetime token ",(0,r.jsx)(s.a,{href:"/http/authorization#authorization-headers",children:"as Bearer auth"}),"."]})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"data-3",children:"Data"}),"\n",(0,r.jsx)(s.p,{children:"Takes as the request body a list of names, as a JSON array of strings."}),"\n",(0,r.jsx)(s.h4,{id:"returns-5",children:"Returns"}),"\n",(0,r.jsx)(s.p,{children:"If the name was successfully set, returns JSON in the form:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsx)(s.code,{children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{ "}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Success"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": "}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"null"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" }"})]})})})}),"\n",(0,r.jsxs)(s.p,{children:["If any of the new names already exist but the identity provided in the ",(0,r.jsx)(s.code,{children:"Authorization"})," header does not have permission to edit it, returns ",(0,r.jsx)(s.code,{children:"401 UNAUTHORIZED"})," along with JSON in the form:"]}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsx)(s.code,{children:(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{ "}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"PermissionDenied"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": "}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:"null"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" }"})]})})})}),"\n",(0,r.jsx)(s.h2,{id:"get-v1databasename_or_identityidentity",children:(0,r.jsx)(s.code,{children:"GET /v1/database/:name_or_identity/identity"})}),"\n",(0,r.jsx)(s.p,{children:"Get the identity of a database."}),"\n",(0,r.jsx)(s.h4,{id:"returns-6",children:"Returns"}),"\n",(0,r.jsx)(s.p,{children:"Returns a hex string of the specified database's identity."}),"\n",(0,r.jsx)(s.h2,{id:"get-v1databasename_or_identitysubscribe",children:(0,r.jsx)(s.code,{children:"GET /v1/database/:name_or_identity/subscribe"})}),"\n",(0,r.jsx)(s.p,{children:"Begin a WebSocket connection with a database."}),"\n",(0,r.jsx)(s.h4,{id:"required-headers-5",children:"Required Headers"}),"\n",(0,r.jsxs)(s.p,{children:["For more information about WebSocket headers, see ",(0,r.jsx)(s.a,{href:"https://datatracker.ietf.org/doc/html/rfc6455",children:"RFC 6455"}),"."]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Sec-WebSocket-Protocol"})}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.code,{children:"v1.bsatn.spacetimedb"})," or ",(0,r.jsx)(s.code,{children:"v1.json.spacetimedb"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Connection"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Updgrade"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Upgrade"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"websocket"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Sec-WebSocket-Version"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"13"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Sec-WebSocket-Key"})}),(0,r.jsx)(s.td,{children:"A 16-byte value, generated randomly by the client, encoded as Base64."})]})]})]}),"\n",(0,r.jsxs)(s.p,{children:["The SpacetimeDB binary WebSocket protocol, ",(0,r.jsx)(s.code,{children:"v1.bsatn.spacetimedb"}),", encodes messages as well as reducer and row data using ",(0,r.jsx)(s.a,{href:"/bsatn",children:"BSATN"}),".\nIts messages are defined ",(0,r.jsx)(s.a,{href:"https://github.com/clockworklabs/SpacetimeDB/blob/master/crates/client-api-messages/src/websocket.rs",children:"here"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["The SpacetimeDB text WebSocket protocol, ",(0,r.jsx)(s.code,{children:"v1.json.spacetimedb"}),", encodes messages according to the ",(0,r.jsx)(s.a,{href:"/sats-json",children:"SATS-JSON format"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"optional-headers",children:"Optional Headers"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Authorization"})}),(0,r.jsxs)(s.td,{children:["A Spacetime token ",(0,r.jsx)(s.a,{href:"/http/authorization#authorization-headers",children:"as Bearer auth"}),"."]})]})})]}),"\n",(0,r.jsx)(s.h2,{id:"post-v1databasename_or_identitycallreducer",children:(0,r.jsx)(s.code,{children:"POST /v1/database/:name_or_identity/call/:reducer"})}),"\n",(0,r.jsx)(s.p,{children:"Invoke a reducer in a database."}),"\n",(0,r.jsx)(s.h4,{id:"path-parameters",children:"Path parameters"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:":reducer"})}),(0,r.jsx)(s.td,{children:"The name of the reducer."})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"required-headers-6",children:"Required Headers"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Authorization"})}),(0,r.jsxs)(s.td,{children:["A Spacetime token ",(0,r.jsx)(s.a,{href:"/http/authorization#authorization-headers",children:"as Bearer auth"}),"."]})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"data-4",children:"Data"}),"\n",(0,r.jsx)(s.p,{children:"A JSON array of arguments to the reducer."}),"\n",(0,r.jsx)(s.h2,{id:"get-v1databasename_or_identityschema",children:(0,r.jsx)(s.code,{children:"GET /v1/database/:name_or_identity/schema"})}),"\n",(0,r.jsx)(s.p,{children:"Get a schema for a database."}),"\n",(0,r.jsxs)(s.p,{children:["Accessible through the CLI as ",(0,r.jsx)(s.code,{children:"spacetime describe <name_or_identity>"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"query-parameters-1",children:"Query Parameters"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"version"})}),(0,r.jsxs)(s.td,{children:["The version of ",(0,r.jsx)(s.code,{children:"RawModuleDef"})," to return, e.g. 9."]})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"returns-7",children:"Returns"}),"\n",(0,r.jsxs)(s.p,{children:["Returns a ",(0,r.jsx)(s.code,{children:"RawModuleDef"})," in JSON form."]}),"\n",(0,r.jsxs)(l,{children:[(0,r.jsxs)("summary",{children:["Example response from ",(0,r.jsx)(s.code,{children:"/schema?version=9"})," for the default module generated by ",(0,r.jsx)(s.code,{children:"spacetime init"})]}),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"typespace"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"types"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ["})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      {"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"Product"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'          "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"elements"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ["})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            {"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'              "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'                "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"some"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"              },"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'              "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"algebraic_type"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'                "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"String"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"              }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"          ]"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    ]"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  },"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"tables"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ["})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"person"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"product_type_ref"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" 0"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"primary_key"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" [],"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"indexes"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" [],"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"constraints"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" [],"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"sequences"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" [],"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"schedule"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"none"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      },"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"table_type"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"User"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      },"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"table_access"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"Private"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  ],"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"reducers"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ["})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"add"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"params"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"elements"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ["})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"          {"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'            "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'              "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"some"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            },"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'            "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"algebraic_type"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'              "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"String"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"            }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"          }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        ]"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      },"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"lifecycle"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"none"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    },"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"identity_connected"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"params"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"elements"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      },"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"lifecycle"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"some"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'          "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"OnConnect"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    },"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"identity_disconnected"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"params"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"elements"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      },"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"lifecycle"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"some"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'          "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"OnDisconnect"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    },"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"init"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"params"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"elements"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      },"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"lifecycle"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"some"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'          "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"Init"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"        }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    },"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"say_hello"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"params"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"elements"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      },"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"lifecycle"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"none"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  ],"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"types"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" ["})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    {"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" {"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"scope"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" [],"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'        "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"name"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:' "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"Person"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"      },"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"ty"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" 0"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'      "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"custom_ordering"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#BD93F9"},children:" true"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"    }"})}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"  ],"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"misc_exports"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" [],"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'  "'}),(0,r.jsx)(s.span,{style:{color:"#8BE9FD"},children:"row_level_security"}),(0,r.jsx)(s.span,{style:{color:"#8BE9FE"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#FF79C6"},children:":"}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:" []"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})})]}),"\n",(0,r.jsx)(s.h2,{id:"get-v1databasename_or_identitylogs",children:(0,r.jsx)(s.code,{children:"GET /v1/database/:name_or_identity/logs"})}),"\n",(0,r.jsx)(s.p,{children:"Retrieve logs from a database."}),"\n",(0,r.jsxs)(s.p,{children:["Accessible through the CLI as ",(0,r.jsx)(s.code,{children:"spacetime logs <name_or_identity>"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"query-parameters-2",children:"Query Parameters"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"num_lines"})}),(0,r.jsx)(s.td,{children:"Number of most-recent log lines to retrieve."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"follow"})}),(0,r.jsx)(s.td,{children:"A boolean; whether to continue receiving new logs via a stream."})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"required-headers-7",children:"Required Headers"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Authorization"})}),(0,r.jsxs)(s.td,{children:["A Spacetime token ",(0,r.jsx)(s.a,{href:"/http/authorization#authorization-headers",children:"as Bearer auth"}),"."]})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"returns-8",children:"Returns"}),"\n",(0,r.jsxs)(s.p,{children:["Text, or streaming text if ",(0,r.jsx)(s.code,{children:"follow"})," is supplied, containing log lines."]}),"\n",(0,r.jsx)(s.h2,{id:"post-v1databasename_or_identitysql",children:(0,r.jsx)(s.code,{children:"POST /v1/database/:name_or_identity/sql"})}),"\n",(0,r.jsx)(s.p,{children:"Run a SQL query against a database."}),"\n",(0,r.jsxs)(s.p,{children:["Accessible through the CLI as ",(0,r.jsx)(s.code,{children:"spacetime sql <name_or_identity> <query>"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"required-headers-8",children:"Required Headers"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Name"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsx)(s.tbody,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"Authorization"})}),(0,r.jsxs)(s.td,{children:["A Spacetime token ",(0,r.jsx)(s.a,{href:"/http/authorization#authorization-headers",children:"as Bearer auth"}),"."]})]})})]}),"\n",(0,r.jsx)(s.h4,{id:"data-5",children:"Data"}),"\n",(0,r.jsxs)(s.p,{children:["SQL queries, separated by ",(0,r.jsx)(s.code,{children:";"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"returns-9",children:"Returns"}),"\n",(0,r.jsx)(s.p,{children:"Returns a JSON array of statement results, each of which takes the form:"}),"\n",(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(s.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,r.jsxs)(s.code,{children:[(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"{"})}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"schema"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": ProductType,"})]}),"\n",(0,r.jsxs)(s.span,{className:"line",children:[(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'    "'}),(0,r.jsx)(s.span,{style:{color:"#F1FA8C"},children:"rows"}),(0,r.jsx)(s.span,{style:{color:"#E9F284"},children:'"'}),(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:": array"})]}),"\n",(0,r.jsx)(s.span,{className:"line",children:(0,r.jsx)(s.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"schema"})," will be a ",(0,r.jsxs)(s.a,{href:"/sats-json",children:["JSON-encoded ",(0,r.jsx)(s.code,{children:"ProductType"})]})," describing the type of the returned rows."]}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"rows"})," will be an array of ",(0,r.jsxs)(s.a,{href:"/sats-json",children:["JSON-encoded ",(0,r.jsx)(s.code,{children:"ProductValue"}),"s"]}),", each of which conforms to the ",(0,r.jsx)(s.code,{children:"schema"}),"."]})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);