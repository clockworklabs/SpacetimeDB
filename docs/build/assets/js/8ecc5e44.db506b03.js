"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7126],{6119:(s,e,l)=>{l.d(e,{R:()=>a,x:()=>i});var n=l(3303);const c={},r=n.createContext(c);function a(s){const e=n.useContext(r);return n.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function i(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(c):s.components||c:a(s.components),n.createElement(r.Provider,{value:e},s.children)}},8574:(s,e,l)=>{l.r(e),l.d(e,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"Internals/Module ABI Reference","title":"Module ABI Reference","description":"This document specifies the low level details of module-host interactions (\\"Module ABI\\"). **Most users** looking to interact with the host will want to use derived and higher level functionality like bindings], #[spacetimedb(table)], and #[derive(SpacetimeType)] rather than this low level ABI. For more on those, read the [Rust module quick start guide and the Rust module reference.","source":"@site/docs/14-Internals/01-Module ABI Reference.md","sourceDirName":"14-Internals","slug":"/webassembly-abi","permalink":"/webassembly-abi","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"slug":"/webassembly-abi"},"sidebar":"sidebar","previous":{"title":"/v1/database","permalink":"/http/database"},"next":{"title":"SATS-JSON Data Format","permalink":"/sats-json"}}');var c=l(7711),r=l(6119);const a={slug:"/webassembly-abi"},i="Module ABI Reference",o={},t=[{value:"General notes",id:"general-notes",level:2},{value:"Logging",id:"logging",level:2},{value:"Buffer handling",id:"buffer-handling",level:2},{value:"Reducer scheduling",id:"reducer-scheduling",level:2},{value:"Altering tables",id:"altering-tables",level:2},{value:"Inserting and deleting rows",id:"inserting-and-deleting-rows",level:2},{value:"Querying tables",id:"querying-tables",level:2},{value:"Appendix, <code>bindings.h</code>",id:"appendix-bindingsh",level:2}];function d(s){const e={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",span:"span",strong:"strong",ul:"ul",...(0,r.R)(),...s.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(e.header,{children:(0,c.jsx)(e.h1,{id:"module-abi-reference",children:"Module ABI Reference"})}),"\n",(0,c.jsxs)(e.p,{children:["This document specifies the ",(0,c.jsx)(e.em,{children:"low level details"})," of module-host interactions (",(0,c.jsx)(e.em,{children:'"Module ABI"'}),"). ",(0,c.jsx)(e.em,{children:(0,c.jsx)(e.strong,{children:"Most users"})})," looking to interact with the host will want to use derived and higher level functionality like ",(0,c.jsx)(e.a,{href:"https://github.com/clockworklabs/SpacetimeDB/blob/master/crates/bindings/src/lib.rs",children:(0,c.jsx)(e.code,{children:"bindings"})}),", ",(0,c.jsx)(e.code,{children:"#[spacetimedb(table)]"}),", and ",(0,c.jsx)(e.code,{children:"#[derive(SpacetimeType)]"})," rather than this low level ABI. For more on those, read the ",(0,c.jsx)(e.a,{href:"/modules/rust/quickstart",children:"Rust module quick start"})," guide and the ",(0,c.jsx)(e.a,{href:"/modules/rust",children:"Rust module reference"}),"."]}),"\n",(0,c.jsxs)(e.p,{children:["The Module ABI is defined in ",(0,c.jsx)(e.a,{href:"https://github.com/clockworklabs/SpacetimeDB/blob/master/crates/bindings-sys/src/lib.rs#L44-L215",children:(0,c.jsx)(e.code,{children:"bindings_sys::raw"})})," and is used by modules to interact with their host and perform various operations like:"]}),"\n",(0,c.jsxs)(e.ul,{children:["\n",(0,c.jsx)(e.li,{children:"logging,"}),"\n",(0,c.jsx)(e.li,{children:"transporting data,"}),"\n",(0,c.jsx)(e.li,{children:"scheduling reducers,"}),"\n",(0,c.jsx)(e.li,{children:"altering tables,"}),"\n",(0,c.jsx)(e.li,{children:"inserting and deleting rows,"}),"\n",(0,c.jsx)(e.li,{children:"querying tables."}),"\n"]}),"\n",(0,c.jsx)(e.p,{children:"In the next few sections, we'll define the functions that make up the ABI and what these functions do."}),"\n",(0,c.jsx)(e.h2,{id:"general-notes",children:"General notes"}),"\n",(0,c.jsxs)(e.p,{children:["The functions in this ABI all use the ",(0,c.jsxs)(e.a,{href:"https://github.com/WebAssembly/tool-conventions/blob/main/BasicCABI.md",children:[(0,c.jsx)(e.code,{children:"C"})," ABI on the ",(0,c.jsx)(e.code,{children:"wasm32"})," platform"]}),". They are specified in a Rust ",(0,c.jsx)(e.code,{children:'extern "C" { .. }'})," block. For those more familiar with the ",(0,c.jsx)(e.code,{children:"C"})," notation, an ",(0,c.jsx)(e.a,{href:"#appendix-bindingsh",children:"appendix"})," is provided with equivalent definitions as would occur in a ",(0,c.jsx)(e.code,{children:".h"})," file."]}),"\n",(0,c.jsxs)(e.p,{children:["Many functions in the ABI take in- or out-pointers, e.g. ",(0,c.jsx)(e.code,{children:"*const u8"})," and ",(0,c.jsx)(e.code,{children:"*mut u8"}),". The WASM host itself does not have undefined behavior. However, what WASM does not consider a memory access violation could be one according to some other language's abstract machine. For example, running the following on a WASM host would violate Rust's rules around writing across allocations:"]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(e.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(e.code,{children:[(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" main"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"() {"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    let"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" mut"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" bytes "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" ["}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:"0"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"; "}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:"12"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"];"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    let"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" other_bytes "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"="}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" ["}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:"0"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"; "}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:"4"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"];"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    unsafe"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" { "}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"ffi_func_with_out_ptr_and_len"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"&mut"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" bytes "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"as"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *mut"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:", "}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:"16"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"); }"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"    assert_eq!"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(other_bytes, ["}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:"0"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"; "}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:"4"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"]);"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"}"})})]})})}),"\n",(0,c.jsx)(e.p,{children:"When we note in this reference that traps occur or errors are returned on memory access violations, we only mean those that WASM can directly detected, and not cases like the one above."}),"\n",(0,c.jsx)(e.p,{children:"Should memory access violations occur, such as a buffer overrun, undefined behavior will never result, as it does not exist in WASM. However, in many cases, an error code will result."}),"\n",(0,c.jsxs)(e.p,{children:["Some functions will treat UTF-8 strings ",(0,c.jsx)(e.em,{children:"lossily"}),". That is, if the slice identified by a ",(0,c.jsx)(e.code,{children:"(ptr, len)"})," contains non-UTF-8 bytes, these bytes will be replaced with ",(0,c.jsx)(e.code,{children:"\ufffd"})," in the read string."]}),"\n",(0,c.jsxs)(e.p,{children:["Most functions return a ",(0,c.jsx)(e.code,{children:"u16"})," value. This is how these functions indicate an error where a ",(0,c.jsx)(e.code,{children:"0"})," value means that there were no errors. Such functions will instead return any data they need to through out pointers."]}),"\n",(0,c.jsx)(e.h2,{id:"logging",children:"Logging"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(e.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(e.code,{children:[(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The error log level."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"const"}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" LOG_LEVEL_ERROR"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" 0"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The warn log level."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"const"}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" LOG_LEVEL_WARN"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" 1"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The info log level."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"const"}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" LOG_LEVEL_INFO"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" 2"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The debug log level."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"const"}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" LOG_LEVEL_DEBUG"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" 3"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The trace log level."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"const"}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" LOG_LEVEL_TRACE"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" 4"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The panic log level."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// A panic level is emitted just before"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// a fatal error causes the WASM module to trap."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"const"}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" LOG_LEVEL_PANIC"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" ="}),(0,c.jsx)(e.span,{style:{color:"#BD93F9"},children:" 101"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Log at `level` a `text` message occuring in `filename:line_number`"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// with `target` being the module path at the `log!` invocation site."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// These various pointers are interpreted lossily as UTF-8 strings."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The data pointed to are copied. Ownership does not transfer."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// See https://docs.rs/log/latest/log/struct.Record.html#method.target"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// for more info on `target`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Calls to the function cannot fail"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// irrespective of memory access violations."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// If they occur, no message is logged."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _console_log"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The level we're logging at."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // One of the `LOG_*` constants above."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    level"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The module path, if any, associated with the message"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:'    // or to "blame" for the reason we\'re logging.'})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    //"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // This is a pointer to a buffer holding an UTF-8 encoded string."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // When the pointer is `NULL`, `target` is ignored."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    target"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *const"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The length of the buffer pointed to by `text`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // Unused when `target` is `NULL`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    target_len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The file name, if any, associated with the message"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:'    // or to "blame" for the reason we\'re logging.'})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    //"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // This is a pointer to a buffer holding an UTF-8 encoded string."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // When the pointer is `NULL`, `filename` is ignored."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    filename"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *const"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The length of the buffer pointed to by `text`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // Unused when `filename` is `NULL`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    filename_len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The line number associated with the message"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:'    // or to "blame" for the reason we\'re logging.'})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    line_number"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u32"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // A pointer to a buffer holding an UTF-8 encoded message to log."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    text"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *const"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The length of the buffer pointed to by `text`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    text_len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})})]})})}),"\n",(0,c.jsx)(e.h2,{id:"buffer-handling",children:"Buffer handling"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(e.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(e.code,{children:[(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Returns the length of buffer `bufh` without"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// transferring ownership of the data into the function."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The `bufh` must have previously been allocating using `_buffer_alloc`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Traps if the buffer does not exist."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _buffer_len"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The buffer previously allocated using `_buffer_alloc`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // Ownership of the buffer is not taken."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    bufh"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ManuallyDrop"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"Buffer"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"->"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Consumes the buffer `bufh`,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// moving its contents to the WASM byte slice `(ptr, len)`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Returns an error if the buffer does not exist"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// or on any memory access violations associated with `(ptr, len)`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _buffer_consume"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The buffer to consume and move into `(ptr, len)`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // Ownership of the buffer and its contents are taken."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // That is, `bufh` won't be usable after this call."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    bufh"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Buffer"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // A WASM out pointer to write the contents of `bufh` to."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    ptr"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *mut"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The size of the buffer pointed to by `ptr`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // This size must match that of `bufh` or a trap will occur."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Creates a buffer of size `data_len` in the host environment."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The contents of the byte slice lasting `data_len` bytes"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// at the `data` WASM pointer are read"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// and written into the newly initialized buffer."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Traps on any memory access violations."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _buffer_alloc"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(data"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *const"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:", data_len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"->"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Buffer"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]})]})})}),"\n",(0,c.jsx)(e.h2,{id:"reducer-scheduling",children:"Reducer scheduling"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(e.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(e.code,{children:[(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Schedules a reducer to be called asynchronously at `time`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The reducer is named as the valid UTF-8 slice `(name, name_len)`,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// and is passed the slice `(args, args_len)` as its argument."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// A generated schedule id is assigned to the reducer."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// This id is written to the pointer `out`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Errors on any memory access violations,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// if `(name, name_len)` does not point to valid UTF-8,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// or if the `time` delay exceeds `64^6 - 1` milliseconds from now."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _schedule_reducer"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // A pointer to a buffer"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // with a valid UTF-8 string of `name_len` many bytes."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    name"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *const"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The number of bytes in the `name` buffer."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    name_len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // A pointer to a byte buffer of `args_len` many bytes."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    args"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *const"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The number of bytes in the `args` buffer."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    args_len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // When to call the reducer."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    time"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u64"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The schedule ID is written to this out pointer on a successful call."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    out"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *mut"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u64"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Unschedules a reducer"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// using the same `id` generated as when it was scheduled."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// This assumes that the reducer hasn't already been executed."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _cancel_reducer"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(id"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u64"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})]})]})})}),"\n",(0,c.jsx)(e.h2,{id:"altering-tables",children:"Altering tables"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(e.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(e.code,{children:[(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Creates an index with the name `index_name` and type `index_type`,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// on a product of the given columns in `col_ids`"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// in the table identified by `table_id`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Here `index_name` points to a UTF-8 slice in WASM memory"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// and `col_ids` points to a byte slice in WASM memory"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// with each element being a column."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Currently only single-column-indices are supported"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// and they may only be of the btree index type."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// In the former case, the function will panic,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// and in latter, an error is returned."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Returns an error on any memory access violations,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// if `(index_name, index_name_len)` is not valid UTF-8,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// or when a table with the provided `table_id` doesn't exist."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Traps if `index_type /= 0` or if `col_len /= 1`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _create_index"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // A pointer to a buffer holding an UTF-8 encoded index name."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    index_name"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *const"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The length of the buffer pointed to by `index_name`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    index_name_len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The ID of the table to create the index for."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    table_id"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u32"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The type of the index."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // Must be `0` currently, that is, a btree-index."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    index_type"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // A pointer to a buffer holding a byte slice"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // where each element is the position"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // of a column to include in the index."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    col_ids"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *const"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The length of the byte slice in `col_ids`. Must be `1`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    col_len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"->"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u16"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]})]})})}),"\n",(0,c.jsx)(e.h2,{id:"inserting-and-deleting-rows",children:"Inserting and deleting rows"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(e.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(e.code,{children:[(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Inserts a row into the table identified by `table_id`,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// where the row is read from the byte slice `row_ptr` in WASM memory,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// lasting `row_len` bytes."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Errors if there were unique constraint violations,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// if there were any memory access violations in associated with `row`,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// if the `table_id` doesn't identify a table,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// or if `(row, row_len)` doesn't decode from BSATN to a `ProductValue`"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// according to the `ProductType` that the table's schema specifies."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _insert"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The table to insert the row into."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The interpretation of `(row, row_len)` depends on this ID"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // as it's table schema determines how to decode the raw bytes."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    table_id"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u32"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // An in/out pointer to a byte buffer"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // holding the BSATN-encoded `ProductValue` row data to insert."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    //"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The pointer is written to with the inserted row re-encoded."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // This is due to auto-incrementing columns."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    row"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *mut"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The length of the buffer pointed to by `row`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    row_len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"->"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u16"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Deletes all rows in the table identified by `table_id`"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// where the column identified by `col_id` matches the byte string,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// in WASM memory, pointed to by `value`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Matching is defined by decoding of `value` to an `AlgebraicValue`"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// according to the column's schema and then `Ord for AlgebraicValue`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The number of rows deleted is written to the WASM pointer `out`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Errors if there were memory access violations"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// associated with `value` or `out`,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// if no columns were deleted,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// or if the column wasn't found."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _delete_by_col_eq"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The table to delete rows from."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    table_id"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u32"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The position of the column to match `(value, value_len)` against."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    col_id"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u32"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // A pointer to a byte buffer holding a BSATN-encoded `AlgebraicValue`"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // of the `AlgebraicType` that the table's schema specifies"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // for the column identified by `col_id`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    value"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *const"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The length of the buffer pointed to by `value`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    value_len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // An out pointer that the number of rows deleted is written to."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    out"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *mut"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u32"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"->"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u16"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]})]})})}),"\n",(0,c.jsx)(e.h2,{id:"querying-tables",children:"Querying tables"}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(e.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(e.code,{children:[(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Queries the `table_id` associated with the given (table) `name`"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// where `name` points to a UTF-8 slice"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// in WASM memory of `name_len` bytes."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The table id is written into the `out` pointer."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Errors on memory access violations associated with `name`"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// or if the table does not exist."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _get_table_id"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // A pointer to a buffer holding the name of the table"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // as a valid UTF-8 encoded string."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    name"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *const"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The length of the buffer pointed to by `name`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    name_len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // An out pointer to write the table ID to."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    out"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *mut"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u32"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"->"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u16"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Finds all rows in the table identified by `table_id`,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// where the row has a column, identified by `col_id`,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// with data matching the byte string,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// in WASM memory, pointed to at by `val`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Matching is defined by decoding of `value`"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// to an `AlgebraicValue` according to the column's schema"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// and then `Ord for AlgebraicValue`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The rows found are BSATN encoded and then concatenated."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The resulting byte string from the concatenation"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// is written to a fresh buffer"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// with the buffer's identifier written to the WASM pointer `out`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Errors if no table with `table_id` exists,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// if `col_id` does not identify a column of the table,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// if `(value, value_len)` cannot be decoded to an `AlgebraicValue`"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// typed at the `AlgebraicType` of the column,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// or if memory access violations occurred associated with `value` or `out`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _iter_by_col_eq"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // Identifies the table to find rows in."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    table_id"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u32"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The position of the column in the table"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // to match `(value, value_len)` against."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    col_id"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u32"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // A pointer to a byte buffer holding a BSATN encoded"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // value typed at the `AlgebraicType` of the column."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    value"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *const"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The length of the buffer pointed to by `value`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    value_len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // An out pointer to which the new buffer's id is written to."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    out"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *mut"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Buffer"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"->"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u16"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Starts iteration on each row, as bytes,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// of a table identified by `table_id`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The iterator is registered in the host environment"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// under an assigned index which is written to the `out` pointer provided."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Errors if the table doesn't exist"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// or if memory access violations occurred in association with `out`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _iter_start"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The ID of the table to start row iteration on."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    table_id"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u32"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // An out pointer to which an identifier"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // to the newly created buffer is written."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    out"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *mut"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" BufferIter"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"->"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u16"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Like [`_iter_start`], starts iteration on each row,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// as bytes, of a table identified by `table_id`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The rows are filtered through `filter`, which is read from WASM memory"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// and is encoded in the embedded language defined by `spacetimedb_lib::filter::Expr`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The iterator is registered in the host environment"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// under an assigned index which is written to the `out` pointer provided."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Errors if `table_id` doesn't identify a table,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// if `(filter, filter_len)` doesn't decode to a filter expression,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// or if there were memory access violations"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// in association with `filter` or `out`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _iter_start_filtered"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The ID of the table to start row iteration on."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    table_id"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u32"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // A pointer to a buffer holding an encoded filter expression."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    filter"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *const"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u8"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // The length of the buffer pointed to by `filter`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    filter_len"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" usize"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // An out pointer to which an identifier"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // to the newly created buffer is written."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    out"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *mut"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" BufferIter"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"->"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u16"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Advances the registered iterator with the index given by `iter_key`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// On success, the next element (the row as bytes) is written to a buffer."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The buffer's index is returned and written to the `out` pointer."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// If there are no elements left, an invalid buffer index is written to `out`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// On failure however, the error is returned."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Errors if `iter` does not identify a registered `BufferIter`,"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// or if there were memory access violations in association with `out`."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _iter_next"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // An identifier for the iterator buffer to advance."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // Ownership of the buffer nor the identifier is moved into the function."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    iter"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ManuallyDrop"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"BufferIter"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:">,"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // An out pointer to write the newly created buffer's identifier to."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    out"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *mut"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" Buffer"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"->"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u16"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Drops the entire registered iterator with the index given by `iter_key`."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// The iterator is effectively de-registered."})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"///"})}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"/// Returns an error if the iterator does not exist."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"fn"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _iter_drop"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#6272A4"},children:"    // An identifier for the iterator buffer to unregister / drop."})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    iter"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:":"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" ManuallyDrop"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"<"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:"BufferIter"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:">"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:") "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"->"}),(0,c.jsx)(e.span,{style:{color:"#8BE9FD",fontStyle:"italic"},children:" u16"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:";"})]})]})})}),"\n",(0,c.jsxs)(e.h2,{id:"appendix-bindingsh",children:["Appendix, ",(0,c.jsx)(e.code,{children:"bindings.h"})]}),"\n",(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(e.pre,{className:"shiki spacetime-dark",style:{backgroundColor:"var(--clockworklabs-code-background-color)",color:"#F8F8F2"},tabIndex:"0",children:(0,c.jsxs)(e.code,{children:[(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"#include"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" <"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"stdarg.h"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:">"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"#include"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" <"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"stdbool.h"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:">"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"#include"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" <"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"stddef.h"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:">"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"#include"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" <"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"stdint.h"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:">"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"#include"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:" <"}),(0,c.jsx)(e.span,{style:{color:"#F1FA8C"},children:"stdlib.h"}),(0,c.jsx)(e.span,{style:{color:"#E9F284"},children:">"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"typedef"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint32_t"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" Buffer;"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"typedef"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint32_t"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" BufferIter;"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"void"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _console_log"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" level"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"target"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" target_len"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"filename"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" filename_len"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint32_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" line_number"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"text"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" text_len"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"Buffer "}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:"_buffer_alloc"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"data"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" data_len"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"void"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _buffer_consume"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    Buffer "}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"bufh"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"into"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" len"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"size_t"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _buffer_len"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(Buffer "}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"bufh"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"void"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _schedule_reducer"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"name"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" name_len"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"args"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" args_len"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint64_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" time"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint64_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"out"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"void"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _cancel_reducer"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"uint64_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" id"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"uint16_t"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _create_index"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"index_name"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" index_name_len"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint32_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" table_id"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" index_type"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"col_ids"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" col_len"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"uint16_t"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _insert"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint32_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" table_id"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"row"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:" row_len"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"uint16_t"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _delete_by_col_eq"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint32_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" table_id"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint32_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" col_id"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"value"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" value_len"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint32_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"out"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsx)(e.span,{className:"line"}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"uint16_t"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _get_table_id"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"name"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" name_len"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint32_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"out"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"uint16_t"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _iter_by_col_eq"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint32_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" table_id"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint32_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" col_id"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"value"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" value_len"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    Buffer "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"*"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"out"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"uint16_t"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _iter_drop"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(BufferIter "}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"iter"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"uint16_t"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _iter_next"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"(BufferIter "}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"iter"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:", Buffer "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"*"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"out"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"uint16_t"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _iter_start"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"uint32_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" table_id"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:", BufferIter "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"*"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"out"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"uint16_t"}),(0,c.jsx)(e.span,{style:{color:"#50FA7B"},children:" _iter_start_filtered"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"("})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    uint32_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" table_id"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    const"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" uint8_t"}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:" *"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:"filter"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"    size_t"}),(0,c.jsx)(e.span,{style:{color:"#FFB86C",fontStyle:"italic"},children:" filter_len"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:","})]}),"\n",(0,c.jsxs)(e.span,{className:"line",children:[(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"    BufferIter "}),(0,c.jsx)(e.span,{style:{color:"#FF79C6"},children:"*"}),(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:"out"})]}),"\n",(0,c.jsx)(e.span,{className:"line",children:(0,c.jsx)(e.span,{style:{color:"#F8F8F2"},children:");"})})]})})})]})}function h(s={}){const{wrapper:e}={...(0,r.R)(),...s.components};return e?(0,c.jsx)(e,{...s,children:(0,c.jsx)(d,{...s})}):d(s)}}}]);