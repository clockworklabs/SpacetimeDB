// THIS FILE IS AUTOMATICALLY GENERATED BY SPACETIMEDB. EDITS TO THIS FILE
// WILL NOT BE SAVED. MODIFY TABLES IN YOUR MODULE SOURCE CODE INSTEAD.

// This was generated using spacetimedb cli version 1.10.0 (commit b6abd32bdd4feadebd1c33d5d53976cae8a3b038).

/* eslint-disable */
/* tslint:disable */
import {
  DbConnectionBuilder as __DbConnectionBuilder,
  DbConnectionImpl as __DbConnectionImpl,
  SubscriptionBuilderImpl as __SubscriptionBuilderImpl,
  TypeBuilder as __TypeBuilder,
  convertToAccessorMap as __convertToAccessorMap,
  procedureSchema as __procedureSchema,
  procedures as __procedures,
  reducerSchema as __reducerSchema,
  reducers as __reducers,
  schema as __schema,
  t as __t,
  table as __table,
  type AlgebraicTypeType as __AlgebraicTypeType,
  type DbConnectionConfig as __DbConnectionConfig,
  type ErrorContextInterface as __ErrorContextInterface,
  type Event as __Event,
  type EventContextInterface as __EventContextInterface,
  type Infer as __Infer,
  type ReducerEventContextInterface as __ReducerEventContextInterface,
  type RemoteModule as __RemoteModule,
  type SubscriptionEventContextInterface as __SubscriptionEventContextInterface,
} from 'spacetimedb';

// Import and reexport all reducer arg types
import IdentityConnected from './identity_connected_reducer';
export { IdentityConnected };
import IdentityDisconnected from './identity_disconnected_reducer';
export { IdentityDisconnected };
import SendMessage from './send_message_reducer';
export { SendMessage };
import SetName from './set_name_reducer';
export { SetName };

// Import and reexport all procedure arg types

// Import and reexport all table handle types
import MessageRow from './message_table';
export { MessageRow };
import UserRow from './user_table';
export { UserRow };

// Import and reexport all types
import Message from './message_type';
export { Message };
import User from './user_type';
export { User };

const tablesSchema = __schema(
  __table(
    {
      name: 'message',
      indexes: [],
      constraints: [],
    },
    MessageRow
  ),
  __table(
    {
      name: 'user',
      indexes: [
        { name: 'identity', algorithm: 'btree', columns: ['identity'] },
      ],
      constraints: [
        {
          name: 'user_identity_key',
          constraint: 'unique',
          columns: ['identity'],
        },
      ],
    },
    UserRow
  )
);

const reducersSchema = __reducers(
  __reducerSchema('send_message', SendMessage),
  __reducerSchema('set_name', SetName)
);

const proceduresSchema = __procedures();

const REMOTE_MODULE = {
  versionInfo: {
    cliVersion: '1.10.0' as const,
  },
  tables: tablesSchema.schemaType.tables,
  reducers: reducersSchema.reducersType.reducers,
  ...proceduresSchema,
} satisfies __RemoteModule<
  typeof tablesSchema.schemaType,
  typeof reducersSchema.reducersType,
  typeof proceduresSchema
>;

export const tables = __convertToAccessorMap(tablesSchema.schemaType.tables);
export const reducers = __convertToAccessorMap(
  reducersSchema.reducersType.reducers
);

export type EventContext = __EventContextInterface<typeof REMOTE_MODULE>;
export type ReducerEventContext = __ReducerEventContextInterface<
  typeof REMOTE_MODULE
>;
export type SubscriptionEventContext = __SubscriptionEventContextInterface<
  typeof REMOTE_MODULE
>;
export type ErrorContext = __ErrorContextInterface<typeof REMOTE_MODULE>;

export class SubscriptionBuilder extends __SubscriptionBuilderImpl<
  typeof REMOTE_MODULE
> {}

export class DbConnectionBuilder extends __DbConnectionBuilder<DbConnection> {}

export class DbConnection extends __DbConnectionImpl<typeof REMOTE_MODULE> {
  static builder = (): DbConnectionBuilder => {
    return new DbConnectionBuilder(
      REMOTE_MODULE,
      (config: __DbConnectionConfig<typeof REMOTE_MODULE>) =>
        new DbConnection(config)
    );
  };
  subscriptionBuilder = (): SubscriptionBuilder => {
    return new SubscriptionBuilder(this);
  };
}
