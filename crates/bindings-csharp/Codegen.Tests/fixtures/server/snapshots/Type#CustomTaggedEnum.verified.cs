//HintName: CustomTaggedEnum.cs
// <auto-generated />
#nullable enable

partial record CustomTaggedEnum : System.IEquatable<CustomTaggedEnum>
{
    public sealed record IntVariant(int IntVariant_) : CustomTaggedEnum
    {
        public override string ToString() =>
            $"IntVariant({SpacetimeDB.BSATN.StringUtil.GenericToString(IntVariant_)})";
    }

    public sealed record StringVariant(string StringVariant_) : CustomTaggedEnum
    {
        public override string ToString() =>
            $"StringVariant({SpacetimeDB.BSATN.StringUtil.GenericToString(StringVariant_)})";
    }

    public sealed record NullableIntVariant(int? NullableIntVariant_) : CustomTaggedEnum
    {
        public override string ToString() =>
            $"NullableIntVariant({SpacetimeDB.BSATN.StringUtil.GenericToString(NullableIntVariant_)})";
    }

    public sealed record NullableStringVariant(string? NullableStringVariant_) : CustomTaggedEnum
    {
        public override string ToString() =>
            $"NullableStringVariant({SpacetimeDB.BSATN.StringUtil.GenericToString(NullableStringVariant_)})";
    }

    public readonly partial struct BSATN : SpacetimeDB.BSATN.IReadWrite<CustomTaggedEnum>
    {
        internal static readonly SpacetimeDB.BSATN.Enum<@enum> __enumTagRW = new();
        internal static readonly SpacetimeDB.BSATN.I32 IntVariantRW = new();
        internal static readonly SpacetimeDB.BSATN.String StringVariantRW = new();
        internal static readonly SpacetimeDB.BSATN.ValueOption<
            int,
            SpacetimeDB.BSATN.I32
        > NullableIntVariantRW = new();
        internal static readonly SpacetimeDB.BSATN.RefOption<
            string,
            SpacetimeDB.BSATN.String
        > NullableStringVariantRW = new();

        public CustomTaggedEnum Read(System.IO.BinaryReader reader) =>
            __enumTagRW.Read(reader) switch
            {
                @enum.IntVariant => new IntVariant(IntVariantRW.Read(reader)),
                @enum.StringVariant => new StringVariant(StringVariantRW.Read(reader)),
                @enum.NullableIntVariant
                    => new NullableIntVariant(NullableIntVariantRW.Read(reader)),
                @enum.NullableStringVariant
                    => new NullableStringVariant(NullableStringVariantRW.Read(reader)),
                _
                    => throw new System.InvalidOperationException(
                        "Invalid tag value, this state should be unreachable."
                    )
            };
        }

        public void Write(System.IO.BinaryWriter writer, CustomTaggedEnum value)
        {
            switch (value)
            {
                case IntVariant(var inner):
                    __enumTagRW.Write(writer, @enum.IntVariant);
                    IntVariantRW.Write(writer, inner);
                    break;
                case StringVariant(var inner):
                    __enumTagRW.Write(writer, @enum.StringVariant);
                    StringVariantRW.Write(writer, inner);
                    break;
                case NullableIntVariant(var inner):
                    __enumTagRW.Write(writer, @enum.NullableIntVariant);
                    NullableIntVariantRW.Write(writer, inner);
                    break;
                case NullableStringVariant(var inner):
                    __enumTagRW.Write(writer, @enum.NullableStringVariant);
                    NullableStringVariantRW.Write(writer, inner);
                    break;
            }
        }

        public SpacetimeDB.BSATN.AlgebraicType.Ref GetAlgebraicType(
            SpacetimeDB.BSATN.ITypeRegistrar registrar
        ) =>
            registrar.RegisterType<CustomTaggedEnum>(_ => new SpacetimeDB.BSATN.AlgebraicType.Sum(
                new SpacetimeDB.BSATN.AggregateElement[]
                {
                    new("IntVariant", IntVariantRW.GetAlgebraicType(registrar)),
                    new("StringVariant", StringVariantRW.GetAlgebraicType(registrar)),
                    new("NullableIntVariant", NullableIntVariantRW.GetAlgebraicType(registrar)),
                    new(
                        "NullableStringVariant",
                        NullableStringVariantRW.GetAlgebraicType(registrar)
                    )
                }
            ));

        SpacetimeDB.BSATN.AlgebraicType SpacetimeDB.BSATN.IReadWrite<CustomTaggedEnum>.GetAlgebraicType(
            SpacetimeDB.BSATN.ITypeRegistrar registrar
        ) => GetAlgebraicType(registrar);
    }

    public override int GetHashCode()
    {
        switch (this)
        {
            case IntVariant(var inner):
                var ___hashIntVariant = inner.GetHashCode();
                return ___hashIntVariant;
            case StringVariant(var inner):
                var ___hashStringVariant = inner == null ? 0 : inner.GetHashCode();
                return ___hashStringVariant;
            case NullableIntVariant(var inner):
                var ___hashNullableIntVariant = inner.GetHashCode();
                return ___hashNullableIntVariant;
            case NullableStringVariant(var inner):
                var ___hashNullableStringVariant = inner == null ? 0 : inner.GetHashCode();
                return ___hashNullableStringVariant;
            default:
                return 0;
        }
    }
} // CustomTaggedEnum
