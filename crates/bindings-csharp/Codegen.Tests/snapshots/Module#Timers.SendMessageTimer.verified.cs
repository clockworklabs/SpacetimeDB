//HintName: Timers.SendMessageTimer.cs

// <auto-generated />
#nullable enable

partial class Timers
{
    partial struct SendMessageTimer : SpacetimeDB.Internal.ITable<SendMessageTimer>
    {
        static bool SpacetimeDB.Internal.ITable<SendMessageTimer>.HasAutoIncFields => true;

        static SpacetimeDB.Internal.Module.TableDesc SpacetimeDB.Internal.ITable<SendMessageTimer>.MakeTableDesc(
            SpacetimeDB.BSATN.ITypeRegistrar registrar
        ) =>
            new(
                new(
                    nameof(SendMessageTimer),
                    new SpacetimeDB.Internal.Module.ColumnDefWithAttrs[]
                    {
                        new(
                            new(nameof(Text), BSATN.Text.GetAlgebraicType(registrar)),
                            SpacetimeDB.ColumnAttrs.UnSet
                        ),
                        new(
                            new(nameof(ScheduledId), BSATN.ScheduledId.GetAlgebraicType(registrar)),
                            SpacetimeDB.ColumnAttrs.PrimaryKeyAuto
                        ),
                        new(
                            new(nameof(ScheduledAt), BSATN.ScheduledAt.GetAlgebraicType(registrar)),
                            SpacetimeDB.ColumnAttrs.UnSet
                        )
                    },
                    false,
                    "SendScheduledMessage"
                ),
                (SpacetimeDB.BSATN.AlgebraicType.Ref)new BSATN().GetAlgebraicType(registrar)
            );

        static SpacetimeDB.Internal.Filter SpacetimeDB.Internal.ITable<SendMessageTimer>.CreateFilter() =>
            new(
                [
                    new(nameof(Text), (w, v) => BSATN.Text.Write(w, (string)v!)),
                    new(nameof(ScheduledId), (w, v) => BSATN.ScheduledId.Write(w, (ulong)v!)),
                    new(
                        nameof(ScheduledAt),
                        (w, v) => BSATN.ScheduledAt.Write(w, (SpacetimeDB.ScheduleAt)v!)
                    ),
                ]
            );

        public static IEnumerable<SendMessageTimer> Iter() =>
            SpacetimeDB.Internal.ITable<SendMessageTimer>.Iter();

        public static IEnumerable<SendMessageTimer> Query(
            System.Linq.Expressions.Expression<Func<SendMessageTimer, bool>> predicate
        ) => SpacetimeDB.Internal.ITable<SendMessageTimer>.Query(predicate);

        public void Insert() => SpacetimeDB.Internal.ITable<SendMessageTimer>.Insert(this);

        public static IEnumerable<SendMessageTimer> FilterByText(string Text) =>
            SpacetimeDB.Internal.ITable<SendMessageTimer>.ColEq.Where(0, Text, BSATN.Text).Iter();

        public static IEnumerable<SendMessageTimer> FilterByScheduledId(ulong ScheduledId) =>
            SpacetimeDB
                .Internal.ITable<SendMessageTimer>.ColEq.Where(1, ScheduledId, BSATN.ScheduledId)
                .Iter();

        public static SendMessageTimer? FindByScheduledId(ulong ScheduledId) =>
            FilterByScheduledId(ScheduledId).Cast<SendMessageTimer?>().SingleOrDefault();

        public static bool DeleteByScheduledId(ulong ScheduledId) =>
            SpacetimeDB
                .Internal.ITable<SendMessageTimer>.ColEq.Where(1, ScheduledId, BSATN.ScheduledId)
                .Delete();

        public static bool UpdateByScheduledId(ulong ScheduledId, SendMessageTimer @this) =>
            SpacetimeDB
                .Internal.ITable<SendMessageTimer>.ColEq.Where(1, ScheduledId, BSATN.ScheduledId)
                .Update(@this);
    } // SendMessageTimer
} // Timers
