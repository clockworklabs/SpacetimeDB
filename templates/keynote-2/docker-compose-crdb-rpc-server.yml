services:
  crdb-rpc:
    build:
      context: .
      dockerfile: Dockerfile.rpc
    command: ["pnpm", "tsx", "src/rpc-servers/cockroach-rpc-server.ts"]
    ports:
      - "5001:5001"
    environment:
      CRDB_URL: ${CRDB_URL}  # Point to remote CRDB cluster
      CRDB_RPC_PORT: "5001"
      SEED_ACCOUNTS: ${SEED_ACCOUNTS}
      SEED_INITIAL_BALANCE: ${SEED_INITIAL_BALANCE}

